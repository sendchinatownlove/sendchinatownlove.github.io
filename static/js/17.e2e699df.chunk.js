(this.webpackJsonpsendchinatownlove=this.webpackJsonpsendchinatownlove||[]).push([[17],{161:function(e,t,a){"use strict";function n(e){var t=new Date(e);return"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getUTCFullYear())}function r(e){var t=new Date(e.slice(0,e.length-5)),a="".concat(0===t.getHours()?12:t.getHours()>12?t.getHours()-12:t.getHours()),n=t.getMinutes()<10?"0".concat(t.getMinutes()):"".concat(t.getMinutes()),r="".concat(t.getHours()>=12?"PM":"AM");return"".concat(a,":").concat(n).concat(r)}function c(e){var t=new Date(e),a=(new Date).getTimezoneOffset()/60;return t.setHours(t.getHours()-a),t.toLocaleTimeString()}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(e/100)}a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return o}))},369:function(e,t,a){"use strict";var n=a(56),r=a(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(58)).default)(c.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.default=o},504:function(e,t,a){"use strict";var n=a(56),r=a(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(58)).default)(c.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.default=o},505:function(e,t,a){"use strict";var n=a(56),r=a(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(58)).default)(c.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.default=o},506:function(e,t,a){"use strict";var n=a(56),r=a(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(58)).default)(c.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.default=o},507:function(e,t,a){"use strict";var n=a(56),r=a(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(58)).default)(c.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");t.default=o},543:function(e,t,a){"use strict";a.r(t);var n,r,c,o,i=a(3),l=a(62),d=a(150),s=a.n(d),u=a(2),p=a(151),m=a(13),b=a(0),g=a.n(b),f=a(6),h=a(37),v=a(4),j=a(68),O=a(504),x=a.n(O),y=a(505),E=a.n(y),w=function(e){var t=e.pageCount,a=e.isLoading,n=Object(f.h)().search,r=new URLSearchParams(n).get("page")||"1",c="1"!==r,o=k(t,r);return g.a.createElement(z,null,c?g.a.createElement(h.a,{to:"/distributor/dashboard?page=".concat(parseInt(r)-1),component:M},g.a.createElement(L,null,g.a.createElement(x.a,{stroke:"var(--enabled)"}))):g.a.createElement(L,null,g.a.createElement(x.a,{stroke:"var(--disabled)"})),a?g.a.createElement(C,null,"Loading \u88c5\u8d27..."):g.a.createElement(C,null,"Page ".concat(r," out of ").concat(t," \u9875\u9762 ").concat(r,"/ ").concat(t)),o?g.a.createElement(h.a,{to:"/distributor/dashboard?page=".concat(parseInt(r)+1),component:M},g.a.createElement(L,null,g.a.createElement(E.a,{stroke:"var(--enabled)"}))):g.a.createElement(L,null,g.a.createElement(E.a,{stroke:"var(--disabled)"})))},k=function(e,t){var a=parseInt(t),n=parseInt(e);return a<n&&n>1},z=v.a.div(n||(n=Object(i.a)(["\n  --enabled: rgb(168, 25, 46);\n  --disabled: rgb(158, 158, 158);\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),M=v.a.a(r||(r=Object(i.a)(["\n  height: 24px;\n  font-size: 16px;\n"]))),C=v.a.p(c||(c=Object(i.a)(["\n  font-size: 18px;\n  margin: 0;\n"]))),L=v.a.div(o||(o=Object(i.a)(["\n  box-sizing: border-box;\n  font-size: 16px;\n  height: 24px;\n"]))),H=a(369),N=a.n(H),S=a(153),_=a(5),A=a(1),D=(a(8),a(28)),R=a(36);var P=b.createContext(),T=b.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.component,c=void 0===r?"table":r,o=e.padding,i=void 0===o?"default":o,l=e.size,d=void 0===l?"medium":l,s=e.stickyHeader,u=void 0!==s&&s,p=Object(_.a)(e,["classes","className","component","padding","size","stickyHeader"]),m=b.useMemo((function(){return{padding:i,size:d,stickyHeader:u}}),[i,d,u]);return b.createElement(P.Provider,{value:m},b.createElement(c,Object(A.a)({role:"table"===c?null:"table",ref:t,className:Object(D.a)(a.root,n,u&&a.stickyHeader)},p)))})),F=Object(R.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(A.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(T);var U,I,V,$,J,B,K,W,G,Y,q,Q,X,Z,ee,te,ae=b.createContext(),ne={variant:"body"},re=b.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.component,c=void 0===r?"tbody":r,o=Object(_.a)(e,["classes","className","component"]);return b.createElement(ae.Provider,{value:ne},b.createElement(c,Object(A.a)({className:Object(D.a)(a.root,n),ref:t,role:"tbody"===c?null:"rowgroup"},o)))})),ce=Object(R.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(re),oe={variant:"head"},ie=b.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.component,c=void 0===r?"thead":r,o=Object(_.a)(e,["classes","className","component"]);return b.createElement(ae.Provider,{value:oe},b.createElement(c,Object(A.a)({className:Object(D.a)(a.root,n),ref:t,role:"thead"===c?null:"rowgroup"},o)))})),le=Object(R.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(ie),de=a(40),se=b.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.component,c=void 0===r?"tr":r,o=e.hover,i=void 0!==o&&o,l=e.selected,d=void 0!==l&&l,s=Object(_.a)(e,["classes","className","component","hover","selected"]),u=b.useContext(ae);return b.createElement(c,Object(A.a)({ref:t,className:Object(D.a)(a.root,n,u&&{head:a.head,footer:a.footer}[u.variant],i&&a.hover,d&&a.selected),role:"tr"===c?null:"row"},s))})),ue=Object(R.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(de.b)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(se),pe=a(23),me=b.forwardRef((function(e,t){var a,n,r=e.align,c=void 0===r?"inherit":r,o=e.classes,i=e.className,l=e.component,d=e.padding,s=e.scope,u=e.size,p=e.sortDirection,m=e.variant,g=Object(_.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),f=b.useContext(P),h=b.useContext(ae),v=h&&"head"===h.variant;l?(n=l,a=v?"columnheader":"cell"):n=v?"th":"td";var j=s;!j&&v&&(j="col");var O=d||(f&&f.padding?f.padding:"default"),x=u||(f&&f.size?f.size:"medium"),y=m||h&&h.variant,E=null;return p&&(E="asc"===p?"ascending":"descending"),b.createElement(n,Object(A.a)({ref:t,className:Object(D.a)(o.root,o[y],i,"inherit"!==c&&o["align".concat(Object(pe.a)(c))],"default"!==O&&o["padding".concat(Object(pe.a)(O))],"medium"!==x&&o["size".concat(Object(pe.a)(x))],"head"===y&&f&&f.stickyHeader&&o.stickyHeader),"aria-sort":E,role:a,scope:j},g))})),be=Object(R.a)((function(e){return{root:Object(A.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(de.d)(Object(de.b)(e.palette.divider,1),.88):Object(de.a)(Object(de.b)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(me),ge=a(506),fe=a.n(ge),he=a(507),ve=a.n(he),je=a(161),Oe=[{name:"name",display_name:"Merchant Name \u7ed3\u4f59"},{name:"value",display_name:"Voucher Amount \u8d2d\u4e70\u91d1\u989d"},{name:"expiration",display_name:"Expiration Date \u8d2d\u4e70\u65e5\u671f"},{name:"seller_gift_card_id",display_name:"Voucher Code \u793c\u54c1\u5238\u53f7\u7801"}],xe=function(e){var t=e.sortFn,a=e.ind,n=e.setActive,r=e.activeCol,c=Object(b.useState)(!0),o=Object(m.a)(c,2),i=o[0],l=o[1],d=r===a;return g.a.createElement(ke,{type:"button",onClick:function(e){n(a),l(!i),t(a,i)},isActive:d?"active":"not-active"},i||!d?g.a.createElement(fe.a,null):g.a.createElement(ve.a,null))},ye=function(e){var t=e.fields,a=e.sortFn,n=Object(b.useState)(-1),r=Object(m.a)(n,2),c=r[0],o=r[1],i=function(e){return o(e)};return g.a.createElement(Me,null,g.a.createElement(Ce,null,t.map((function(e,t){var n=e.display_name,r=e.name;return g.a.createElement(Le,{key:r},n,g.a.createElement(xe,{ind:t,sortFn:a,setActive:i,activeCol:c}))}))))},Ee=function(e){var t=e.row,a=e.fields;return g.a.createElement(Ce,null,a.map((function(e){return g.a.createElement(Le,{key:e.name},"".concat("value"===e.name?Object(je.b)(t[e.name]):t[e.name]?t[e.name]:"N/A"))})))},we=function(e){var t=e.fields,a=e.data,n=e.sortFn;return g.a.createElement(g.a.Fragment,null,g.a.createElement(ze,null,g.a.createElement(ye,{fields:t,sortFn:n}),g.a.createElement(ce,null,a.length>0?a.map((function(e,a){return g.a.createElement(Ee,{row:e,key:"row-".concat(a),fields:t})})):null)))},ke=v.a.button(U||(U=Object(i.a)(["\n  background: none;\n  border: 1px;\n  --not-active: rgb(158, 158, 158);\n  --active: rgb(168, 25, 46);\n  ","\n"])),(function(e){var t=e.isActive;return"color: var(--".concat(t,")")})),ze=Object(v.a)(F)(I||(I=Object(i.a)(["\n  width: 100%;\n"]))),Me=Object(v.a)(le)(V||(V=Object(i.a)(["\n  background: rgb(247, 247, 247);\n  height: 92px;\n"]))),Ce=Object(v.a)(ue)($||($=Object(i.a)([""]))),Le=Object(v.a)(be)(J||(J=Object(i.a)(["\n  max-width: 150px;\n"]))),He=function(e,t){return function(a,n){var r=Object(l.a)(e).sort((function(e,r){var c=t[a].name;return e[c]>r[c]?n?-1:1:e[c]<r[c]?n?1:-1:0}));return console.log(r),r}},Ne=(t.default=function(){var e=Object(b.useState)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(b.useState)("1"),c=Object(m.a)(r,2),o=c[0],i=c[1],l=Object(f.h)().search,d=new URLSearchParams(l).get("page"),h=Object(b.useState)(!1),v=Object(m.a)(h,2),O=v[0],x=v[1],y=Object(b.useState)(void 0),E=Object(m.a)(y,2),k=E[0],z=E[1],M=Object(b.useState)(0),C=Object(m.a)(M,2),L=C[0],H=C[1],N=Object(b.useState)(0),_=Object(m.a)(N,2),A=_[0],D=_[1],R=Object(b.useState)((new Date).toLocaleString()),P=Object(m.a)(R,2),T=P[0],F=P[1];Object(b.useEffect)((function(){var e=function(){var e=Object(p.a)(s.a.mark((function e(){var t,a,r,c,o,l,p,m,b,g,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,Object(S.D)();case 3:if(t=e.sent,a=t.data,401!==t.status){e.next=8;break}return e.abrupt("return",x(!0));case 8:return r=a.count,c=a.sum,o=a.updated_at,e.next=11,Object(S.i)(d&&"1"!==d?d:"1");case 11:l=e.sent,p=l.data,m=p.gift_cards,b=p.seller_names,g=l.headers,i(g["total-pages"]),f=m.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:b[e.id]?b[e.id].en:""})})),z(f),H(r),D(c),F(o),n(!1);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k||e()}),[d,i,n,k]);return g.a.createElement(Ne,null,O&&g.a.createElement(f.a,{to:"/distributor/login"}),g.a.createElement(Se,null,g.a.createElement(_e,null,"Distributor Dashboard: Gift-a-Meal Tracker"),g.a.createElement(_e,null,"\u793c\u54c1\u5238\u8bb0\u5f55")),g.a.createElement(Te,null,g.a.createElement(Fe,{num:1},"# Active Vouchers \u53ef\u4f7f\u7528\u7684\u793c\u54c1\u5238\u6570\u91cf"),g.a.createElement(Fe,{num:2},"Total balance \u603b\u7ed3\u4f59"),g.a.createElement(Fe,{num:3},"Last Updated \u4e0a\u6b21\u66f4\u65b0\u65f6\u95f4"),g.a.createElement(Ue,{num:1},L),g.a.createElement(Ue,{num:2},Object(je.b)(A)),g.a.createElement(Ue,{num:3},"".concat(Object(je.a)(T)," ").concat(Object(je.d)(T)))),g.a.createElement(De,null,g.a.createElement(Pe,{to:"/distributor/print/vouchers"},g.a.createElement(Re,null),"Print All Vouchers")),g.a.createElement(Ae,null,g.a.createElement(we,{fields:Oe,data:k||[],sortFn:function(e,t){return z(He(k,Oe)(e,t))}}),a?g.a.createElement(Ie,null,"Loading..."):k?null:g.a.createElement(Ie,null,"No Vouchers To Load"),g.a.createElement(w,{pageCount:o,isLoading:a})),g.a.createElement(j.a,null))},v.a.main(B||(B=Object(i.a)(["\n  width: 100%;\n  min-height: 100%;\n"])))),Se=v.a.header(K||(K=Object(i.a)(["\n  width: 100%;\n  height: 246px;\n  background: rgb(168, 25, 46);\n  padding: 82px 0 0 120px;\n  box-sizing: border-box;\n"]))),_e=v.a.h1(W||(W=Object(i.a)(["\n  color: white;\n  font-size: 32px;\n  width: 672px;\n  font-weight: 700;\n  letter-spacing: -0.01em;\n  line-height: 46px;\n  margin: 0;\n"]))),Ae=v.a.article(G||(G=Object(i.a)(["\n  margin: 0 auto;\n  max-width: 950px;\n"]))),De=v.a.div(Y||(Y=Object(i.a)(["\n  height: 58px;\n  margin-bottom: 28px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  max-width: 950px;\n  margin: 0 auto 28px;\n"]))),Re=Object(v.a)(N.a)(q||(q=Object(i.a)(["\n  margin: 0 12px;\n"]))),Pe=Object(v.a)(h.a)(Q||(Q=Object(i.a)(["\n  border: 1.5px solid #a8192e;\n  border-radius: 50px;\n  color: rgb(168, 25, 46);\n  text-transform: uppercase;\n  padding: 18px 18px 18px 6px;\n  width: 300px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n\n  &:link {\n    text-decoration: none;\n  }\n\n  &:hover,\n  &:active {\n    background-color: #a8192e;\n    color: white;\n  }\n"]))),Te=v.a.section(X||(X=Object(i.a)(["\n  display: grid;\n  background: rgba(171, 25, 46, 0.07);\n  width: 100%;\n  height: 160px;\n  padding: 48px;\n  grid-template-rows: 25px 1fr;\n  grid-teplate-columns: 1fr 1fr 1fr;\n  grid-template-areas:\n    'heading1 heading2 heading3'\n    'val1 val2 val3';\n  justify-content: center;\n  grid-gap: 7px 192px;\n  margin-bottom: 26px;\n"]))),Fe=v.a.h2(Z||(Z=Object(i.a)(["\n  ","\n  font-family: Noto Sans SC, sans-serif;\n  text-transform: uppercase;\n  font-size: 16px;\n"])),(function(e){var t=e.num;return"grid-area: heading".concat(t," ;")})),Ue=v.a.p(ee||(ee=Object(i.a)(["\n  ","\n  text-transform: uppercase;\n  font-size: 24px;\n  font-weight: 700;\n"])),(function(e){var t=e.num;return"grid-area: val".concat(t," ;")})),Ie=v.a.p(te||(te=Object(i.a)(["\n  width: 100%;\n  text-align: center;\n  margin-top: 30px;\n"])))}}]);
//# sourceMappingURL=17.e2e699df.chunk.js.map