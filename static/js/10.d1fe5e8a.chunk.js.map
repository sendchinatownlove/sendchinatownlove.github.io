{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","utilities/api/index.ts","utilities/index.ts","components/ModalPayment/ModalBuyMeal/styles.module.scss","utilities/general/responsive.tsx","components/MerchantsPage/images/gam_icon_step1.svg","components/MerchantsPage/images/gam_icon_step2.svg","components/MerchantsPage/images/gam_icon_step3.svg","components/MerchantsPage/images/gam_icon_step4.svg","components/ModalPayment/ModalConfirmation/chinatown-logo.png","components/ModalPayment/styles.tsx","components/ModalPayment/ModalAmount/LanternForm.tsx","components/ModalPayment/ModalAmount/ModalAmount.tsx","components/ModalPayment/ModalBuyMeal/CamapignInstructions.tsx","components/ModalPayment/ModalBuyMeal/ModalBuyMealPool.tsx","components/ModalPayment/ModalCardDetails/SquareCardForm.tsx","components/ModalPayment/ModalCardDetails/SubmissionButton.tsx","components/ModalPayment/ModalCardDetails/ModalCardDetails.tsx","components/ModalPayment/ModalConfirmation/ModalConfirmation.tsx","components/ModalPayment/Modal.tsx","components/MerchantsPage/gam/styles.module.scss","components/MerchantsPage/images/illustrated_flatlay_hero.png","components/MerchantsPage/images/campaign_default.png","components/MerchantsPage/gam/CampaignInstructions.tsx","components/MerchantsPage/gam/CampaignProgressBar.tsx","components/MerchantsPage/gam/CampaignListItem.tsx","components/MerchantsPage/gam/MegaGamListItem.tsx","components/MerchantsPage/gam/NoCampaignsBox.tsx","components/MerchantsPage/gam/VideoComponent.tsx","components/MerchantsPage/gam/GiftAMealPage.tsx"],"names":["baseUrl","process","sellers","charges","vouchers","passportVouchers","contacts","sponsorSellers","getSellers","lang","a","axios","get","params","locale","localeFromLanguage","getSeller","id","getSellerHours","getSellerDeliveryOptions","makeSquarePayment","nonce","sellerId","payment","buyer","isDistribution","campaignId","projectId","metadata","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","project_id","is_distribution","campaign_id","headers","then","res","catch","err","getVoucher","updateVoucher","amount","put","getMerchantGiftCards","secret","filterGAM","filterGAMString","language","getCampaigns","getCampaignsForMerchant","getDistributor","getFiscalSponsor","getAllParticipatingSellers","getParticipatingMerchant","getParticipatingMerchantTickets","tickets_secret","page","items","printed","associated","getPassportEmailId","getContactInfo","passportId","createPassportEmailId","instagram","updatePassportInstagram","checkForValidTicket","ticket_id","updateTicketContactId","contact_id","getPassportTickets","getParticipatingSeller","getGiveawayTicketsForContact","contactId","sendRedeemTicketsEmail","getLocationById","locationId","getAllSponsors","getOneSponsor","rewardId","redeemReward","auth_token","tickets","createLyftReward","getLyftReward","redeemToken","token","getProject","light_up_chinatown_id","module","exports","phoneScreens","smallScreens","tabletScreens","Subheader","styled","div","RowFormat","props","width","mobileWidth","LabelText","label","InputText","input","LanternForm","t","useTranslation","useModalPaymentState","lucData","dispatch","useModalPaymentDispatch","React","useState","showAddress","setShowAddress","subHeader","LIGHT_UP_CHINATOWN_TIER_3_MIN","subText","limit","LIGHT_UP_CHINATOWN_TIER_2_MIN","handleOnChange","e","preventDefault","type","ModalPaymentConstants","SET_LUC_DATA","payload","key","target","value","toString","handleAddress","shouldShowAddress","CLEAR_ADDRESS","AmountContainer","SingleRowFormat","htmlFor","className","onChange","placeholder","firstName","middleInitial","lastName","TextTrigger","onClick","address","NameRow","fullName","city","StateZipRow","state","zipCode","button","Modal","modalView","isCustomAmount","setIsCustomAmount","selected","setSelected","handleAmount","customAmount","text","SET_AMOUNT","buttonAmounts","ModalPaymentTypes","modalPages","light_up_chinatown","map","x","ContentContainer","data-testid","Header","purchaseType","sellerName","donation","seller","gift_card","getHeaderText","SelectAmtContainer","CustomAmountContainer","CustomAmountInput","onFocus","onKeyDown","evt","min","max","Number","ErrorMessage","NextButton","ReactPixel","trackCustom","SET_MODAL_VIEW","card_details","disabled","test","form","CampaignInstructions","styles","modalBackground","modalInstructionsGrid","gam_icon_step1","gam_icon_step2","gam_icon_step3","gam_icon_step4","idx","step","icon","generateStep","modalStepGrid","src","alt","modalStepText","uppercase","bold","numberOfMeals","setNumberOfMeals","campaignDistributor","setCampaignDistributor","valueInt","parseInt","isNaN","totalMealPrice","costPerMeal","String","totalAmount","useEffect","fetchData","data","distributor_id","distrib","Distributor","href","website_url","rel","link","header","description","amountContainer","selectAmtContainer","selectAmt","classnames","customAmt","separator","total","nextBtn","SquareCardForm","SquareCardRow","SquareCardItem","SubmissionButton","canSubmit","context","useContext","Context","submittable","onCreateNonce","ModalCardDetails","applicationId","nonProfitLocationId","uuid","isTermsChecked","setTermsChecked","isSubscriptionChecked","setSubscriptionChecked","setName","setEmail","errorMessages","setErrorsMessages","setCanSubmit","buy_meal","mealText","numberOfMealsText","length","EMAIL_REGEX","purchaseTypeHeader","PaymentContainer","pattern","source","required","SquareFormContainer","sandbox","cardNonceResponseReceived","errors","times","currency","item_type","quantity","purchaseTypeToItemType","JSON","stringify","status","confirmation","response","responseErrors","message","code","detail","newErrors","error","hasKey","SquareErrors","formId","apiWrapper","errorMessage","donation_pool","setDetailsText","purchaseTypeMessage","BoldText","substring","toUpperCase","CheckboxContainer","Checkbox","inputProps","checked","Disclaimer","setDisclaimerLanguage","ButtonRow","BackButton","span","ModalConfirmation","closeModal","UPDATE_SELLER_DATA","amount_raised","CLOSE_MODAL","undefined","Container","confirmationText","ThankYouImage","confirmationPic","FinishButton","img","ModalContainer","CloseButtonContainer","CloseButton","ViewContainer","ModalAmount","renderModalPage","background","instructionsGrid","stepGrid","stepText","CampaignProgressBar","raised","isActive","numContributions","targetAmount","progressBarColor","lastContributionTime","endDate","progressPercent","Math","floor","timeUntilEnd","getTime","Date","now","daysUntilEnd","timeSinceLastContribution","ProgressBarContainer","TimeStamp","minutesSinceLastConstribution","hoursSinceLastContribution","daysSinceLastContribution","lastContributionTimeAsPresentable","TargetAmountBar","CurrentProgressBar","style","backgroundColor","ProgressTextContainer","color","ceil","ModalBox","CampaignListItem","distributor","setDistributor","merchant","setMerchant","fiscalSponsor","setFiscalSponsor","campaign","distributorData","merchantData","nonprofit_id","mealsRaised","price_per_meal","targetMeals","target_amount","campaignImageUrls","gallery_image_urls","Fragment","ColumnContainer","CampaignImageContainer","CampaignImage","campaignDefaultImage","locations","Location","Name","Description","active","last_contribution","end_date","ImagesContainer","DistributorImage","image_url","Button","window","location","event","setSelectedCampaignId","selectedCampaignId","non_profit_location_id","FiscalSponsorContainer","FiscalSponsorImage","logo_image_url","FiscalSponsorDivider","FiscalSponsorText","sponsorName","Border","HeroImage","heroImageUrl","Content","DonationContainer","DonationContent","SellerDistributorContent","LearnMoreText","SellerDistributorPairs","MegaGamListItem","NoActiveCampaignsBox","NoCampaignBox","TextContainer","Heading","SubHeading","open","p","VideoComponent","videoId","size","height","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","opts","playerVars","autoplay","GiftAMealPage","activeCampaigns","setActiveCampaigns","pastCampaigns","setPastCampaigns","campaignResponse","activeMegaGam","past","forEach","push","valid","concat","reverse","container","display","menuOpen","illustrated_flatlay_hero","hero","headerText","fontWeight","backButton","videoContainer","videoDescription","campaignHeader"],"mappings":"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","file":"static/js/10.d1fe5e8a.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\nexport const vouchers = baseUrl + 'gift_cards/';\nexport const campaigns = baseUrl + 'campaigns/';\nexport const distributors = baseUrl + 'distributors/';\nexport const nonprofits = baseUrl + 'nonprofits/';\nexport const passportVouchers = baseUrl + 'participating_sellers/';\nexport const contacts = baseUrl + 'contacts/';\nexport const tickets = baseUrl + 'tickets/';\nexport const participatingSellers = baseUrl + 'participating_sellers/';\nexport const sponsorSellers = baseUrl + 'sponsor_sellers/';\nexport const locations = baseUrl + 'locations/';\nexport const lyftRewards = 'lyft_rewards/';\nexport const projects = baseUrl + 'projects/';\n","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquareLineItems } from './types';\nimport {\n  charges,\n  sellers,\n  vouchers,\n  campaigns,\n  distributors,\n  passportVouchers,\n  contacts,\n  tickets,\n  participatingSellers,\n  sponsorSellers,\n  locations,\n  lyftRewards,\n  nonprofits,\n  projects,\n} from './endpoints';\n\n// Fix return typing\nexport const getSellers = async (lang?: string): Promise<any> => {\n  return await axios.get(sellers, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSeller = async (id: string, lang?: string): Promise<any> => {\n  return await axios.get(sellers + id, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSellerHours = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/open_hour');\n};\n\nexport const getSellerDeliveryOptions = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/delivery_options');\n};\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquareLineItems,\n  buyer: Buyer,\n  isDistribution: boolean,\n  campaignId?: string,\n  projectId?: string,\n  metadata?: string | null\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: payment,\n        email,\n        name,\n        seller_id: sellerId,\n        project_id: projectId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n        is_distribution: isDistribution, // TODO: deprecate this in favor of campaignId\n        campaign_id: campaignId,\n        metadata: metadata,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport const getVoucher = async (id: string) =>\n  axios\n    .get(vouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateVoucher = async (id: string, amount: number) =>\n  axios\n    .put(vouchers + id, { amount })\n    .then((res) => res)\n    .catch((err) => {\n      throw err;\n    });\n\nexport const getMerchantGiftCards = async (\n  seller_id: string,\n  secret: string,\n  filterGAM: boolean = false\n) => {\n  const filterGAMString = filterGAM ? '?filterGAM=true' : ''; // if the key is present at all, filtering will happen\n  return axios\n    .get(sellers + seller_id + '/gift_cards/' + secret + filterGAMString)\n    .then((res) => res); // don't catch error, throw it up the stack\n};\n\nfunction localeFromLanguage(language?: string) {\n  switch (language) {\n    case 'cn':\n      return 'zh-CN';\n    case 'en':\n    default:\n      return 'en';\n  }\n}\n\nexport const getCampaigns = async (): Promise<any> => {\n  return await axios\n    .get(campaigns)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getCampaignsForMerchant = async (\n  seller_id: string\n): Promise<any> => {\n  return await axios\n    .get(sellers + seller_id + '/campaigns')\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getDistributor = async (id: string): Promise<any> => {\n  return await axios\n    .get(distributors + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getFiscalSponsor = async (id: string): Promise<any> => {\n  return await axios\n    .get(nonprofits + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getAllParticipatingSellers = async (): Promise<any> =>\n  axios\n    .get(passportVouchers)\n    .then((res) => res)\n    .catch((err) => err);\n\n// for passport crawl voucher print outs\nexport const getParticipatingMerchant = async (id: string) =>\n  axios\n    .get(passportVouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingMerchantTickets = async (\n  id: string,\n  tickets_secret: string,\n  page: number | null,\n  items: number | null,\n  printed: boolean | null,\n  associated: boolean | null\n) =>\n  axios\n    .get(passportVouchers + id + '/tickets/' + tickets_secret, {\n      params: { page, items, printed, associated },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\n// validate passport email\nexport const getPassportEmailId = async (email: string) =>\n  axios\n    .get(contacts, {\n      params: { email },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getContactInfo = async (passportId: string) =>\n  axios\n    .get(contacts + passportId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createPassportEmailId = async (\n  email: string,\n  instagram: string\n) => {\n  let params = {};\n\n  if (instagram) params = { email, instagram };\n  else params = { email };\n\n  return axios\n    .post(contacts, params)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const updatePassportInstagram = async (\n  id: string,\n  instagram: string\n) => {\n  return axios\n    .put(contacts + id, { instagram })\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const checkForValidTicket = async (ticket_id: string) =>\n  axios\n    .get(tickets + ticket_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateTicketContactId = async (\n  ticket_id: string,\n  contact_id: string\n) =>\n  axios\n    .put(tickets + ticket_id, { contact_id })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getPassportTickets = async (passportId: string) =>\n  axios\n    .get(contacts + passportId + '/tickets')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingSeller = async (sellerId: string) =>\n  axios\n    .get(participatingSellers + sellerId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getGiveawayTicketsForContact = async (contactId: string) =>\n  axios\n    .get(contacts + contactId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const sendRedeemTicketsEmail = async (passportId: string) =>\n  axios\n    .post(contacts + passportId + '/rewards')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLocationById = async (locationId: number) =>\n  axios\n    .get(locations + locationId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getAllSponsors = async () =>\n  axios\n    .get(sponsorSellers)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getOneSponsor = async (rewardId: number) =>\n  axios\n    .get(sponsorSellers + rewardId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemReward = async (\n  contact_id: number,\n  auth_token: string,\n  tickets: Array<any>\n) =>\n  axios\n    .put(contacts + contact_id + '/tickets/' + auth_token, { tickets })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createLyftReward = async (contact_id: number) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLyftReward = async (contact_id: number) =>\n  axios\n    .get(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemToken = async (contact_id: number, token: string) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards + token + '/redeem/')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getProject = async (project_id: number) =>\n  axios\n    .get(projects + project_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const light_up_chinatown_id = 1;\n","export * from './types';\nexport * from './interactionManager';\n","export * from './api';\nexport * from './hooks';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__3neNl\",\"button--red-filled\":\"styles_button--red-filled__qhaeb\",\"button--outlined\":\"styles_button--outlined__C9qVy\",\"button--redfilled\":\"styles_button--redfilled__j93Vx\",\"button--red-outlined\":\"styles_button--red-outlined__BP6_R\",\"modalButton--back\":\"styles_modalButton--back__3be13\",\"modalButton--outlined\":\"styles_modalButton--outlined__1h_dc\",\"modalButton--filled\":\"styles_modalButton--filled__3zqCG\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__36LqE\",\"modalButton--selected\":\"styles_modalButton--selected__2KXrT\",\"modalButton--outline\":\"styles_modalButton--outline__3LBH5\",\"closeButton--close\":\"styles_closeButton--close__tmfor\",\"modalForm--form\":\"styles_modalForm--form__3qf9o\",\"modalInput--input\":\"styles_modalInput--input__1Zp5y\",\"filterable-table-container\":\"styles_filterable-table-container__3J-A5\",\"header-row\":\"styles_header-row__1YnNs\",\"filter-container\":\"styles_filter-container__3jVY9\",\"filter-input\":\"styles_filter-input__3ZW5o\",\"clear-filter\":\"styles_clear-filter__3AS7G\",\"record-count\":\"styles_record-count__2AOeB\",\"table\":\"styles_table__pZ6Nn\",\"fa\":\"styles_fa__1Q-nI\",\"table-email-header\":\"styles_table-email-header__1TZ94\",\"table-email-container\":\"styles_table-email-container__2E_DK\",\"active\":\"styles_active__2dxvL\",\"disabled\":\"styles_disabled__2s1Q0\",\"header\":\"styles_header__137NK\",\"amountContainer\":\"styles_amountContainer__2FCb5\",\"selectAmtContainer\":\"styles_selectAmtContainer__3WiSG\",\"selectAmt\":\"styles_selectAmt__3PxQB\",\"separator\":\"styles_separator__Hitmc\",\"customAmt\":\"styles_customAmt__2HHMS\",\"costPerMeal\":\"styles_costPerMeal__2eV_J\",\"nextBtn\":\"styles_nextBtn__3CoRV\",\"total\":\"styles_total__6Az6Y\",\"illustrationsContainer\":\"styles_illustrationsContainer__FYEAx\",\"illustrationLeading\":\"styles_illustrationLeading__36-tE\",\"illustrationTrailing\":\"styles_illustrationTrailing__u6jiA\",\"explantionContainer\":\"styles_explantionContainer__3fZI-\",\"explanation\":\"styles_explanation__3HlZi\",\"donationsContainer\":\"styles_donationsContainer__36H3w\",\"bold\":\"styles_bold__sanyU\",\"uppercase\":\"styles_uppercase__TwAoB\",\"link\":\"styles_link__33np1\",\"description\":\"styles_description__1DRpU\",\"modalBackground\":\"styles_modalBackground__XwJMp\",\"modalInstructionsGrid\":\"styles_modalInstructionsGrid__LYL8Y\",\"modalStepGrid\":\"styles_modalStepGrid__18w5V\",\"modalStepText\":\"styles_modalStepText__1L8RD\"};","/*\n * Responsive screen sizes\n */\nconst phoneScreens = 'max-width: 450px';\nconst smallScreens = 'max-width: 599px';\nconst tabletScreens = 'max-width: 899px';\nconst desktopScreens = 'max-width: 1299px';\nconst bigDesktopScreens = 'min-width: 1300px';\n\nexport {\n  phoneScreens,\n  smallScreens,\n  tabletScreens,\n  desktopScreens,\n  bigDesktopScreens,\n};\n","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step1.c58f05a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step2.9a0ca5e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step3.ad0c5291.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step4.b9832c02.svg\";","module.exports = __webpack_public_path__ + \"static/media/chinatown-logo.f9e716ba.png\";","import 'react-square-payment-form/lib/default.css';\nimport styled from 'styled-components';\n\ntype RowProps = {\n  width?: string;\n  mobileWidth?: string;\n};\nconst Subheader = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 18px;\n  font-weight: 700;\n  margin-bottom: 18px;\n`;\nconst RowFormat = styled.div`\n  width: ${(props: RowProps) => (props.width ? props.width : '100%')};\n  min-width: 105px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  text-transform: uppercase;\n\n  @media only screen and (max-width: 800px) {\n    width: ${(props: RowProps) =>\n      props.mobileWidth ? props.mobileWidth : '100%'};\n  }\n`;\n\nconst LabelText = styled.label`\n  color: #373f4a;\n`;\n\nconst InputText = styled.input`\n  font-size: 14px;\n  color: #373f4a;\n  border: 1px solid #dedede;\n  margin: 5px 0 15px;\n  padding: 27px 15px;\n  width: ${(props) => (props.width ? props.width : '100%')};\n  border-radius: 5px;\n\n  :placeholder {\n    color: #cdcdcd;\n  }\n\n  :invalid {\n    color: #fa755a;\n  }\n`;\n\nexport { Subheader, RowFormat, LabelText, InputText };\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { RowFormat, Subheader, LabelText, InputText } from '../styles';\nimport {\n  LIGHT_UP_CHINATOWN_TIER_2_MIN,\n  LIGHT_UP_CHINATOWN_TIER_3_MIN,\n} from '../../../consts';\n\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n} from '../../../utilities/hooks/ModalPaymentContext';\n\nexport const LanternForm = (props) => {\n  const { t } = useTranslation();\n\n  const { amount, lucData } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const [showAddress, setShowAddress] = React.useState(false);\n\n  const subHeader =\n    amount >= LIGHT_UP_CHINATOWN_TIER_3_MIN\n      ? 'paymentProcessing.amount.adopt_lantern_tier_3'\n      : 'paymentProcessing.amount.adopt_lantern_tier_2';\n  const subText =\n    amount >= LIGHT_UP_CHINATOWN_TIER_3_MIN\n      ? t('paymentProcessing.amount.tier_3_donation', {\n          limit: LIGHT_UP_CHINATOWN_TIER_3_MIN,\n        })\n      : t('paymentProcessing.amount.tier_2_donation', {\n          limit: LIGHT_UP_CHINATOWN_TIER_2_MIN,\n        });\n\n  const handleOnChange = (e) => {\n    e.preventDefault();\n    dispatch({\n      type: ModalPaymentConstants.SET_LUC_DATA,\n      payload: {\n        key: e.target.name,\n        value: e.target.value.toString(),\n      },\n    });\n  };\n\n  const handleAddress = (e, shouldShowAddress) => {\n    e.preventDefault();\n    setShowAddress(shouldShowAddress);\n\n    if (!shouldShowAddress) {\n      dispatch({\n        type: ModalPaymentConstants.CLEAR_ADDRESS,\n        payload: null,\n      });\n    }\n  };\n\n  return (\n    <AmountContainer>\n      <Subheader>{t(subHeader)}</Subheader>\n      <label>{t(subText)}</label>\n      <br />\n      <br />\n      <label>{t('paymentProcessing.amount.personalize')}</label>\n      <br />\n      <br />\n      <SingleRowFormat>\n        <RowFormat width=\"38%\">\n          <LabelText htmlFor=\"first_name\">\n            {t('paymentProcessing.amount.labels.first_name')}\n          </LabelText>\n          <InputText\n            name=\"firstName\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={handleOnChange}\n            placeholder={t('paymentProcessing.amount.place_holder.first_name')}\n            value={lucData.firstName}\n          />\n        </RowFormat>\n        <RowFormat width=\"20%\" mobileWidth=\"30%\">\n          <LabelText htmlFor=\"middle_initial\">\n            {t('paymentProcessing.amount.labels.middle_initial')}\n          </LabelText>\n          <InputText\n            name=\"middleInitial\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={handleOnChange}\n            placeholder={t(\n              'paymentProcessing.amount.place_holder.middle_initial'\n            )}\n            value={lucData.middleInitial}\n          />\n        </RowFormat>\n        <RowFormat width=\"38%\">\n          <LabelText htmlFor=\"last_name\">\n            {t('paymentProcessing.amount.labels.last_name')}\n          </LabelText>\n          <InputText\n            name=\"lastName\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={handleOnChange}\n            placeholder={t('paymentProcessing.amount.place_holder.last_name')}\n            value={lucData.lastName}\n          />\n        </RowFormat>\n      </SingleRowFormat>\n\n      {amount >= LIGHT_UP_CHINATOWN_TIER_3_MIN && (\n        <>\n          <label>\n            <span>\n              {' '}\n              {t(\n                'paymentProcessing.amount.light_up_chinatown_address.disclaimer_1'\n              )}\n              <strong>\n                {' '}\n                {t(\n                  'paymentProcessing.amount.light_up_chinatown_address.address'\n                )}\n              </strong>{' '}\n              {t(\n                'paymentProcessing.amount.light_up_chinatown_address.disclaimer_2'\n              )}\n            </span>\n          </label>\n          <br />\n          <br />\n\n          <TextTrigger onClick={(e) => handleAddress(e, true)}>\n            {' '}\n            {t(\n              'paymentProcessing.amount.light_up_chinatown_address.address_button'\n            )}\n          </TextTrigger>\n          <br />\n          <br />\n\n          {(showAddress || lucData.address !== '') && (\n            <>\n              <NameRow>\n                <RowFormat width=\"65%\" mobileWidth=\"100%\">\n                  <LabelText htmlFor=\"full_name\">\n                    {t('paymentProcessing.amount.labels.full_name')}\n                  </LabelText>\n                  <InputText\n                    name=\"fullName\"\n                    type=\"text\"\n                    className=\"modalInput--input\"\n                    onChange={handleOnChange}\n                    placeholder={t(\n                      'paymentProcessing.amount.place_holder.full_name'\n                    )}\n                    value={lucData.fullName}\n                  />\n                </RowFormat>\n                <TextTrigger onClick={(e) => handleAddress(e, false)}>\n                  {' '}\n                  {t(\n                    'paymentProcessing.amount.light_up_chinatown_address.cancel_address_button'\n                  )}\n                </TextTrigger>\n              </NameRow>\n              <RowFormat width=\"100%\">\n                <LabelText htmlFor=\"address\">\n                  {t('paymentProcessing.amount.labels.address')}\n                </LabelText>\n                <InputText\n                  name=\"address\"\n                  type=\"text\"\n                  className=\"modalInput--input\"\n                  onChange={handleOnChange}\n                  placeholder={t(\n                    'paymentProcessing.amount.place_holder.address'\n                  )}\n                  value={lucData.address}\n                />\n              </RowFormat>\n              <SingleRowFormat>\n                <RowFormat width=\"47%\" mobileWidth=\"100%\">\n                  <LabelText htmlFor=\"city\">\n                    {t('paymentProcessing.amount.labels.city')}\n                  </LabelText>\n                  <InputText\n                    name=\"city\"\n                    type=\"text\"\n                    className=\"modalInput--input\"\n                    onChange={handleOnChange}\n                    placeholder={t(\n                      'paymentProcessing.amount.place_holder.city'\n                    )}\n                    value={lucData.city}\n                  />\n                </RowFormat>\n                <StateZipRow width=\"50%\" mobileWidth=\"100%\">\n                  <RowFormat width=\"47%\" mobileWidth=\"47%\">\n                    <LabelText htmlFor=\"state\">\n                      {t('paymentProcessing.amount.labels.state')}\n                    </LabelText>\n                    <InputText\n                      name=\"state\"\n                      type=\"text\"\n                      className=\"modalInput--input\"\n                      onChange={handleOnChange}\n                      placeholder={t(\n                        'paymentProcessing.amount.place_holder.state'\n                      )}\n                      value={lucData.state}\n                    />\n                  </RowFormat>\n                  <RowFormat width=\"47%\" mobileWidth=\"47%\">\n                    <LabelText htmlFor=\"zip_code\">\n                      {t('paymentProcessing.amount.labels.zip_code')}\n                    </LabelText>\n                    <InputText\n                      name=\"zipCode\"\n                      type=\"text\"\n                      className=\"modalInput--input\"\n                      onChange={handleOnChange}\n                      placeholder={t(\n                        'paymentProcessing.amount.place_holder.zip_code'\n                      )}\n                      value={lucData.zipCode}\n                    />\n                  </RowFormat>\n                </StateZipRow>\n              </SingleRowFormat>\n            </>\n          )}\n        </>\n      )}\n    </AmountContainer>\n  );\n};\n\nexport default LanternForm;\n\nconst AmountContainer = styled.div`\n  background-color: #f7f7f7;\n  padding: 25px 35px;\n  margin-top: 30px;\n`;\n\nconst SingleRowFormat = styled(RowFormat)`\n  flex-direction: row;\n  justify-content: space-between;\n\n  @media only screen and (max-width: 800px) {\n    flex-direction: column;\n  }\n`;\n\nconst TextTrigger = styled.button`\n  background: transparent;\n  border: none;\n  color: #a8192e;\n  text-decoration: underline;\n  margin: 8px auto;\n  text-align: left;\n`;\n\nconst NameRow = styled(SingleRowFormat)`\n  align-items: center;\n  button {\n    text-align: right;\n  }\n\n  @media only screen and (max-width: 800px) {\n    button {\n      width: 100%;\n    }\n    flex-direction: column-reverse;\n  }\n`;\nconst StateZipRow = styled(RowFormat)`\n  flex-direction: row !important;\n  justify-content: space-between;\n`;\n","import React, { useState } from 'react';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nimport { LIGHT_UP_CHINATOWN_TIER_2_MIN } from '../../../consts';\n\nimport LanternForm from './LanternForm';\n\nexport interface Props {\n  sellerId: string;\n  sellerName: string;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n\n  const { amount, modalView } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n  const [isCustomAmount, setIsCustomAmount] = useState(true);\n  const [selected, setSelected] = useState('');\n  const minAmount = 5;\n  const maxAmount = 10000;\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    setSelected(text);\n    setIsCustomAmount(customAmount);\n    dispatch({ type: ModalPaymentConstants.SET_AMOUNT, payload: value });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('PaymentNextButtonClick', { amount: amount });\n    e.preventDefault();\n    dispatch({\n      type: ModalPaymentConstants.SET_MODAL_VIEW,\n      payload: ModalPaymentTypes.modalPages.card_details,\n    });\n  };\n\n  const validAmount = (value: string) => {\n    const r = /^[0-9]+$/;\n    return r.test(value);\n  };\n\n  const buttonAmountsArray =\n    modalView === ModalPaymentTypes.modalPages.light_up_chinatown\n      ? [25, 45, 150, 300]\n      : [10, 25, 50, 100];\n\n  const buttonAmounts = buttonAmountsArray.map((x) => ({\n    value: x.toString(),\n    text: '$' + x.toString(),\n  }));\n\n  const getHeaderText = (purchaseType, sellerName) => {\n    switch (purchaseType) {\n      case ModalPaymentTypes.modalPages.donation:\n        return t('purchase.donation', { seller: sellerName });\n      case ModalPaymentTypes.modalPages.gift_card:\n        return t('purchase.voucher', { seller: sellerName });\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        return t('purchase.donation_to', { seller: sellerName });\n      default:\n        return t('purchase.donation', { seller: sellerName });\n    }\n  };\n\n  return (\n    <ContentContainer id=\"donation-form\" data-testid=\"modal-amount\">\n      <Header>{getHeaderText(modalView, props.sellerName)}</Header>\n\n      {props.sellerId === 'send-chinatown-love' && (\n        <p>{t('donationPool.description2')}</p>\n      )}\n      <p>\n        {t(\n          `paymentProcessing.amount.${\n            modalView === ModalPaymentTypes.modalPages.light_up_chinatown\n              ? 'light_up_chinatown'\n              : 'header'\n          }`\n        )}\n      </p>\n\n      <AmountContainer>\n        <label htmlFor=\"select-amount\">\n          {t('paymentProcessing.amount.label1')}\n        </label>\n        <br />\n        <SelectAmtContainer>\n          {buttonAmounts.map((amount) => (\n            <button\n              key={amount.text}\n              type=\"button\"\n              className={\n                selected === amount.text\n                  ? 'modalButton--selected'\n                  : 'modalButton--outlined'\n              }\n              onClick={(e) => {\n                handleAmount(amount.value, false, amount.text);\n              }}\n            >\n              {amount.text}\n            </button>\n          ))}\n        </SelectAmtContainer>\n        <label htmlFor=\"custom-amount\">\n          {t('paymentProcessing.amount.label2')}\n        </label>\n        <br />\n        <CustomAmountContainer>\n          <CustomAmountInput\n            name=\"custom-amount\"\n            type=\"number\"\n            onFocus={(e) => handleAmount('', true, '')}\n            className={'modalInput--input'}\n            onChange={(e) => {\n              handleAmount(e.target.value, true, '');\n            }}\n            onKeyDown={(evt) =>\n              (evt.key === 'e' ||\n                evt.key === '+' ||\n                evt.key === '-' ||\n                evt.key === '.') &&\n              evt.preventDefault()\n            }\n            value={isCustomAmount ? amount : ''}\n            min=\"5\"\n            max=\"10000\"\n          />\n        </CustomAmountContainer>\n        {Number(amount) < minAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.minimum')}{' '}\n            {t('paymentProcessing.amount.amount')}: $5\n          </ErrorMessage>\n        )}\n        {Number(amount) > maxAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.maximum')}{' '}\n            {t('paymentProcessing.amount.amount')}: $10000\n          </ErrorMessage>\n        )}\n      </AmountContainer>\n      {modalView === ModalPaymentTypes.modalPages.light_up_chinatown &&\n        amount >= LIGHT_UP_CHINATOWN_TIER_2_MIN && <LanternForm />}\n      <NextButton\n        type=\"button\"\n        className={'modalButton--filled'}\n        onClick={openModal}\n        disabled={\n          Number(amount) < minAmount ||\n          Number(amount) > maxAmount ||\n          !validAmount(amount)\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </NextButton>\n    </ContentContainer>\n  );\n};\n\nexport default Modal;\n\nconst ContentContainer = styled.form`\n  height: 360px;\n`;\n\nconst AmountContainer = styled.div`\n  background-color: #f7f7f7;\n  padding: 25px 35px;\n  margin-top: 30px;\n`;\n\nconst SelectAmtContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  margin: 15px 0px;\n`;\n\nconst CustomAmountContainer = styled.div`\n  position: relative;\n  display: inline;\n\n  :before {\n    content: '$';\n    position: absolute;\n    top: 0;\n    left: 8px;\n    z-index: 1;\n  }\n`;\n\nconst CustomAmountInput = styled.input`\n  width: 250px;\n  border: 1px solid #121212;\n  margin-top: 8px;\n  padding-left: 2em;\n\n  :invalid {\n    border: 1px solid red;\n  }\n\n  @media (max-width: 450px) {\n    width: 100%;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 13px;\n`;\n\nconst NextButton = styled.button`\n  position: relative;\n  float: right;\n  right: 0px;\n  bottom: -25px;\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 30px;\n  font-weight: 600;\n`;\n","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../../MerchantsPage/images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../../MerchantsPage/images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../../MerchantsPage/images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../../MerchantsPage/images/gam_icon_step4.svg';\n\nconst CampaignInstructions = () => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.modalBackground}>\n      <div className={styles.modalInstructionsGrid}>\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) => generateStep(step, text, icon, idx))}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, idx) => {\n  return (\n    <div className={styles.modalStepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={styles.modalStepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport styles from './styles.module.scss';\nimport {\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\nimport { useTranslation } from 'react-i18next';\nimport CampaignInstructions from './CamapignInstructions';\nimport ReactPixel from 'react-facebook-pixel';\nimport { getCampaignsForMerchant, getDistributor } from '../../../utilities';\n\nexport interface Props {\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n  const dispatch = useModalPaymentDispatch(null);\n\n  // set initial number of meals to 1\n  const [numberOfMeals, setNumberOfMeals] = useState(1);\n\n  const [campaignDistributor, setCampaignDistributor] = useState<any>([]);\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    const valueInt = parseInt(value, 10);\n    setNumberOfMeals(isNaN(valueInt) ? 0 : valueInt);\n    const totalMealPrice = valueInt * props.costPerMeal;\n    dispatch({\n      type: ModalPaymentConstants.SET_AMOUNT,\n      payload: String(totalMealPrice),\n    });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('GiftMealPaymentNextButtonClick', {\n      numberOfMeals: numberOfMeals,\n    });\n    e.preventDefault();\n    dispatch({\n      type: ModalPaymentConstants.SET_MODAL_VIEW,\n      payload: ModalPaymentTypes.modalPages.card_details,\n    });\n  };\n\n  const totalMealPrice = numberOfMeals * props.costPerMeal;\n  const totalAmount = { value: totalMealPrice, text: '$' + totalMealPrice };\n  const COST_LIMIT = 10000;\n\n  useEffect(() => {\n    dispatch({\n      type: ModalPaymentConstants.SET_AMOUNT,\n      payload: String(totalMealPrice),\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  const fetchData = async (sellerId: string) => {\n    // Note(wilsonj806) Showing the campaign that expires first\n    // will need to update this if we render multiple distributors\n    const { data } = await getCampaignsForMerchant(sellerId);\n    const { data: distrib } = await getDistributor(data[0].distributor_id);\n    setCampaignDistributor(distrib);\n  };\n\n  useEffect(() => {\n    fetchData(props.sellerId);\n  }, [props.sellerId]);\n\n  const Distributor = () => (\n    <>\n      <a\n        href={campaignDistributor.website_url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className={styles.link}\n      >\n        {' '}\n        {campaignDistributor.name}\n      </a>{' '}\n    </>\n  );\n\n  return (\n    <form data-testid=\"ModalBuyMeal\">\n      <div>\n        <div className={styles.header}>\n          {props.sellerId\n            ? t('buyMeal.header') + props.sellerName\n            : t('buyMealPool.header')}\n        </div>\n      </div>\n      <p className={styles.description}>\n        {t('buyMealPool.description.weAre')}\n        {/* Note(wilsonj806)Only renders one single distributor*/}\n        <Distributor />\n        {t('buyMealPool.description.andRestaurants')}\n        <span className={styles.bold}>\n          {' '}\n          {t('buyMealPool.description.allItTakes')} ${props.costPerMeal}\n        </span>\n      </p>\n\n      <CampaignInstructions />\n\n      <div className={styles.amountContainer}>\n        <label htmlFor=\"select-amount\">{t('buyMeal.prompt')}</label>\n        <br />\n        <div className={styles.selectAmtContainer}>\n          <div className={styles.selectAmt}>\n            <input\n              name=\"custom-amount\"\n              type=\"number\"\n              onFocus={(e) => handleAmount('', true, '')}\n              className={classnames(styles.customAmt, 'modalInput--input')}\n              onChange={(e) => {\n                handleAmount(e.target.value, true, '');\n              }}\n              value={numberOfMeals === 0 ? '' : String(numberOfMeals)}\n              placeholder=\"# of meals\"\n              min=\"1\"\n            />\n            <span className={styles.separator}></span>\n            <button\n              type=\"button\"\n              className={classnames(\n                styles.costPerMeal,\n                'modalButton--nonfunctional'\n              )}\n              disabled={true}\n            >\n              {'$' + props.costPerMeal}\n            </button>\n          </div>\n          <label className={styles.total}>\n            {t('buyMeal.totalLabel')} <b>{totalAmount.text}</b>\n          </label>\n        </div>\n        <br />\n      </div>\n\n      <button\n        type=\"button\"\n        className={classnames(styles.nextBtn, 'modalButton--filled')}\n        onClick={openModal}\n        disabled={\n          numberOfMeals < 1 || numberOfMeals > COST_LIMIT / props.costPerMeal\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </button>\n    </form>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport {\n  CreditCardNumberInput,\n  CreditCardExpirationDateInput,\n  CreditCardPostalCodeInput,\n  CreditCardCVVInput,\n} from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport styled from 'styled-components';\n\ntype Props = {};\n\nconst SquareCardForm = (props: Props) => {\n  return (\n    <fieldset className=\"sq-fieldset\">\n      <CreditCardNumberInput />\n\n      <SquareCardRow>\n        <SquareCardItem>\n          <CreditCardExpirationDateInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardCVVInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardPostalCodeInput />\n        </SquareCardItem>\n      </SquareCardRow>\n    </fieldset>\n  );\n};\n\nexport default SquareCardForm;\n\nconst SquareCardRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100% !important;\n`;\n\nconst SquareCardItem = styled.div`\n  width: 30% !important;\n`;\n","import React, { useContext, useState } from 'react';\nimport { Context } from 'react-square-payment-form';\nimport ReactPixel from 'react-facebook-pixel';\n\ntype Props = {\n  canSubmit: boolean;\n};\n\nconst SubmissionButton = ({ canSubmit }: Props) => {\n  const context = useContext(Context);\n  var [submittable] = useState(false);\n\n  const handleSubmit = (evt: { preventDefault: () => void }) => {\n    ReactPixel.trackCustom('PaymentConfirmButtonClick', {});\n    evt.preventDefault();\n    context.onCreateNonce();\n  };\n\n  submittable = canSubmit;\n\n  return (\n    <button\n      type=\"button\"\n      className={'modalButton--filled'}\n      onClick={handleSubmit}\n      disabled={!submittable}\n    >\n      Confirm\n    </button>\n  );\n};\n\nexport default SubmissionButton;\n","import React, { useState, useEffect } from 'react';\nimport { times } from 'lodash/fp';\nimport { Checkbox } from '@material-ui/core';\nimport { SquarePaymentForm } from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport { v4 as uuid } from 'uuid';\n\nimport SquareCardForm from './SquareCardForm';\nimport SubmissionButton from './SubmissionButton';\n\nimport {\n  SquareErrors,\n  hasKey,\n  LIGHT_UP_CHINATOWN_TIER_2_MIN,\n} from '../../../consts';\nimport { modalPages } from '../../../utilities/hooks/ModalPaymentContext/types';\n\nimport {\n  makeSquarePayment,\n  SquareLineItems,\n  Buyer,\n} from '../../../utilities/api';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\n\ntype Props = {\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n};\n\ntype ErrorMessage = {\n  code: string;\n  detail: string;\n};\n\nconst ModalCardDetails = ({\n  sellerId,\n  sellerName,\n  costPerMeal,\n  nonProfitLocationId,\n  campaignId,\n}: Props) => {\n  const idempotencyKey = uuid();\n  const { t } = useTranslation();\n  const { amount, purchaseType, lucData } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const [isTermsChecked, setTermsChecked] = useState(false);\n  const [isSubscriptionChecked, setSubscriptionChecked] = useState(true);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [errorMessages, setErrorsMessages] = useState<string[]>([]);\n  const [canSubmit, setCanSubmit] = useState(false);\n\n  let applicationId, locationId, projectId;\n\n  if (\n    purchaseType === ModalPaymentTypes.modalPages.buy_meal &&\n    nonProfitLocationId === process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID\n  ) {\n    applicationId = process.env.REACT_APP_THINK_CHINATOWN_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID ?? '';\n  } else {\n    applicationId = process.env.REACT_APP_SQUARE_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_SQUARE_LOCATION_ID ?? '';\n  }\n\n  if (sellerId === 'light-up-chinatown') {\n    sellerId = '';\n    projectId = '1';\n  }\n\n  const checkTermsAgreement = () => setTermsChecked(!isTermsChecked);\n\n  const checkSubscriptionAgreement = () =>\n    setSubscriptionChecked(!isSubscriptionChecked);\n\n  const numberOfMeals = Number(amount) / costPerMeal;\n  const mealText = numberOfMeals > 1 ? 'meals' : 'meal';\n  const numberOfMealsText =\n    purchaseType === ModalPaymentTypes.modalPages.buy_meal\n      ? `(${numberOfMeals} ${mealText})`\n      : '';\n\n  const cardNonceResponseReceived = (errors: any[], nonce: string) => {\n    setErrorsMessages([]);\n    const is_distribution =\n      purchaseType === ModalPaymentTypes.modalPages.buy_meal;\n\n    if (errors && errors.length > 0 && errors[0]) {\n      setErrorsMessages(errors.map((error) => error.message));\n      return;\n    }\n\n    const purchaseTypeToItemType = (purchaseType: string) => {\n      switch (purchaseType) {\n        case modalPages.light_up_chinatown:\n          return modalPages.donation;\n        default:\n          return purchaseType;\n      }\n    };\n\n    // 'buy_meal' is still represented as a gift card when calling the API\n    const payment: SquareLineItems = is_distribution\n      ? times(\n          () => ({\n            amount: Number(costPerMeal) * 100,\n            currency: 'usd',\n            item_type: 'gift_card',\n            quantity: 1,\n          }),\n          numberOfMeals\n        )\n      : [\n          {\n            amount: Number(amount) * 100,\n            currency: 'usd',\n            item_type: purchaseTypeToItemType(purchaseType),\n            quantity: 1,\n          },\n        ];\n\n    const buyer: Buyer = {\n      name,\n      email,\n      nonce,\n      idempotency_key: idempotencyKey,\n      is_subscribed: isSubscriptionChecked,\n    };\n\n    setCanSubmit(false);\n\n    return makeSquarePayment(\n      nonce,\n      sellerId,\n      payment,\n      buyer,\n      is_distribution,\n      campaignId,\n      projectId,\n      projectId ? JSON.stringify(lucData) : null\n    )\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch({\n            type: ModalPaymentConstants.SET_MODAL_VIEW,\n            payload: ModalPaymentTypes.modalPages.confirmation,\n          });\n        }\n      })\n      .catch((err) => {\n        if (err.response) {\n          let responseErrors: ErrorMessage[] = [];\n          if (err.response.data.errors)\n            responseErrors = err.response.data.errors;\n          else if (err.response.data.message)\n            responseErrors = [\n              { code: 'GENERIC_DECLINE', detail: err.response.data.message },\n            ];\n\n          const newErrors =\n            responseErrors.length > 0\n              ? responseErrors.map((error: ErrorMessage) => {\n                  if (hasKey(SquareErrors, error.code)) {\n                    return SquareErrors[error.code];\n                  } else {\n                    return error.detail;\n                  }\n                })\n              : [];\n          setErrorsMessages(newErrors);\n        }\n      });\n  };\n\n  const purchaseTypeHeader = (purchaseType) => {\n    switch (purchaseType) {\n      case ModalPaymentTypes.modalPages.donation:\n        return 'donation';\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        return t(\n          'modalPayment.modalCardDetails.header.light_up_chinatown_donation'\n        );\n      case ModalPaymentTypes.modalPages.gift_card:\n        return `voucher purchase`;\n      case ModalPaymentTypes.modalPages.buy_meal:\n        return 'Gift a Meal purchase';\n      default:\n        return 'Donation';\n    }\n  };\n\n  const purchaseTypeMessage = (purchaseType, amount) => {\n    switch (purchaseType) {\n      case ModalPaymentTypes.modalPages.donation:\n        return t('modalPayment.modalCardDetails.message.donation');\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        if (amount >= LIGHT_UP_CHINATOWN_TIER_2_MIN)\n          return t(\n            'modalPayment.modalCardDetails.message.light_up_chinatown_tier_2'\n          );\n        else return t('modalPayment.modalCardDetails.message.donation');\n      case ModalPaymentTypes.modalPages.gift_card:\n        return t('modalPayment.modalCardDetails.message.voucher');\n      default:\n        return t('modalPayment.modalCardDetails.message.donation');\n    }\n  };\n\n  useEffect(() => {\n    setCanSubmit(\n      isTermsChecked &&\n        name.length > 0 &&\n        email.length > 0 &&\n        ModalPaymentConstants.EMAIL_REGEX.test(email)\n    );\n  }, [isTermsChecked, name, email]);\n\n  const setDisclaimerLanguage = (\n    type: string | ModalPaymentTypes.modalPages\n  ) => {\n    if (sellerId === 'send-chinatown-love')\n      type = ModalPaymentTypes.modalPages.donation_pool;\n\n    switch (type) {\n      case ModalPaymentTypes.modalPages.donation:\n        return t(\n          'modalPayment.modalCardDetails.disclaimer.donation',\n          sellerName\n        );\n      case ModalPaymentTypes.modalPages.donation_pool:\n        return t(\n          'modalPayment.modalCardDetails.disclaimer.donation_pool',\n          sellerName\n        );\n      case ModalPaymentTypes.modalPages.gift_card:\n        return t(\n          'modalPayment.modalCardDetails.disclaimer.gift_card',\n          sellerName\n        );\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        return t('modalPayment.modalCardDetails.disclaimer.light_up_chinatown');\n      default:\n        break;\n    }\n  };\n\n  const setDetailsText = (\n    type: ModalPaymentTypes.modalPages,\n    amount: number\n  ) => {\n    if (sellerId === 'send-chinatown-love')\n      type = ModalPaymentTypes.modalPages.donation_pool;\n\n    if (\n      type === ModalPaymentTypes.modalPages.gift_card ||\n      (type === ModalPaymentTypes.modalPages.light_up_chinatown &&\n        amount >= LIGHT_UP_CHINATOWN_TIER_2_MIN)\n    ) {\n      return t('modalPayment.modalCardDetails.details.voucher');\n    } else {\n      return t('modalPayment.modalCardDetails.details.donation');\n    }\n  };\n\n  return (\n    <div>\n      <Header>\n        {t('modalPayment.modalCardDetails.header.completeYour')}{' '}\n        {purchaseTypeHeader(purchaseType)}\n      </Header>\n      <p>{t('modalPayment.modalCardDetails.body.paymentInfo')}</p>\n\n      <PaymentContainer>\n        <Subheader>\n          {t('modalPayment.modalCardDetails.header.paymentInfo')}\n        </Subheader>\n        <RowFormat>\n          <LabelText htmlFor=\"name\">\n            {t('modalPayment.modalCardDetails.body.fullName')}\n          </LabelText>\n          <InputText\n            name=\"name\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n            placeholder={t('modalPayment.modalCardDetails.placeholders.name')}\n          />\n          <LabelText htmlFor=\"email\">\n            {t('modalPayment.modalCardDetails.body.email')}\n          </LabelText>\n          <InputText\n            name=\"email\"\n            type=\"email\"\n            className=\"modalInput--input\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n            placeholder={t('modalPayment.modalCardDetails.placeholders.email')}\n            pattern={ModalPaymentConstants.EMAIL_REGEX.source}\n            required\n          />\n        </RowFormat>\n        <SquareFormContainer>\n          <SquarePaymentForm\n            sandbox={\n              !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n            }\n            applicationId={applicationId}\n            locationId={locationId}\n            cardNonceResponseReceived={cardNonceResponseReceived}\n            formId=\"SPF\"\n            apiWrapper=\"\"\n          >\n            <SquareCardForm />\n            <div className=\"sq-error-message\">\n              {errorMessages.map((errorMessage) => (\n                <li key={`sq-error-${errorMessage}`}>{errorMessage}</li>\n              ))}\n            </div>\n            <br />\n            <Subheader>{setDetailsText(purchaseType, amount)}</Subheader>\n\n            <span>\n              {' '}\n              {purchaseTypeMessage(purchaseType, amount)} of{' '}\n              <b>\n                ${amount} {numberOfMealsText}\n              </b>{' '}\n              to {sellerName}{' '}\n            </span>\n\n            {lucData.firstName !== '' && (\n              <span>\n                <br />\n                <br />\n                {t('modalPayment.modalCardDetails.message.luc_name')}\n                <BoldText>\n                  {`${lucData.firstName} \n                  ${\n                    lucData.middleInitial.length > 0\n                      ? lucData.middleInitial.substring(0, 1).toUpperCase() +\n                        '. '\n                      : ''\n                  } \n                  ${lucData.lastName}`}\n                </BoldText>\n              </span>\n            )}\n            {lucData.address !== '' && (\n              <span>\n                <br />\n                <br />\n                {t('modalPayment.modalCardDetails.message.luc_address')}\n                <BoldText>{`${lucData.fullName}, ${lucData.address}, ${lucData.city}, ${lucData.state} ${lucData.zipCode}`}</BoldText>\n              </span>\n            )}\n            <p />\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedA\"\n                inputProps={{ 'aria-label': 'Checkbox A' }}\n                onClick={checkTermsAgreement}\n                checked={isTermsChecked}\n              />\n              <span>\n                I agree with the <b>Terms & Conditions</b>\n              </span>\n            </CheckboxContainer>\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedB\"\n                inputProps={{ 'aria-label': 'Checkbox B' }}\n                onClick={checkSubscriptionAgreement}\n                checked={isSubscriptionChecked}\n              />\n              <span>\n                {t('modalPayment.modalCardDetails.body.emailUpdates')}\n              </span>\n            </CheckboxContainer>\n            <Disclaimer>{setDisclaimerLanguage(purchaseType)}</Disclaimer>\n            <ButtonRow>\n              <BackButton\n                type=\"button\"\n                className={'modalButton--back'}\n                onClick={() =>\n                  dispatch({\n                    type: ModalPaymentConstants.SET_MODAL_VIEW,\n                    payload: purchaseType,\n                  })\n                }\n              >\n                 Back\n              </BackButton>\n              <SubmissionButton canSubmit={canSubmit} />\n            </ButtonRow>\n          </SquarePaymentForm>\n        </SquareFormContainer>\n      </PaymentContainer>\n    </div>\n  );\n};\n\nexport default ModalCardDetails;\n\nconst PaymentContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n\n  div {\n    width: 100%;\n  }\n`;\n\nexport const RowFormat = styled.div`\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  text-transform: uppercase;\n`;\n\nexport const LabelText = styled.label`\n  color: #373f4a;\n`;\n\nconst BoldText = styled.span`\n  font-weight: bold;\n`;\n\nexport const InputText = styled.input`\n  font-size: 14px;\n  color: #373f4a;\n  border: 1px solid #dedede;\n  margin: 5px 0 15px;\n  padding: 27px 15px;\n  width: 100%;\n  border-radius: 5px;\n\n  ::placeholder {\n    color: #cdcdcd;\n  }\n\n  :invalid {\n    color: #fa755a;\n  }\n`;\n\nconst CheckboxContainer = styled.label`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  align-items: center;\n  margin-bottom: 10px;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  > span {\n    padding: 9px 9px 9px 0px;\n  }\n`;\n\nconst ButtonRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  justify-content: space-between;\n  margin-bottom: 25px;\n`;\n\nconst BackButton = styled.button`\n  width: 75px;\n  font-size: 13px;\n  background-color: white;\n`;\n\nconst SquareFormContainer = styled.div`\n  h3,\n  span,\n  p {\n    font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 15px;\n  }\n\n  h3 {\n    font-size: 24px;\n  }\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 32px;\n  font-weight: 600;\n`;\n\nconst Subheader = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 18px;\n  font-weight: 700;\n  margin-bottom: 18px;\n`;\n\nconst Disclaimer = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 12px;\n  font-weight: 300;\n  padding: 0px 0px 0px 0px;\n  margin: 30px 0px 30px 0px;\n  opacity: 0.7;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nimport confirmationPic from './chinatown-logo.png';\n\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\nimport { LIGHT_UP_CHINATOWN_TIER_2_MIN } from '../../../consts';\n\nimport { getSeller } from '../../../utilities';\n\nexport type Props = {\n  sellerId: string;\n  sellerName: string;\n};\n\nconst ModalConfirmation = (props: Props) => {\n  const { purchaseType, amount } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const closeModal = async (e: any) => {\n    ReactPixel.trackCustom('ModalConfirmationButtonClick', {});\n    e.preventDefault();\n\n    const { data } = props.sellerId && (await getSeller(props.sellerId));\n    dispatch({\n      type: ModalPaymentConstants.UPDATE_SELLER_DATA,\n      payload: data.amount_raised,\n    });\n    dispatch({ type: ModalPaymentConstants.CLOSE_MODAL, payload: undefined });\n  };\n\n  const confirmationText = (purchaseType, sellerName, amount) => {\n    switch (purchaseType) {\n      case ModalPaymentTypes.modalPages.donation:\n        return `We appreciate your support. We'll let you know when ${sellerName} receives your donation!`;\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        if (amount >= LIGHT_UP_CHINATOWN_TIER_2_MIN)\n          return 'You will receive an email in the next couple weeks about our Lighting Ceremony in December.';\n        return `You will receive an email with receipt for your donation.`;\n      case ModalPaymentTypes.modalPages.gift_card:\n        return `We appreciate your support. We'll email you your voucher when ${sellerName} opens back up!`;\n      case ModalPaymentTypes.modalPages.buy_meal:\n        return `We appreciate your support for ${sellerName} and for those in need! Please check your email for your receipt.`;\n      default:\n        return `Unexpected occurrence.`;\n    }\n  };\n\n  return (\n    <Container data-testid=\"modal-confirmation\">\n      <h2>Thank you!</h2>\n      <p>{confirmationText(purchaseType, props.sellerName, amount)}</p>\n\n      <ThankYouImage src={confirmationPic} alt=\"Logo\" />\n\n      <FinishButton\n        className=\"modalButton--filled\"\n        onClick={(e) => closeModal(e)}\n      >\n        Finish\n      </FinishButton>\n    </Container>\n  );\n};\n\nexport default ModalConfirmation;\n\nconst Container = styled.div`\n  max-height: 80%;\n  margin-bottom: 25px;\n`;\n\nconst ThankYouImage = styled.img`\n  position: relative;\n  width: 100%;\n`;\n\nconst FinishButton = styled.button`\n  position: relative;\n  margin-top: 35px;\n  float: right;\n  right: 0px;\n`;\n","import React from 'react';\nimport ModalAmount from './ModalAmount';\nimport ModalBuyMeal from './ModalBuyMeal';\nimport ModalCardDetails from './ModalCardDetails';\nimport ModalConfirmation from './ModalConfirmation';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../utilities/hooks/ModalPaymentContext';\nimport ReactPixel from 'react-facebook-pixel';\nimport styled from 'styled-components';\n\nexport interface Props {\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n}\n\nexport interface ModalProps {\n  modalView: number;\n}\n\nexport const Modal = (props: Props) => {\n  const { modalView } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const closeModal = async (e: any) => {\n    ReactPixel.trackCustom('ModalCloseButtonClick', {});\n    e.preventDefault();\n    dispatch({ type: ModalPaymentConstants.CLOSE_MODAL, payload: undefined });\n  };\n\n  const renderModalPage = (type) => {\n    switch (type) {\n      case ModalPaymentTypes.modalPages.donation:\n      case ModalPaymentTypes.modalPages.gift_card:\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        return <ModalAmount {...props} />;\n      case ModalPaymentTypes.modalPages.buy_meal:\n        return <ModalBuyMeal {...props} />;\n      case ModalPaymentTypes.modalPages.card_details:\n        return <ModalCardDetails {...props} />;\n      case ModalPaymentTypes.modalPages.confirmation:\n        return <ModalConfirmation {...props} />;\n      default:\n        return;\n    }\n  };\n\n  return (\n    <ModalContainer modalView={modalView}>\n      <CloseButtonContainer>\n        <CloseButton onClick={closeModal}></CloseButton>\n      </CloseButtonContainer>\n      <ViewContainer>{renderModalPage(modalView)}</ViewContainer>\n    </ModalContainer>\n  );\n};\n\nexport default Modal;\n\nconst ModalContainer = styled.div`\n  display: ${(props: ModalProps) => (props.modalView ? 'flex' : 'none')};\n  flex-direction: column;\n  margin: 0 auto;\n\n  background-color: white;\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 10;\n  padding-bottom: 40px;\n\n  max-height: 85vh;\n  width: 725px;\n  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);\n  height: 65%;\n\n  @media only screen and (max-width: 799px) {\n    width: 85%;\n  }\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    max-height: 100%;\n  }\n`;\nconst ViewContainer = styled.div`\n  overflow-y: scroll;\n  margin: 0 auto;\n  height: 100%;\n  width: 100%;\n  padding: 0 50px;\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    overflow-x: hidden;\n  }\n`;\nconst CloseButtonContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n`;\nconst CloseButton = styled.button`\n  width: 40px;\n  font-weight: bold;\n  font-size: 30px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  background-color: transparent;\n`;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__1Q_a1\",\"button--red-filled\":\"styles_button--red-filled__30C9L\",\"button--outlined\":\"styles_button--outlined__T1S4e\",\"button--redfilled\":\"styles_button--redfilled__1aPRb\",\"button--red-outlined\":\"styles_button--red-outlined__uXeug\",\"modalButton--back\":\"styles_modalButton--back__SqQbc\",\"modalButton--outlined\":\"styles_modalButton--outlined__2rGur\",\"modalButton--filled\":\"styles_modalButton--filled__1u791\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__3b7y_\",\"modalButton--selected\":\"styles_modalButton--selected__120By\",\"modalButton--outline\":\"styles_modalButton--outline__1nxQS\",\"closeButton--close\":\"styles_closeButton--close__2-Gq4\",\"modalForm--form\":\"styles_modalForm--form__1r_3v\",\"modalInput--input\":\"styles_modalInput--input__1yGue\",\"filterable-table-container\":\"styles_filterable-table-container__3yuTM\",\"header-row\":\"styles_header-row__13pcb\",\"filter-container\":\"styles_filter-container__3R7V3\",\"filter-input\":\"styles_filter-input__2pKZl\",\"clear-filter\":\"styles_clear-filter__2DOt6\",\"record-count\":\"styles_record-count__3tJgl\",\"table\":\"styles_table__CkvPy\",\"fa\":\"styles_fa__1dVUs\",\"table-email-header\":\"styles_table-email-header__178xL\",\"table-email-container\":\"styles_table-email-container__5XNtx\",\"active\":\"styles_active__ZQhyR\",\"disabled\":\"styles_disabled__yy9aR\",\"bold\":\"styles_bold__2INhr\",\"uppercase\":\"styles_uppercase__HZ5Zd\",\"container\":\"styles_container__3QdrG\",\"header\":\"styles_header__2e_gf\",\"headerText\":\"styles_headerText__2GMED\",\"hero\":\"styles_hero__30ZVS\",\"backButton\":\"styles_backButton__1XAdF\",\"campaignHeader\":\"styles_campaignHeader__trEYV\",\"videoContainer\":\"styles_videoContainer__2lfjR\",\"videoDescription\":\"styles_videoDescription__4o5jP\",\"background\":\"styles_background__2nP1I\",\"instructionsGrid\":\"styles_instructionsGrid__13657\",\"stepGrid\":\"styles_stepGrid__3ygF3\",\"stepText\":\"styles_stepText__sSzBp\"};","module.exports = __webpack_public_path__ + \"static/media/illustrated_flatlay_hero.050015e1.png\";","module.exports = __webpack_public_path__ + \"static/media/campaign_default.9ad02a20.png\";","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../images/gam_icon_step4.svg';\n\nconst CampaignInstructions = () => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.background}>\n      <div className={styles.instructionsGrid}>\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) => generateStep(step, text, icon, idx))}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, idx) => {\n  return (\n    <div className={styles.stepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={styles.stepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\ninterface Props {\n  isActive: boolean;\n  numContributions: number;\n  targetAmount: number;\n  progressBarColor: string;\n  lastContributionTime: Date;\n  endDate: Date;\n}\n\nconst CampaignProgressBar = ({\n  isActive,\n  numContributions,\n  targetAmount,\n  progressBarColor,\n  lastContributionTime,\n  endDate,\n}: Props) => {\n  const { t } = useTranslation();\n\n  // \"73% to target (73 out of 100 meals)\"\n  const progressWidth = (raised: number, target: number) => {\n    if (raised < target) return (raised / target) * 100;\n    return 100;\n  };\n  const progressPercent = Math.floor((numContributions / targetAmount) * 100);\n\n  // \"Ends in 2 days\"\n  const timeUntilEnd = endDate.getTime() - Date.now();\n  const daysUntilEnd = timeUntilEnd > 0 ? timeUntilEnd / (1000 * 3600 * 24) : 0;\n\n  // \"Last contribution made 2h ago\"\n  const timeSinceLastContribution = Date.now() - lastContributionTime.getTime();\n  const lastContributionTimeAsPresentable = (\n    timeSinceLastContribution: number\n  ) => {\n    const minutesSinceLastConstribution =\n      timeSinceLastContribution / (1000 * 60);\n    if (minutesSinceLastConstribution < 60) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        minutesSinceLastConstribution\n      )}m ${t('buyMeal.ago')}`;\n    }\n    const hoursSinceLastContribution = minutesSinceLastConstribution / 60;\n    if (hoursSinceLastContribution < 24) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        hoursSinceLastContribution\n      )}h ${t('buyMeal.ago')}`;\n    }\n    const daysSinceLastContribution = hoursSinceLastContribution / 24;\n    return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n      daysSinceLastContribution\n    )}d ${t('buyMeal.ago')}`;\n  };\n\n  return (\n    <ProgressBarContainer>\n      <TimeStamp>\n        {lastContributionTimeAsPresentable(timeSinceLastContribution)}\n      </TimeStamp>\n      <TargetAmountBar className=\"progress-bar\">\n        <CurrentProgressBar\n          style={{\n            width: `${progressWidth(numContributions, targetAmount)}%`,\n            backgroundColor: progressBarColor,\n          }}\n        ></CurrentProgressBar>\n      </TargetAmountBar>\n      <div>\n        <ProgressTextContainer color={progressBarColor}>\n          {progressPercent}% {t('buyMeal.toTarget')}\n        </ProgressTextContainer>{' '}\n        ({numContributions} {t('buyMeal.outOf')} {targetAmount}{' '}\n        {t('buyMeal.meals')})\n      </div>\n      {isActive && (\n        <div>\n          {t('buyMeal.endsIn')}{' '}\n          <ProgressTextContainer color={progressBarColor}>\n            {Math.ceil(daysUntilEnd)}\n          </ProgressTextContainer>{' '}\n          {t('buyMeal.days')}\n        </div>\n      )}\n    </ProgressBarContainer>\n  );\n};\n\nexport default CampaignProgressBar;\n\nconst ProgressBarContainer = styled.div`\n  width: 100%;\n  padding: 15px 0;\n`;\n\nconst ProgressTextContainer = styled.span`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 22px;\n  color: ${(props) => props.color};\n`;\n\nconst TargetAmountBar = styled.div`\n  background-color: #dedede;\n  height: 12px;\n  margin-bottom: 15px;\n`;\n\nconst CurrentProgressBar = styled.div`\n  background-color: #dd678a;\n  height: 12px;\n`;\n\nconst TimeStamp = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 18px;\n  letter-spacing: 0.02em;\n  color: #9e9e9e;\n  margin-bottom: 10px;\n`;\n","import React from 'react';\nimport CampaignProgressBar from './CampaignProgressBar';\nimport styled from 'styled-components';\nimport { tabletScreens } from '../../../utilities/general/responsive';\nimport { useTranslation } from 'react-i18next';\nimport campaignDefaultImage from '../images/campaign_default.png';\nimport { Campaign } from '../../../utilities/api/types';\nimport {\n  getDistributor,\n  getSeller,\n  getFiscalSponsor,\n} from '../../../utilities/api';\nimport { useEffect, useState } from 'react';\nimport Modal from '../../ModalPayment';\nimport {\n  ModalPaymentConstants,\n  useModalPaymentDispatch,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\n\ninterface Props {\n  campaign: Campaign;\n  selectedCampaignId: null | number;\n  setSelectedCampaignId: Function;\n}\n\nconst ModalBox: any = Modal;\n\nconst CampaignListItem = (props: Props) => {\n  const { t } = useTranslation();\n  const dispatch = useModalPaymentDispatch(null); //provide null according to Bruce's new branch\n\n  const [distributor, setDistributor] = useState<any | null>();\n  const [merchant, setMerchant] = useState<any | null>();\n  const [fiscalSponsor, setFiscalSponsor] = useState<any | null>();\n  const campaign = props.campaign;\n\n  const fetchData = async () => {\n    const distributorData = await getDistributor(campaign.distributor_id);\n    const merchantData = await getSeller(campaign.seller_id);\n    setDistributor(distributorData.data);\n    setMerchant(merchantData.data);\n    if (campaign.nonprofit_id) {\n      const fiscalSponsor = await getFiscalSponsor(campaign.nonprofit_id);\n      setFiscalSponsor(fiscalSponsor.data);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  const mealsRaised = Math.floor(\n    campaign.amount_raised / campaign.price_per_meal\n  );\n  const targetMeals = Math.floor(\n    campaign.target_amount / campaign.price_per_meal\n  );\n  const campaignImageUrls = campaign.gallery_image_urls;\n\n  const showModal = (event: any) => {\n    props.setSelectedCampaignId(campaign.id);\n    dispatch({\n      type: ModalPaymentConstants.SET_MODAL_VIEW,\n      payload: ModalPaymentTypes.modalPages.buy_meal,\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <Container>\n        <ColumnContainer>\n          {campaignImageUrls && campaignImageUrls.length && (\n            <CampaignImageContainer>\n              <CampaignImage\n                src={campaignImageUrls[0] ?? campaignDefaultImage}\n                alt=\"campaign_image\"\n              />\n            </CampaignImageContainer>\n          )}\n        </ColumnContainer>\n        <ColumnContainer>\n          {merchant && merchant.locations && merchant.locations.length && (\n            <Location>{merchant.locations[0].city}</Location>\n          )}\n          {distributor && merchant && (\n            <Name>\n              {merchant.name} x {distributor.name}\n            </Name>\n          )}\n          <Description>\n            {campaign.description}{' '}\n            {distributor && (\n              <a\n                href={distributor.website_url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Learn more about {distributor.name}.\n              </a>\n            )}\n          </Description>\n          <CampaignProgressBar\n            isActive={campaign.active}\n            numContributions={mealsRaised}\n            targetAmount={targetMeals}\n            progressBarColor={'#CF6E8A'}\n            lastContributionTime={new Date(campaign.last_contribution)}\n            endDate={new Date(campaign.end_date)}\n          />\n        </ColumnContainer>\n        <ColumnContainer>\n          <ImagesContainer>\n            {distributor && (\n              <a href={distributor.website_url}>\n                <DistributorImage\n                  src={distributor.image_url}\n                  alt=\"distributor_logo\"\n                />\n              </a>\n            )}\n          </ImagesContainer>\n          {merchant && (\n            <Button\n              className=\"button--outlined\"\n              onClick={(e) => {\n                e.preventDefault();\n                window.location.href = '/' + merchant.seller_id;\n              }}\n            >\n              {t('gamHome.listItem.viewButton')}\n            </Button>\n          )}\n          {campaign.active && (\n            <Button className={'button--filled'} onClick={showModal}>\n              {t('gamHome.listItem.giftButton')}\n            </Button>\n          )}\n        </ColumnContainer>\n\n        {campaign.active && props.selectedCampaignId === campaign.id && (\n          <ModalBox\n            sellerId={merchant.seller_id}\n            sellerName={merchant.name}\n            costPerMeal={campaign.price_per_meal / 100}\n            nonProfitLocationId={merchant.non_profit_location_id}\n            campaignId={campaign.id}\n          />\n        )}\n      </Container>\n      {fiscalSponsor && (\n        <FiscalSponsorContainer>\n          <FiscalSponsorImage\n            src={fiscalSponsor.logo_image_url}\n          ></FiscalSponsorImage>\n          <FiscalSponsorDivider></FiscalSponsorDivider>\n          <FiscalSponsorText>\n            {t('gamHome.listItem.fiscalSponsor', {\n              sponsorName: fiscalSponsor.name,\n            })}\n          </FiscalSponsorText>\n        </FiscalSponsorContainer>\n      )}\n      <Border></Border>\n    </React.Fragment>\n  );\n};\n\nexport default CampaignListItem;\n\nconst Container = styled.div`\n  display: flex;\n  max-height: 800px;\n  justify-content: space-between;\n\n  @media (${tabletScreens}) {\n    max-height: 1000px;\n    flex-direction: column;\n    margin: 0 17px;\n    position: relative;\n    padding-top: 15px;\n  }\n`;\n\nconst ColumnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 2rem 1.5rem;\n\n  @media (${tabletScreens}) {\n    padding: 0.5rem 1rem 0.75rem;\n\n    > span {\n      margin: 2.5px 0;\n    }\n\n    > button {\n      width: 100%;\n    }\n\n    > img {\n      height: 103px;\n      object-fit: cover;\n      object-position: 0 25%;\n    }\n  }\n`;\n\nconst Location = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e7c9a;\n  margin-bottom: 15px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Name = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 22px;\n  letter-spacing: 0.02em;\n  color: #000000;\n  margin-bottom: 18px;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 10px;\n    width: 70%;\n  }\n`;\n\nconst Description = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e1e1e;\n  margin-bottom: 20px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Button = styled.div`\n  text-align: center;\n  width: 240px;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (max-width: 550px) {\n    font-size: 14px;\n    width: 100%;\n    margin-bottom: 10px;\n  }\n`;\n\nconst ImagesContainer = styled.span`\n  align-self: right;\n  margin-bottom: 140px;\n  align-self: flex-end;\n\n  @media (${tabletScreens}) {\n    position: absolute;\n    top: 132px;\n    margin-bottom: 30px;\n\n    img {\n      height: 25px;\n    }\n  }\n`;\n\nconst CampaignImageContainer = styled.div`\n  height: 240px;\n  width: 240px;\n\n  @media (${tabletScreens}) {\n    height: 100px;\n    width: 100%;\n  }\n`;\n\nconst CampaignImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 5px;\n`;\n\nconst DistributorImage = styled.img`\n  max-height: 70px;\n  max-width: 120px;\n  margin-right: 15px;\n  vertical-align: middle;\n`;\n\nconst FiscalSponsorContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 55px;\n  position: relative;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 30px;\n  }\n`;\n\nconst FiscalSponsorImage = styled.img`\n  margin-left: 28%;\n  max-height: 35px;\n  max-width: 80px;\n\n  @media (${tabletScreens}) {\n    position: absolute;\n    top: 50%;\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n    margin-left: 0%;\n  }\n`;\n\nconst FiscalSponsorDivider = styled.div`\n  margin-left: 18px;\n  width: 5px;\n  height: 37px;\n  background-color: #f5ec57;\n\n  @media (${tabletScreens}) {\n    height: 110px;\n    margin-left: 27%;\n  }\n`;\n\nconst FiscalSponsorText = styled.div`\n  margin-left: 6px;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 18px;\n  color: #1e1e1e;\n`;\n\nconst Border = styled.div`\n  width: 100%;\n  height: 1px;\n  border-bottom: 1px solid #e5e5e5;\n`;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { Campaign } from '../../../utilities/api/types';\nimport { tabletScreens } from '../../../utilities/general/responsive';\n\ninterface Props {\n  campaign: Campaign;\n}\n\nconst MegaGamListItem = ({ campaign }: Props) => {\n  const { t } = useTranslation();\n  return (\n    <Container>\n      <HeroImage heroImageUrl={campaign.gallery_image_urls[0]} />\n      <Content>\n        {/* TODO: Figure out if this is the correct header. If so, we need to translate. */}\n        <Header>Mega-GAM</Header>\n        {/* TODO: Don't hard code this. Figure out where we should get this data from. */}\n        <Subheader>December Campaign</Subheader>\n        <Description>{campaign.description}</Description>\n        <DonationContainer>\n          {/* TODO: Add donation data UI. */}\n          <DonationContent>_DONATION_DATA_</DonationContent>\n          {campaign.active && (\n            // TODO: Open payment modal.\n            <Button className=\"button--filled\" onClick={undefined}>\n              {t('gamHome.megaGamListItem.giftButton')}\n            </Button>\n          )}\n        </DonationContainer>\n        <SellerDistributorContent>\n          {/* TODO: Translate. */}\n          <LearnMoreText>\n            Learn more about our participating merchants:\n          </LearnMoreText>\n          {/* TODO: Add seller/distributor pairs. */}\n          <SellerDistributorPairs>\n            _SELLER_DISTRIBUTOR_PAIRS_\n          </SellerDistributorPairs>\n        </SellerDistributorContent>\n      </Content>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  background-color: #f7f7f7;\n  display: flex;\n  flex-direction: column;\n`;\n\n// TODO: Figure out how this image should scale.\nconst HeroImage = styled.div`\n  background-image: url('${(props: { heroImageUrl: string }) =>\n    props.heroImageUrl}');\n  background-size: cover;\n  height: 252px;\n  width: 100%;\n\n  @media (${tabletScreens}) {\n    height: 106px;\n  }\n`;\n\nconst Content = styled.div`\n  padding: 44px 66px;\n\n  @media (${tabletScreens}) {\n    padding: 16px 36px;\n  }\n`;\n\nconst Header = styled.div`\n  color: #1e7c9a;\n  font-size: 20px;\n  font-weight: 600;\n  letter-spacing: 0.05em;\n  margin-bottom: 16px;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 8px;\n  }\n`;\n\nconst Subheader = styled.div`\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: 0.05em;\n  margin-bottom: 36px;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 16px;\n  }\n`;\n\nconst Description = styled.div`\n  margin-bottom: 24px;\n`;\n\nconst DonationContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 60px;\n\n  @media (${tabletScreens}) {\n    flex-direction: column;\n  }\n`;\n\nconst DonationContent = styled.div`\n  @media (${tabletScreens}) {\n    margin-bottom: 28px;\n  }\n`;\n\nconst Button = styled.div`\n  text-align: center;\n  width: 240px;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 16px;\n    width: 100%;\n  }\n`;\n\nconst SellerDistributorContent = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst LearnMoreText = styled.div`\n  margin-bottom: 36px;\n`;\n\nconst SellerDistributorPairs = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport default MegaGamListItem;\n","import React from 'react';\nimport {\n  smallScreens,\n  tabletScreens,\n} from '../../../utilities/general/responsive';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nconst NoActiveCampaignsBox = () => {\n  const { t } = useTranslation();\n\n  return (\n    <NoCampaignBox>\n      <TextContainer>\n        <Heading>{t('gamHome.noCampaignsBox.CTA')}</Heading>\n        <SubHeading>{t('gamHome.noCampaignsBox.description')}</SubHeading>\n      </TextContainer>\n      <Button\n        className=\"button--filled\"\n        onClick={(e) => {\n          e.preventDefault();\n          window.open('https://www.gofundme.com/f/gift-a-meal', '_blank');\n        }}\n      >\n        {t('gamHome.giftButton')}\n      </Button>\n    </NoCampaignBox>\n  );\n};\n\nexport default NoActiveCampaignsBox;\n\nconst NoCampaignBox = styled.div`\n  align-items: center;\n  border: 1px solid #e5e5e5;\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  padding: 30px;\n  margin-bottom: 25px;\n\n  @media (${tabletScreens}) {\n    grid-template-columns: 1fr;\n    margin-bottom: 15px;\n  }\n`;\n\nconst TextContainer = styled.div`\n  @media (${tabletScreens}) {\n    margin-bottom: 20px;\n  }\n`;\n\nconst Heading = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n  }\n`;\n\nconst SubHeading = styled.p`\n  font-size: 15px;\n\n  @media (${smallScreens}) {\n    font-size: 12px;\n  }\n`;\n\nconst Button = styled.button`\n  text-align: center;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n    padding-right: 0;\n  }\n`;\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport YouTube from 'react-youtube';\nimport { Options } from 'react-youtube';\n\ninterface Props {\n  videoId: string;\n}\n\nconst VideoComponent = ({ videoId }: Props) => {\n  // https://usehooks.com/useWindowSize/\n  const useWindowSize = () => {\n    const [windowSize, setWindowSize] = useState({\n      width: 0,\n      height: 0,\n    });\n\n    useEffect(() => {\n      function handleResize() {\n        setWindowSize({\n          width: window.innerWidth,\n          height: window.innerHeight,\n        });\n      }\n\n      window.addEventListener('resize', handleResize);\n      handleResize();\n\n      return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowSize;\n  };\n\n  const size = useWindowSize();\n  const width = Math.min(size.width * 0.8, 1200);\n  const height = width / 2;\n  const opts: Options = {\n    height: height.toString(),\n    width: width.toString(),\n    playerVars: {\n      autoplay: 0,\n    },\n  };\n\n  return <YouTube videoId={videoId} opts={opts} />;\n};\n\nexport default VideoComponent;\n","import React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { getCampaigns } from '../../../utilities/api';\nimport type { Campaign } from '../../../utilities/api';\nimport illustrated_flatlay_hero from '../images/illustrated_flatlay_hero.png';\nimport CampaignInstructions from './CampaignInstructions';\nimport CampaignListItem from './CampaignListItem';\nimport MegaGamListItem from './MegaGamListItem';\nimport NoActiveCampaignsBox from './NoCampaignsBox';\nimport VideoComponent from './VideoComponent';\n\nimport styles from './styles.module.scss';\n\ninterface Props {\n  menuOpen: boolean;\n}\n\nconst GiftAMealPage = (props: Props) => {\n  const { t } = useTranslation();\n\n  const [activeCampaigns, setActiveCampaigns] = useState<Campaign[]>([]);\n  const [pastCampaigns, setPastCampaigns] = useState<Campaign[]>([]);\n  const [selectedCampaignId, setSelectedCampaignId] = useState<number | null>(\n    null\n  );\n\n  const fetchData = async () => {\n    const campaignResponse = await getCampaigns();\n    const activeMegaGam: Campaign[] = [];\n    const active: Campaign[] = [];\n    const past: Campaign[] = [];\n\n    // Campaigns come back sorted by oldest to newest end date.\n    campaignResponse.data.forEach((campaign: Campaign) => {\n      if (campaign.project_id) {\n        activeMegaGam.push(campaign);\n      } else if (campaign.active && campaign.valid) {\n        active.push(campaign);\n      } else {\n        past.push(campaign);\n      }\n    });\n\n    // We want active Mega GAM campaigns to show up first and then active\n    // campaigns from oldest to newest.\n    setActiveCampaigns(activeMegaGam.concat(active));\n    // Inactive campaigns should show up newest to oldest.\n    setPastCampaigns(past.reverse());\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div\n      className={styles.container}\n      style={{ display: props.menuOpen ? 'none' : 'inherit' }}\n    >\n      <div className={styles.header}>\n        <img\n          src={illustrated_flatlay_hero}\n          className={styles.hero}\n          alt=\"meal overlay illustration\"\n        />\n        <div className={styles.headerText}>\n          <h3 style={{ fontWeight: 'bolder' }}>{t('gamHome.header')}</h3>\n          <p>{t('gamHome.description')}</p>\n        </div>\n        <CampaignInstructions />\n      </div>\n      <br />\n      <button\n        className={styles.backButton}\n        onClick={(e) => {\n          e.preventDefault();\n          window.location.href = '/all';\n        }}\n      >\n        {t('gamHome.backButton')}\n      </button>\n      {activeCampaigns.length ? (\n        <>\n          {activeCampaigns.map((campaign: Campaign) =>\n            campaign.project_id ? (\n              <MegaGamListItem campaign={campaign} key={campaign.id} />\n            ) : (\n              <CampaignListItem\n                campaign={campaign}\n                key={campaign.id}\n                selectedCampaignId={selectedCampaignId}\n                setSelectedCampaignId={setSelectedCampaignId}\n              />\n            )\n          )}\n        </>\n      ) : (\n        <NoActiveCampaignsBox />\n      )}\n\n      <div className={styles.videoContainer}>\n        <VideoComponent videoId=\"3zbqvouILto\"></VideoComponent>\n        <h5 className={styles.videoDescription}>\n          {t('gamHome.videoBox.caption')}\n        </h5>\n      </div>\n\n      <h5 className={styles.campaignHeader}>{t('gamHome.pastSection')}</h5>\n      {pastCampaigns.map((campaign: Campaign) => (\n        <CampaignListItem\n          campaign={campaign}\n          key={campaign.id}\n          selectedCampaignId={selectedCampaignId}\n          setSelectedCampaignId={setSelectedCampaignId}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default GiftAMealPage;\n"],"sourceRoot":""}