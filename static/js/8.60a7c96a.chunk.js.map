{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","utilities/api/index.ts","utilities/index.ts","components/ModalBuyMealNew/styles.module.scss","components/MerchantsPage/images/gam_icon_step1.svg","components/MerchantsPage/images/gam_icon_step2.svg","components/MerchantsPage/images/gam_icon_step3.svg","components/MerchantsPage/images/gam_icon_step4.svg","utilities/general/responsive.tsx","components/ModalConfirmation/chinatown-logo.png","utilities/hooks/helpers.ts","components/ModalAmount/ModalAmount.tsx","components/ModalBuyMealNew/CamapignInstructions.tsx","components/ModalBuyMealNew/ModalBuyMealPool.tsx","components/ModalPayment/SquareCardForm.tsx","components/ModalPayment/SubmissionButton.tsx","components/ModalPayment/SquareModal.tsx","components/ModalConfirmation/ModalConfirmation.tsx","components/Modal/Modal.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/ProgressBar/ProgressBar.tsx","components/MerchantsPage/styles.module.scss","components/MerchantsPage/images/merchant_icon.png","components/MerchantsPage/MerchantNavBar.tsx","components/MerchantsPage/MerchantCard.tsx","components/MerchantsPage/MerchantDescriptionBanner.tsx","components/MerchantsPage/ContributionBar.tsx","components/MerchantsPage/DonationHighlightBox.tsx","utilities/general/StoreImages.tsx","components/MerchantsPage/GiftMealHighlightBox.tsx","components/MerchantsPage/MerchantsPage.tsx"],"names":["baseUrl","process","sellers","charges","vouchers","passportVouchers","contacts","sponsorSellers","getSellers","lang","a","axios","get","params","locale","localeFromLanguage","getSeller","id","makeSquarePayment","nonce","sellerId","payment","buyer","isDistribution","campaignId","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","is_distribution","campaign_id","headers","then","res","catch","err","getVoucher","updateVoucher","amount","put","getMerchantGiftCards","secret","filterGAM","filterGAMString","language","getCampaigns","getCampaignsForMerchant","getDistributor","getAllParticipatingSellers","getParticipatingMerchant","getParticipatingMerchantTickets","tickets_secret","page","items","printed","associated","getPassportEmailId","getContactInfo","passportId","createPassportEmailId","instagram","updatePassportInstagram","checkForValidTicket","ticket_id","updateTicketContactId","contact_id","getPassportTickets","getParticipatingSeller","getGiveawayTicketsForContact","contactId","sendRedeemTicketsEmail","getLocationById","locationId","getAllSponsors","getOneSponsor","rewardId","redeemReward","auth_token","tickets","createLyftReward","getLyftReward","redeemToken","token","module","exports","smallScreens","tabletScreens","getLocationInfo","merchantData","emptyLocationInfo","line1","line2","locations","data","length","location","address1","address2","city","state","zip_code","useWindowSize","useState","width","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","Modal","props","value","t","useTranslation","useModalPaymentState","isCustomAmount","setIsCustomAmount","selected","setSelected","dispatch","useModalPaymentDispatch","handleAmount","customAmount","text","type","SET_AMOUNT","payload","headerText","purchaseType","ContentContainer","data-testid","Header","sellerName","AmountContainer","htmlFor","SelectAmtContainer","map","key","className","onClick","e","CustomAmountContainer","CustomAmountInput","onFocus","onChange","target","onKeyDown","evt","preventDefault","min","max","Number","ErrorMessage","NextButton","ReactPixel","trackCustom","SET_MODAL_VIEW","disabled","test","styled","form","div","input","button","CampaignInstructions","styles","modalBackground","modalInstructionsGrid","gam_icon_step1","gam_icon_step2","gam_icon_step3","gam_icon_step4","idx","step","icon","generateStep","modalStepGrid","src","alt","modalStepText","uppercase","bold","numberOfMeals","setNumberOfMeals","valueInt","parseInt","isNaN","totalMealPrice","costPerMeal","String","totalAmount","header","description","href","rel","link","amountContainer","selectAmtContainer","selectAmt","classnames","customAmt","placeholder","separator","total","nextBtn","SquareCardForm","SquareCardRow","SquareCardItem","SubmissionButton","canSubmit","context","useContext","Context","submittable","onCreateNonce","SquareModal","applicationId","nonProfitLocationId","isTermsChecked","setTermsChecked","isSubscriptionChecked","setSubscriptionChecked","setName","setEmail","errorMessages","setErrorsMessages","setCanSubmit","mealText","numberOfMealsText","purchaseTypePhrase","shouldLowerCase","EMAIL_REGEX","PaymentContainer","Subheader","RowFormat","LabelText","InputText","pattern","source","required","SquareFormContainer","sandbox","cardNonceResponseReceived","errors","times","currency","item_type","quantity","status","response","responseErrors","message","code","detail","newErrors","error","hasKey","SquareErrors","formId","apiWrapper","errorMessage","CheckboxContainer","Checkbox","inputProps","checked","Disclaimer","setDisclaimerLanguage","ButtonRow","BackButton","label","ModalConfirmation","Container","confirmationText","ThankYouImage","confirmationPic","FinishButton","closeModal","img","uuid","modalView","UPDATE_SELLER_DATA","amount_raised","CLOSE_MODAL","undefined","ModalContainer","CloseButtonContainer","CloseButton","ViewContainer","ModalAmount","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","SupporterTooltip","withStyles","theme","tooltip","backgroundColor","color","fontSize","typography","pxToRem","border","Tooltip","ProgressBar","raised","amountRaised","targetAmount","progressBarColor","numContributions","numDonations","numGiftCards","donationAmount","giftCardAmount","ProgressBarContainer","title","ToolTipTable","Math","floor","toLocaleString","enterTouchDelay","placement","TargetAmountBar","CurrentProgressBar","style","ContributionInfoContainer","table","NavBar","filterStoreType","storeTypes","NavContainer","setStoreType","toUpperCase","MerchantCardBox","storeInfo","to","textDecoration","Logo","hero_image_url","Location","StoreName","Summary","summary","story","target_amount","progress_bar_color","num_contributions","num_donations","num_gift_cards","donation_amount","gift_card_amount","h4","MerchantCard","h3","MerchantDescriptionBanner","bannerContainer","bannerBackground","bannerContentContainer","bannerText","bannerHeaderText","List","Bullets","merchantIcon","merchantIconImage","ul","li","ContributionBar","totalDonations","totalGiftCards","Heading","Contributions","background","TextContainer","DonationHighlightBox","websiteImages","merchantHero","skyline","gamHero","donationPoolHero","openModal","containerClickHandler","Image","ColumnContainer","Description","Button","span","GiftMealHighlightBox","onButtonClick","MerchantsPage","i18n","setSellers","filter","setFilter","setDonations","setGiftCards","fetchData","contributions","reduce","store","container","display","menuOpen","overlayContainer","nycMap","contentContainer","textArea","fontWeight","merchantInfoContainer","highlightsContainer","storeInfoContainer","result","flushing","push","merchantsContainer","flyerContainer","redLink","Loader"],"mappings":"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","file":"static/js/8.60a7c96a.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\nexport const vouchers = baseUrl + 'gift_cards/';\nexport const campaigns = baseUrl + 'campaigns/';\nexport const distributors = baseUrl + 'distributors/';\nexport const passportVouchers = baseUrl + 'participating_sellers/';\nexport const contacts = baseUrl + 'contacts/';\nexport const tickets = baseUrl + 'tickets/';\nexport const participatingSellers = baseUrl + 'participating_sellers/';\nexport const sponsorSellers = baseUrl + 'sponsor_sellers/';\nexport const locations = baseUrl + 'locations/';\nexport const lyftRewards = 'lyft_rewards/';\n","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquareLineItems } from './types';\nimport {\n  charges,\n  sellers,\n  vouchers,\n  campaigns,\n  distributors,\n  passportVouchers,\n  contacts,\n  tickets,\n  participatingSellers,\n  sponsorSellers,\n  locations,\n  lyftRewards,\n} from './endpoints';\n\n// Fix return typing\nexport const getSellers = async (lang?: string): Promise<any> => {\n  return await axios.get(sellers, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\n// Fix return typing\nexport const getSeller = async (id: string, lang?: string): Promise<any> => {\n  return await axios.get(sellers + id, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquareLineItems,\n  buyer: Buyer,\n  isDistribution: boolean,\n  campaignId?: string\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: payment,\n        email,\n        name,\n        seller_id: sellerId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n        is_distribution: isDistribution, // TODO: deprecate this in favor of campaignId\n        campaign_id: campaignId,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport const getVoucher = async (id: string) =>\n  axios\n    .get(vouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateVoucher = async (id: string, amount: number) =>\n  axios\n    .put(vouchers + id, { amount })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getMerchantGiftCards = async (\n  seller_id: string,\n  secret: string,\n  filterGAM: boolean = false\n) => {\n  const filterGAMString = filterGAM ? '?filterGAM=true' : ''; // if the key is present at all, filtering will happen\n  return axios\n    .get(sellers + seller_id + '/gift_cards/' + secret + filterGAMString)\n    .then((res) => res); // don't catch error, throw it up the stack\n};\n\nfunction localeFromLanguage(language?: string) {\n  switch (language) {\n    case 'cn':\n      return 'zh-CN';\n    case 'en':\n    default:\n      return 'en';\n  }\n}\n\nexport const getCampaigns = async (): Promise<any> => {\n  return await axios\n    .get(campaigns)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getCampaignsForMerchant = async (\n  seller_id: string\n): Promise<any> => {\n  return await axios\n    .get(sellers + seller_id + '/campaigns')\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getDistributor = async (id: string): Promise<any> => {\n  return await axios\n    .get(distributors + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getAllParticipatingSellers = async (): Promise<any> =>\n  axios\n    .get(passportVouchers)\n    .then((res) => res)\n    .catch((err) => err);\n\n// for passport crawl voucher print outs\nexport const getParticipatingMerchant = async (id: string) =>\n  axios\n    .get(passportVouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingMerchantTickets = async (\n  id: string,\n  tickets_secret: string,\n  page: number | null,\n  items: number | null,\n  printed: boolean | null,\n  associated: boolean | null\n) =>\n  axios\n    .get(passportVouchers + id + '/tickets/' + tickets_secret, {\n      params: { page, items, printed, associated },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\n// validate passport email\nexport const getPassportEmailId = async (email: string) =>\n  axios\n    .get(contacts, {\n      params: { email },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getContactInfo = async (passportId: string) =>\n  axios\n    .get(contacts + passportId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createPassportEmailId = async (\n  email: string,\n  instagram: string\n) => {\n  let params = {};\n\n  if (instagram) params = { email, instagram };\n  else params = { email };\n\n  return axios\n    .post(contacts, params)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const updatePassportInstagram = async (\n  id: string,\n  instagram: string\n) => {\n  return axios\n    .put(contacts + id, { instagram })\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const checkForValidTicket = async (ticket_id: string) =>\n  axios\n    .get(tickets + ticket_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateTicketContactId = async (\n  ticket_id: string,\n  contact_id: string\n) =>\n  axios\n    .put(tickets + ticket_id, { contact_id })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getPassportTickets = async (passportId: string) =>\n  axios\n    .get(contacts + passportId + '/tickets')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingSeller = async (sellerId: string) =>\n  axios\n    .get(participatingSellers + sellerId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getGiveawayTicketsForContact = async (contactId: string) =>\n  axios\n    .get(contacts + contactId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const sendRedeemTicketsEmail = async (passportId: string) =>\n  axios\n    .post(contacts + passportId + '/rewards')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLocationById = async (locationId: number) =>\n  axios\n    .get(locations + locationId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getAllSponsors = async () =>\n  axios\n    .get(sponsorSellers)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getOneSponsor = async (rewardId: number) =>\n  axios\n    .get(sponsorSellers + rewardId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemReward = async (\n  contact_id: number,\n  auth_token: string,\n  tickets: Array<any>\n) =>\n  axios\n    .put(contacts + contact_id + '/tickets/' + auth_token, { tickets })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createLyftReward = async (contact_id: number) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLyftReward = async (contact_id: number) =>\n  axios\n    .get(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemToken = async (contact_id: number, token: string) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards + token + '/redeem/')\n    .then((res) => res)\n    .catch((err) => err);\n","export * from './types';\nexport * from './interactionManager';\n","export * from './api';\nexport * from './hooks';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__WxP1d\",\"button--red-filled\":\"styles_button--red-filled__16Aab\",\"button--outlined\":\"styles_button--outlined__3j0Xk\",\"button--redfilled\":\"styles_button--redfilled__2VqFG\",\"button--red-outlined\":\"styles_button--red-outlined__3z67O\",\"modalButton--back\":\"styles_modalButton--back__2Eg0M\",\"modalButton--outlined\":\"styles_modalButton--outlined__1_EnJ\",\"modalButton--filled\":\"styles_modalButton--filled__3Rb0W\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__2Njrx\",\"modalButton--selected\":\"styles_modalButton--selected__7SUUW\",\"modalButton--outline\":\"styles_modalButton--outline__1OnDM\",\"closeButton--close\":\"styles_closeButton--close__thSx0\",\"modalForm--form\":\"styles_modalForm--form__2aHxH\",\"modalInput--input\":\"styles_modalInput--input__7T1lZ\",\"filterable-table-container\":\"styles_filterable-table-container__2hexw\",\"header-row\":\"styles_header-row__3OSF9\",\"filter-container\":\"styles_filter-container__27XLt\",\"filter-input\":\"styles_filter-input__2qkxu\",\"clear-filter\":\"styles_clear-filter__2h8SJ\",\"record-count\":\"styles_record-count__1bHO0\",\"table\":\"styles_table__qDlnY\",\"fa\":\"styles_fa__3j6hl\",\"table-email-header\":\"styles_table-email-header__THjkI\",\"table-email-container\":\"styles_table-email-container__3Undu\",\"active\":\"styles_active__3G6q6\",\"disabled\":\"styles_disabled__31b70\",\"header\":\"styles_header__3mg9A\",\"amountContainer\":\"styles_amountContainer__3WST_\",\"selectAmtContainer\":\"styles_selectAmtContainer__2MM7j\",\"selectAmt\":\"styles_selectAmt__3faov\",\"separator\":\"styles_separator__1DAdK\",\"customAmt\":\"styles_customAmt__5bjih\",\"costPerMeal\":\"styles_costPerMeal__2mVM9\",\"nextBtn\":\"styles_nextBtn__2felb\",\"total\":\"styles_total__3Vbzd\",\"illustrationsContainer\":\"styles_illustrationsContainer__1Ied5\",\"illustrationLeading\":\"styles_illustrationLeading__hFCKP\",\"illustrationTrailing\":\"styles_illustrationTrailing__1K7HA\",\"explantionContainer\":\"styles_explantionContainer__2rCgX\",\"explanation\":\"styles_explanation__2yP6R\",\"donationsContainer\":\"styles_donationsContainer__3fFDi\",\"bold\":\"styles_bold__1hwij\",\"uppercase\":\"styles_uppercase__1lbqw\",\"link\":\"styles_link__aYO5H\",\"description\":\"styles_description__1ouq5\",\"modalBackground\":\"styles_modalBackground__iojBx\",\"modalInstructionsGrid\":\"styles_modalInstructionsGrid__2bPZT\",\"modalStepGrid\":\"styles_modalStepGrid__32dHO\",\"modalStepText\":\"styles_modalStepText__2pQc_\"};","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step1.c58f05a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step2.9a0ca5e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step3.ad0c5291.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step4.b9832c02.svg\";","/*\n * Responsive screen sizes\n */\nconst phoneScreens = 'max-width: 450px';\nconst smallScreens = 'max-width: 599px';\nconst tabletScreens = 'max-width: 899px';\nconst desktopScreens = 'max-width: 1299px';\nconst bigDesktopScreens = 'min-width: 1300px';\n\nexport {\n  phoneScreens,\n  smallScreens,\n  tabletScreens,\n  desktopScreens,\n  bigDesktopScreens,\n};\n","module.exports = __webpack_public_path__ + \"static/media/chinatown-logo.f9e716ba.png\";","import { LocationInfo } from '../../utilities/hooks/VoucherContext/types';\nimport { useState, useEffect } from 'react';\n\nexport const getLocationInfo = (merchantData): LocationInfo => {\n  const emptyLocationInfo = {\n    line1: '',\n    line2: '',\n  };\n  const locations = merchantData?.data?.locations;\n  if (!locations || !(locations.length > 0)) {\n    return emptyLocationInfo;\n  }\n  const location = locations[0];\n  if (!location) {\n    return emptyLocationInfo;\n  }\n  const locationInfo = {\n    line1: `${location.address1 ?? ''} ${location.address2 ?? ''}`,\n    line2: `${location.city ?? ''} ${location.state ?? ''}, ${\n      location.zip_code ?? ''\n    }`,\n  };\n  return locationInfo;\n};\n\n// https://usehooks.com/useWindowSize/\nexport const useWindowSize = () => {\n  const [windowSize, setWindowSize] = useState({\n    width: 0,\n    height: 0,\n  });\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n\n    window.addEventListener('resize', handleResize);\n    handleResize();\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowSize;\n};\n","import React, { useState } from 'react';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  SET_MODAL_VIEW,\n  SET_AMOUNT,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nexport interface Props {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n\n  const { amount } = useModalPaymentState();\n  const [isCustomAmount, setIsCustomAmount] = useState(true);\n  const [selected, setSelected] = useState('');\n  const dispatch = useModalPaymentDispatch();\n  const minAmount = 5;\n  const maxAmount = 10000;\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    setSelected(text);\n    setIsCustomAmount(customAmount);\n    dispatch({ type: SET_AMOUNT, payload: value });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('PaymentNextButtonClick', { amount: amount });\n    e.preventDefault();\n    dispatch({ type: SET_MODAL_VIEW, payload: 1 });\n  };\n\n  const validAmount = (value: string) => {\n    const r = /^[0-9]+$/;\n    return r.test(value);\n  };\n\n  const buttonAmounts = [\n    { value: '10', text: '$10' },\n    { value: '25', text: '$25' },\n    { value: '50', text: '$50' },\n    { value: '100', text: '$100' },\n  ];\n\n  const headerText =\n    props.purchaseType === 'donation'\n      ? t('purchase.donation')\n      : t('purchase.voucher');\n\n  return (\n    <ContentContainer id=\"donation-form\" data-testid=\"Modal Amount\">\n      <Header>\n        {headerText} {props.sellerName}\n      </Header>\n\n      {props.sellerId === 'send-chinatown-love' && (\n        <p>{t('donationPool.description2')}</p>\n      )}\n      <p>{t('paymentProcessing.amount.header')}</p>\n\n      <AmountContainer>\n        <label htmlFor=\"select-amount\">\n          {t('paymentProcessing.amount.label1')}\n        </label>\n        <br />\n        <SelectAmtContainer>\n          {buttonAmounts.map((amount) => (\n            <button\n              key={amount.text}\n              type=\"button\"\n              className={\n                selected === amount.text\n                  ? 'modalButton--selected'\n                  : 'modalButton--outlined'\n              }\n              onClick={(e) => {\n                handleAmount(amount.value, false, amount.text);\n              }}\n            >\n              {amount.text}\n            </button>\n          ))}\n        </SelectAmtContainer>\n        <label htmlFor=\"custom-amount\">\n          {t('paymentProcessing.amount.label2')}\n        </label>\n        <br />\n        <CustomAmountContainer>\n          <CustomAmountInput\n            name=\"custom-amount\"\n            type=\"number\"\n            onFocus={(e) => handleAmount('', true, '')}\n            className={'modalInput--input'}\n            onChange={(e) => {\n              handleAmount(e.target.value, true, '');\n            }}\n            onKeyDown={(evt) =>\n              (evt.key === 'e' ||\n                evt.key === '+' ||\n                evt.key === '-' ||\n                evt.key === '.') &&\n              evt.preventDefault()\n            }\n            value={isCustomAmount ? amount : ''}\n            min=\"5\"\n            max=\"10000\"\n          />\n        </CustomAmountContainer>\n        {Number(amount) < minAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.minimum')}{' '}\n            {props.purchaseType === 'gift_card' ? 'voucher' : 'donation'}{' '}\n            {t('paymentProcessing.amount.amount')}: $5\n          </ErrorMessage>\n        )}\n        {Number(amount) > maxAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.maximum')}{' '}\n            {props.purchaseType === 'gift_card' ? 'voucher' : 'donation'}{' '}\n            {t('paymentProcessing.amount.amount')}: $10000\n          </ErrorMessage>\n        )}\n      </AmountContainer>\n\n      <NextButton\n        type=\"button\"\n        className={'modalButton--filled'}\n        onClick={openModal}\n        disabled={\n          Number(amount) < minAmount ||\n          Number(amount) > maxAmount ||\n          !validAmount(amount)\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </NextButton>\n    </ContentContainer>\n  );\n};\n\nexport default Modal;\n\nconst ContentContainer = styled.form`\n  height: 360px;\n`;\n\nconst AmountContainer = styled.div`\n  background-color: #f7f7f7;\n  padding: 25px 35px;\n  margin-top: 30px;\n`;\n\nconst SelectAmtContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  margin: 15px 0px;\n`;\n\nconst CustomAmountContainer = styled.div`\n  position: relative;\n  display: inline;\n\n  :before {\n    content: '$';\n    position: absolute;\n    top: 0;\n    left: 8px;\n    z-index: 1;\n  }\n`;\n\nconst CustomAmountInput = styled.input`\n  width: 250px;\n  border: 1px solid #121212;\n  margin-top: 8px;\n  padding-left: 2em;\n\n  :invalid {\n    border: 1px solid red;\n  }\n\n  @media (max-width: 450px) {\n    width: 100%;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 13px;\n`;\n\nconst NextButton = styled.button`\n  position: relative;\n  float: right;\n  right: 0px;\n  bottom: -25px;\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 30px;\n  font-weight: 600;\n`;\n","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../MerchantsPage/images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../MerchantsPage/images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../MerchantsPage/images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../MerchantsPage/images/gam_icon_step4.svg';\n\nconst CampaignInstructions = () => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.modalBackground}>\n      <div className={styles.modalInstructionsGrid}>\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) => generateStep(step, text, icon, idx))}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, idx) => {\n  return (\n    <div className={styles.modalStepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={styles.modalStepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport styles from './styles.module.scss';\nimport { useModalPaymentDispatch } from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  SET_MODAL_VIEW,\n  SET_AMOUNT,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { useTranslation } from 'react-i18next';\nimport CampaignInstructions from './CamapignInstructions';\nimport ReactPixel from 'react-facebook-pixel';\n\nexport interface Props {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n  const dispatch = useModalPaymentDispatch();\n\n  // set initial number of meals to 1\n  const [numberOfMeals, setNumberOfMeals] = useState(1);\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    const valueInt = parseInt(value, 10);\n    setNumberOfMeals(isNaN(valueInt) ? 0 : valueInt);\n    const totalMealPrice = valueInt * props.costPerMeal;\n    dispatch({ type: SET_AMOUNT, payload: String(totalMealPrice) });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('GiftMealPaymentNextButtonClick', {\n      numberOfMeals: numberOfMeals,\n    });\n    e.preventDefault();\n    dispatch({ type: SET_MODAL_VIEW, payload: 1 });\n  };\n\n  const totalMealPrice = numberOfMeals * props.costPerMeal;\n  const totalAmount = { value: totalMealPrice, text: '$' + totalMealPrice };\n  const COST_LIMIT = 10000;\n\n  useEffect(() => {\n    dispatch({ type: SET_AMOUNT, payload: String(totalMealPrice) });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <form data-testid=\"ModalBuyMeal\">\n      <div>\n        <div className={styles.header}>\n          {props.sellerId\n            ? t('buyMeal.header') + props.sellerName\n            : t('buyMealPool.header')}\n        </div>\n      </div>\n      <p className={styles.description}>\n        {t('buyMealPool.description.weAre')}\n        <a\n          href=\"https://www.apexforyouth.org/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className={styles.link}\n        >\n          {' '}\n          APEX for Youth\n        </a>\n        ,\n        <a\n          href=\"http://www.lajornadany.org/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className={styles.link}\n        >\n          {' '}\n          La Jornada Food Pantry\n        </a>\n        ,\n        <a\n          href=\"https://www.cpc-nyc.org/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className={styles.link}\n        >\n          {' '}\n          the Chinese-American Planning Council{' '}\n        </a>\n        {t('buyMealPool.description.andRestaurants')}\n        <span className={styles.bold}>\n          {' '}\n          {t('buyMealPool.description.allItTakes')} ${props.costPerMeal}\n        </span>\n      </p>\n\n      <CampaignInstructions />\n\n      <div className={styles.amountContainer}>\n        <label htmlFor=\"select-amount\">{t('buyMeal.prompt')}</label>\n        <br />\n        <div className={styles.selectAmtContainer}>\n          <div className={styles.selectAmt}>\n            <input\n              name=\"custom-amount\"\n              type=\"number\"\n              onFocus={(e) => handleAmount('', true, '')}\n              className={classnames(styles.customAmt, 'modalInput--input')}\n              onChange={(e) => {\n                handleAmount(e.target.value, true, '');\n              }}\n              value={numberOfMeals === 0 ? '' : String(numberOfMeals)}\n              placeholder=\"# of meals\"\n              min=\"1\"\n            />\n            <span className={styles.separator}></span>\n            <button\n              type=\"button\"\n              className={classnames(\n                styles.costPerMeal,\n                'modalButton--nonfunctional'\n              )}\n              disabled={true}\n            >\n              {'$' + props.costPerMeal}\n            </button>\n          </div>\n          <label className={styles.total}>\n            {t('buyMeal.totalLabel')} <b>{totalAmount.text}</b>\n          </label>\n        </div>\n        <br />\n      </div>\n\n      <button\n        type=\"button\"\n        className={classnames(styles.nextBtn, 'modalButton--filled')}\n        onClick={openModal}\n        disabled={\n          numberOfMeals < 1 || numberOfMeals > COST_LIMIT / props.costPerMeal\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </button>\n    </form>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport {\n  CreditCardNumberInput,\n  CreditCardExpirationDateInput,\n  CreditCardPostalCodeInput,\n  CreditCardCVVInput,\n} from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport styled from 'styled-components';\n\ntype Props = {};\n\nconst SquareCardForm = (props: Props) => {\n  return (\n    <fieldset className=\"sq-fieldset\">\n      <CreditCardNumberInput />\n\n      <SquareCardRow>\n        <SquareCardItem>\n          <CreditCardExpirationDateInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardCVVInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardPostalCodeInput />\n        </SquareCardItem>\n      </SquareCardRow>\n    </fieldset>\n  );\n};\n\nexport default SquareCardForm;\n\nconst SquareCardRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100% !important;\n`;\n\nconst SquareCardItem = styled.div`\n  width: 30% !important;\n`;\n","import React, { useContext, useState } from 'react';\nimport { Context } from 'react-square-payment-form';\nimport ReactPixel from 'react-facebook-pixel';\n\ntype Props = {\n  canSubmit: boolean;\n};\n\nconst SubmissionButton = ({ canSubmit }: Props) => {\n  const context = useContext(Context);\n  var [submittable] = useState(false);\n\n  const handleSubmit = (evt: { preventDefault: () => void }) => {\n    ReactPixel.trackCustom('PaymentConfirmButtonClick', {});\n    evt.preventDefault();\n    context.onCreateNonce();\n  };\n\n  submittable = canSubmit;\n\n  return (\n    <button\n      type=\"button\"\n      className={'modalButton--filled'}\n      onClick={handleSubmit}\n      disabled={!submittable}\n    >\n      Confirm\n    </button>\n  );\n};\n\nexport default SubmissionButton;\n","import React, { useState, useEffect } from 'react';\nimport { times } from 'lodash/fp';\nimport { Checkbox } from '@material-ui/core';\nimport { SquarePaymentForm } from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport { useTranslation } from 'react-i18next';\nimport SquareCardForm from './SquareCardForm';\nimport SubmissionButton from './SubmissionButton';\nimport { SquareErrors, hasKey } from '../../consts';\nimport { makeSquarePayment, SquareLineItems, Buyer } from '../../utilities/api';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  EMAIL_REGEX,\n  SET_MODAL_VIEW,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\nimport styled from 'styled-components';\n\ntype Props = {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n  idempotencyKey: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n};\n\ntype ErrorMessage = {\n  code: string;\n  detail: string;\n};\n\nconst SquareModal = ({\n  purchaseType,\n  sellerId,\n  sellerName,\n  idempotencyKey,\n  costPerMeal,\n  nonProfitLocationId,\n  campaignId,\n}: Props) => {\n  const { t } = useTranslation();\n  const { amount } = useModalPaymentState();\n  const dispatch = useModalPaymentDispatch();\n\n  const [isTermsChecked, setTermsChecked] = useState(false);\n  const [isSubscriptionChecked, setSubscriptionChecked] = useState(true);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [errorMessages, setErrorsMessages] = useState<string[]>([]);\n  const [canSubmit, setCanSubmit] = useState(false);\n\n  const checkTermsAgreement = () => setTermsChecked(!isTermsChecked);\n  const checkSubscriptionAgreement = () =>\n    setSubscriptionChecked(!isSubscriptionChecked);\n\n  const numberOfMeals = Number(amount) / costPerMeal;\n  const mealText = numberOfMeals > 1 ? 'meals' : 'meal';\n  const numberOfMealsText =\n    purchaseType === 'buy_meal' ? `(${numberOfMeals} ${mealText})` : '';\n\n  const cardNonceResponseReceived = (errors: any[], nonce: string) => {\n    setErrorsMessages([]);\n\n    if (errors && errors.length > 0 && errors[0]) {\n      setErrorsMessages(errors.map((error) => error.message));\n      return;\n    }\n\n    // 'buy_meal' is still represented as a gift card when calling the API\n    const payment: SquareLineItems =\n      purchaseType === 'buy_meal'\n        ? times(\n            () => ({\n              amount: Number(costPerMeal) * 100,\n              currency: 'usd',\n              item_type: 'gift_card',\n              quantity: 1,\n            }),\n            numberOfMeals\n          )\n        : [\n            {\n              amount: Number(amount) * 100,\n              currency: 'usd',\n              item_type: purchaseType,\n              quantity: 1,\n            },\n          ];\n\n    const is_distribution = purchaseType === 'buy_meal';\n    const buyer: Buyer = {\n      name,\n      email,\n      nonce,\n      idempotency_key: idempotencyKey,\n      is_subscribed: isSubscriptionChecked,\n    };\n\n    setCanSubmit(false);\n    return makeSquarePayment(\n      nonce,\n      sellerId,\n      payment,\n      buyer,\n      is_distribution,\n      campaignId\n    )\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch({ type: SET_MODAL_VIEW, payload: 2 });\n        }\n      })\n      .catch((err) => {\n        if (err.response) {\n          let responseErrors: ErrorMessage[] = [];\n          if (err.response.data.errors)\n            responseErrors = err.response.data.errors;\n          else if (err.response.data.message)\n            responseErrors = [\n              { code: 'GENERIC_DECLINE', detail: err.response.data.message },\n            ];\n\n          const newErrors =\n            responseErrors.length > 0\n              ? responseErrors.map((error: ErrorMessage) => {\n                  if (hasKey(SquareErrors, error.code)) {\n                    return SquareErrors[error.code];\n                  } else {\n                    return error.detail;\n                  }\n                })\n              : [];\n          setErrorsMessages(newErrors);\n        }\n      });\n  };\n\n  let applicationId, locationId;\n  if (\n    purchaseType === 'buy_meal' &&\n    nonProfitLocationId === process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID\n  ) {\n    applicationId = process.env.REACT_APP_THINK_CHINATOWN_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID ?? '';\n  } else {\n    applicationId = process.env.REACT_APP_SQUARE_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_SQUARE_LOCATION_ID ?? '';\n  }\n\n  const purchaseTypePhrase = (shouldLowerCase) => {\n    switch (purchaseType) {\n      case 'donation':\n        return shouldLowerCase ? 'donation' : 'Donation';\n      case 'gift_card':\n        return shouldLowerCase ? 'voucher purchase' : 'Voucher purchase';\n      case 'buy_meal':\n        return 'Gift a Meal purchase';\n      default:\n        return 'Donation';\n    }\n  };\n\n  useEffect(() => {\n    setCanSubmit(\n      isTermsChecked &&\n        name.length > 0 &&\n        email.length > 0 &&\n        EMAIL_REGEX.test(email)\n    );\n  }, [isTermsChecked, name, email]);\n\n  const setDisclaimerLanguage = (type: string) => {\n    if (sellerId === 'send-chinatown-love') type = 'donation-pool';\n\n    switch (type) {\n      case 'donation':\n        return t(`By proceeding with your transaction, you understand that you are\n          making a donation to ${sellerName}. No goods or services were\n          exchanged for this donation.`);\n      case 'donation-pool':\n        return t(`By proceeding with your transaction, you understand that\n          you are making a donation to all merchants partnered with Send Chinatown Love\n          Inc. The full donation pool will be split among these merchants. No goods or\n          services were exchanged for this donation.`);\n      case 'gift_card':\n        return t(`By proceeding with your purchase, you understand that the voucher card\n          is not redeemable for cash and can only be used at ${sellerName}. All\n          purchases are final. In the event that the merchant is no longer open\n          at the time of redemption, Send Chinatown Love Inc. will not be able\n          to refund your purchase. Balance displayed in the voucher may or may not\n          represent the final balance. Final balance information is subject to\n          ${sellerName}'s most recent records.`);\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div>\n      <Header>Complete your {purchaseTypePhrase(true)}</Header>\n      <p>Please add your payment information below</p>\n\n      <PaymentContainer>\n        <Subheader>Payment Information</Subheader>\n        <RowFormat>\n          <LabelText htmlFor=\"name\">Full Name</LabelText>\n          <InputText\n            name=\"name\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n            placeholder=\"Name\"\n          />\n          <LabelText htmlFor=\"email\">Email</LabelText>\n          <InputText\n            name=\"email\"\n            type=\"email\"\n            className=\"modalInput--input\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n            placeholder=\"Email\"\n            pattern={EMAIL_REGEX.source}\n            required\n          />\n        </RowFormat>\n        <SquareFormContainer>\n          <SquarePaymentForm\n            sandbox={\n              !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n            }\n            applicationId={applicationId}\n            locationId={locationId}\n            cardNonceResponseReceived={cardNonceResponseReceived}\n            formId=\"SPF\"\n            apiWrapper=\"\"\n          >\n            <SquareCardForm />\n            <div className=\"sq-error-message\">\n              {errorMessages.map((errorMessage) => (\n                <li key={`sq-error-${errorMessage}`}>{errorMessage}</li>\n              ))}\n            </div>\n            <br />\n            <Subheader>Checkout details</Subheader>\n            <span>\n              {' '}\n              {purchaseTypePhrase(false)} of{' '}\n              <b>\n                ${amount} {numberOfMealsText}\n              </b>{' '}\n              to {sellerName}{' '}\n            </span>\n            <p />\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedA\"\n                inputProps={{ 'aria-label': 'Checkbox A' }}\n                onClick={checkTermsAgreement}\n                checked={isTermsChecked}\n              />\n              <span>\n                I agree with the <b>Terms & Conditions</b>\n              </span>\n            </CheckboxContainer>\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedB\"\n                inputProps={{ 'aria-label': 'Checkbox B' }}\n                onClick={checkSubscriptionAgreement}\n                checked={isSubscriptionChecked}\n              />\n              <span>\n                I'd like to receive email updates from Send Chinatown Love, such\n                as when the merchant receives my donation/purchase or when a new\n                merchant is onboarded\n              </span>\n            </CheckboxContainer>\n            <Disclaimer>{setDisclaimerLanguage(purchaseType)}</Disclaimer>\n            <ButtonRow>\n              <BackButton\n                type=\"button\"\n                className={'modalButton--back'}\n                onClick={() => dispatch({ type: SET_MODAL_VIEW, payload: 0 })}\n              >\n                 Back\n              </BackButton>\n              <SubmissionButton canSubmit={canSubmit} />\n            </ButtonRow>\n          </SquarePaymentForm>\n        </SquareFormContainer>\n      </PaymentContainer>\n    </div>\n  );\n};\n\nexport default SquareModal;\n\nconst PaymentContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n\n  div {\n    width: 100%;\n  }\n`;\n\nconst RowFormat = styled.div`\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  text-transform: uppercase;\n`;\n\nconst LabelText = styled.label`\n  color: #373f4a;\n`;\n\nconst InputText = styled.input`\n  font-size: 14px;\n  color: #373f4a;\n  border: 1px solid #dedede;\n  margin: 5px 0 15px;\n  padding: 27px 15px;\n  width: 100%;\n  border-radius: 5px;\n\n  ::placeholder {\n    color: #cdcdcd;\n  }\n\n  :invalid {\n    color: #fa755a;\n  }\n`;\n\nconst CheckboxContainer = styled.label`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  align-items: center;\n  margin-bottom: 10px;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  > span {\n    padding: 9px 9px 9px 0px;\n  }\n`;\n\nconst ButtonRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  justify-content: space-between;\n  margin-bottom: 25px;\n`;\n\nconst BackButton = styled.button`\n  width: 75px;\n  font-size: 13px;\n  background-color: white;\n`;\n\nconst SquareFormContainer = styled.div`\n  h3,\n  span,\n  p {\n    font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 15px;\n  }\n\n  h3 {\n    font-size: 24px;\n  }\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 32px;\n  font-weight: 600;\n`;\n\nconst Subheader = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 18px;\n  font-weight: 700;\n  margin-bottom: 18px;\n`;\n\nconst Disclaimer = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 12px;\n  font-weight: 300;\n  padding: 0px 0px 0px 0px;\n  margin: 30px 0px 30px 0px;\n  opacity: 0.7;\n`;\n","import * as React from 'react';\nimport confirmationPic from './chinatown-logo.png';\nimport styled from 'styled-components';\n\nexport type Props = {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n  closeModal: Function;\n};\n\nconst ModalConfirmation = (props: Props) => {\n  const confirmationText = () => {\n    switch (props.purchaseType) {\n      case 'donation':\n        return `We appreciate your support. We'll let you know when ${props.sellerName} receives your donation!`;\n      case 'gift_card':\n        return `We appreciate your support. We'll email you your voucher when ${props.sellerName} opens back up!`;\n      case 'buy_meal':\n        return `We appreciate your support for ${props.sellerName} and for those in need! Please check your email for your receipt.`;\n      default:\n        return `Unexpected occurrence.`;\n    }\n  };\n\n  return (\n    <Container data-testid=\"Modal Confirmation\">\n      <h2>Thank you!</h2>\n      <p>{confirmationText()}</p>\n\n      <ThankYouImage src={confirmationPic} alt=\"Logo\" />\n\n      <FinishButton\n        className=\"modalButton--filled\"\n        onClick={(e) => props.closeModal(e)}\n      >\n        Finish\n      </FinishButton>\n    </Container>\n  );\n};\n\nexport default ModalConfirmation;\n\nconst Container = styled.div`\n  max-height: 80%;\n  margin-bottom: 25px;\n`;\n\nconst ThankYouImage = styled.img`\n  position: relative;\n  width: 100%;\n`;\n\nconst FinishButton = styled.button`\n  position: relative;\n  margin-top: 35px;\n  float: right;\n  right: 0px;\n`;\n","import React from 'react';\nimport { v4 as uuid } from 'uuid';\nimport ModalAmount from '../ModalAmount';\nimport ModalBuyMealNew from '../ModalBuyMealNew';\nimport { SquareModal } from '../ModalPayment';\nimport ModalConfirmation from '../ModalConfirmation';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  CLOSE_MODAL,\n  UPDATE_SELLER_DATA,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { getSeller } from '../../utilities';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nexport interface Props {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n}\n\nexport interface ModalProps {\n  modalView: number;\n}\n\nexport const Modal = (props: Props) => {\n  const idempotencyKey = uuid();\n  const { modalView } = useModalPaymentState();\n  const dispatch = useModalPaymentDispatch();\n\n  const closeModal = async (e: any) => {\n    ReactPixel.trackCustom('ModalCloseButtonClick', {});\n    e.preventDefault();\n    if (modalView === 2) {\n      const { data } = props.sellerId && (await getSeller(props.sellerId));\n      dispatch({ type: UPDATE_SELLER_DATA, payload: data.amount_raised });\n    }\n    dispatch({ type: CLOSE_MODAL, payload: undefined });\n  };\n\n  return (\n    <ModalContainer modalView={modalView}>\n      <CloseButtonContainer>\n        <CloseButton onClick={closeModal}></CloseButton>\n      </CloseButtonContainer>\n      <ViewContainer>\n        {modalView === 0 && props.purchaseType !== 'buy_meal' && (\n          <ModalAmount {...props} />\n        )}\n        {modalView === 0 && props.purchaseType === 'buy_meal' && (\n          <ModalBuyMealNew {...props} />\n        )}\n        {modalView === 1 && (\n          <SquareModal {...props} idempotencyKey={idempotencyKey} />\n        )}\n        {modalView === 2 && (\n          <ModalConfirmation {...props} closeModal={closeModal} />\n        )}\n      </ViewContainer>\n    </ModalContainer>\n  );\n};\n\nexport default Modal;\n\nconst ModalContainer = styled.div`\n  display: ${(props: ModalProps) => (props.modalView > -1 ? 'flex' : 'none')};\n  flex-direction: column;\n  margin: 0 auto;\n\n  background-color: white;\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 5;\n  padding-bottom: 40px;\n\n  max-height: 85vh;\n  width: 725px;\n  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);\n  height: 65%;\n\n  @media only screen and (max-width: 799px) {\n    width: 85%;\n  }\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    max-height: 100%;\n  }\n`;\nconst ViewContainer = styled.div`\n  overflow-y: scroll;\n  margin: 0 auto;\n  height: 100%;\n  width: 100%;\n  padding: 0 50px;\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    overflow-x: hidden;\n  }\n`;\nconst CloseButtonContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n`;\nconst CloseButton = styled.button`\n  width: 40px;\n  font-weight: bold;\n  font-size: 30px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  background-color: transparent;\n`;\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import * as React from 'react';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles, Theme } from '@material-ui/core/styles';\nimport styled from 'styled-components';\n\ninterface Props {\n  amountRaised: number;\n  targetAmount: number;\n  progressBarColor: string;\n  numContributions: number;\n  numDonations: number;\n  numGiftCards: number;\n  donationAmount: number;\n  giftCardAmount: number;\n}\n\nconst SupporterTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    backgroundColor: '#ffffff',\n    color: 'rgba(0, 0, 0, 0.87)',\n    width: 180,\n    fontSize: theme.typography.pxToRem(14),\n    border: '1px solid #dadde9',\n  },\n}))(Tooltip);\n\nconst ProgressBar = ({\n  amountRaised,\n  targetAmount,\n  progressBarColor,\n  numContributions,\n  numDonations,\n  numGiftCards,\n  donationAmount,\n  giftCardAmount,\n}: Props) => {\n  const progressWidth = (raised: number, target: number) => {\n    if (raised < target) return (raised / target) * 100;\n    return 100;\n  };\n\n  return (\n    <ProgressBarContainer>\n      <SupporterTooltip\n        title={\n          <React.Fragment>\n            <ToolTipTable>\n              <tbody>\n                <tr>\n                  <td>\n                    <b>{numGiftCards}</b> vouchers\n                  </td>\n                  <td>\n                    <b>${Math.floor(giftCardAmount / 100).toLocaleString()}</b>\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>{numDonations}</b> donations\n                  </td>\n                  <td>\n                    <b>${Math.floor(donationAmount / 100).toLocaleString()}</b>\n                  </td>\n                </tr>\n              </tbody>\n            </ToolTipTable>\n          </React.Fragment>\n        }\n        enterTouchDelay={50}\n        placement=\"top\"\n      >\n        <TargetAmountBar className=\"progress-bar\">\n          <CurrentProgressBar\n            style={{\n              width: `${progressWidth(amountRaised, targetAmount)}%`,\n              backgroundColor: progressBarColor,\n              //defaults to default color if no color is passed in\n            }}\n          >\n            {' '}\n          </CurrentProgressBar>\n        </TargetAmountBar>\n      </SupporterTooltip>\n      <ContributionInfoContainer>\n        <div>\n          ${Math.floor(amountRaised / 100).toLocaleString()} of $\n          {Math.floor(targetAmount / 100).toLocaleString()}\n        </div>\n        <div>\n          <div>\n            <b>{numContributions}</b> supporters\n          </div>\n        </div>\n      </ContributionInfoContainer>\n    </ProgressBarContainer>\n  );\n};\n\nexport default ProgressBar;\n\nconst ProgressBarContainer = styled.div`\n  width: 100%;\n  padding: 15px 0;\n`;\n\nconst TargetAmountBar = styled.div`\n  background-color: #dedede;\n  height: 12px;\n  margin-bottom: 15px;\n`;\n\nconst CurrentProgressBar = styled.div`\n  background-color: #dd678a;\n  z-index: 5;\n  height: 12px;\n`;\n\nconst ContributionInfoContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst ToolTipTable = styled.table`\n  width: 100%;\n`;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__16Y8a\",\"button--red-filled\":\"styles_button--red-filled__sRJHB\",\"button--outlined\":\"styles_button--outlined__2pif3\",\"button--redfilled\":\"styles_button--redfilled__3tD5R\",\"button--red-outlined\":\"styles_button--red-outlined__101I2\",\"modalButton--back\":\"styles_modalButton--back__1kkBt\",\"modalButton--outlined\":\"styles_modalButton--outlined__3CkBB\",\"modalButton--filled\":\"styles_modalButton--filled__NieE7\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__LNjxO\",\"modalButton--selected\":\"styles_modalButton--selected__3g0D5\",\"modalButton--outline\":\"styles_modalButton--outline__3DhHE\",\"closeButton--close\":\"styles_closeButton--close__1w-9E\",\"modalForm--form\":\"styles_modalForm--form__1yJgq\",\"modalInput--input\":\"styles_modalInput--input__2aMz4\",\"filterable-table-container\":\"styles_filterable-table-container__1F8BK\",\"header-row\":\"styles_header-row__25U4F\",\"filter-container\":\"styles_filter-container__3HvnW\",\"filter-input\":\"styles_filter-input__1aTps\",\"clear-filter\":\"styles_clear-filter__1B0kZ\",\"record-count\":\"styles_record-count__193Dz\",\"table\":\"styles_table__2Uf9t\",\"fa\":\"styles_fa__J4CcS\",\"table-email-header\":\"styles_table-email-header__3g93x\",\"table-email-container\":\"styles_table-email-container__3Xf1B\",\"active\":\"styles_active__204GO\",\"disabled\":\"styles_disabled__DEvuJ\",\"container\":\"styles_container__2WJAK\",\"storeInfoContainer\":\"styles_storeInfoContainer__2EkUd\",\"merchantsContainer\":\"styles_merchantsContainer__13vzx\",\"overlayContainer\":\"styles_overlayContainer__3upFs\",\"nycMap\":\"styles_nycMap__qHmku\",\"contentContainer\":\"styles_contentContainer__1Wz03\",\"textArea\":\"styles_textArea__3id8d\",\"ownerPanel\":\"styles_ownerPanel__3Sxji\",\"storeInfo\":\"styles_storeInfo__1g3Wp\",\"merchantInfoContainer\":\"styles_merchantInfoContainer__2Hjf_\",\"bannerContainer\":\"styles_bannerContainer__n01-b\",\"bannerContentContainer\":\"styles_bannerContentContainer__3LqYs\",\"bannerBackground\":\"styles_bannerBackground__1zhrd\",\"bannerText\":\"styles_bannerText__1GxRz\",\"bannerHeaderText\":\"styles_bannerHeaderText__Y-TpQ\",\"highlightsContainer\":\"styles_highlightsContainer__19fOS\",\"merchantIconImage\":\"styles_merchantIconImage__2GSwL\",\"flyerContainer\":\"styles_flyerContainer__1NZRv\",\"redLink\":\"styles_redLink__3Remy\"};","module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport { useState } from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\ninterface Props {\n  filterStoreType: Function;\n}\n\nconst NavBar = ({ filterStoreType }: Props) => {\n  const { t } = useTranslation();\n\n  const [selected, setSelected] = useState('all');\n\n  const setStoreType = (type: any, e: any) => {\n    e.preventDefault();\n    setSelected(type);\n    filterStoreType(type);\n  };\n\n  const storeTypes = [\n    { value: 'all', text: t('merchantNavBar.all') },\n    { value: 'Brooklyn', text: t('merchantNavBar.brooklyn') },\n    { value: 'New York', text: t('merchantNavBar.manhattan') },\n    { value: 'Floral Park' || 'Flushing', text: t('merchantNavBar.queens') },\n  ];\n\n  return (\n    <React.Fragment>\n      <NavContainer>\n        {storeTypes.map((type) => (\n          <div key={type.value}>\n            <button\n              className={\n                selected === type.value\n                  ? 'modalButton--filled'\n                  : 'modalButton--back'\n              }\n              onClick={(e) => setStoreType(type.value, e)}\n            >\n              {type.text.toUpperCase()}\n            </button>\n          </div>\n        ))}\n      </NavContainer>\n    </React.Fragment>\n  );\n};\n\nexport default NavBar;\n\nconst NavContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  max-width: 500px;\n  margin-bottom: 50px;\n\n  @media (max-width: 599px) {\n    margin: 25px 0;\n  }\n\n  @media (max-width: 450px) {\n    display: none;\n  }\n`;\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { BrowsePageSeller } from '../../utilities/api';\nimport ProgressBar from '../ProgressBar';\nimport styled from 'styled-components';\nimport { smallScreens } from '../../utilities/general/responsive';\n\nexport interface Props {\n  storeInfo?: BrowsePageSeller;\n}\n\nconst MerchantCardBox = ({ storeInfo }: Props) => {\n  let city = '';\n  let state = '';\n\n  if (storeInfo!.locations && storeInfo!.locations[0]) {\n    city = storeInfo!.locations[0].city;\n    state = storeInfo!.locations[0].state;\n  }\n\n  return (\n    <React.Fragment>\n      <Link\n        to={`/${storeInfo!.seller_id}`}\n        style={{ textDecoration: 'none', color: 'black' }}\n      >\n        <MerchantCard>\n          <Logo src={storeInfo!.hero_image_url} alt=\"Logo\" />\n          <Location>\n            {city}, {state}\n          </Location>\n          <StoreName>{storeInfo!.name}</StoreName>\n          <Summary>{storeInfo!.summary || storeInfo!.story}</Summary>\n          {/* TODO: need to update \"donation\" phrase and the time stamp */}\n          {/* <div style={{ color: '#949494' }}>\n            Last donation 1h ago\n          </div> */}\n          <br />\n          <ProgressBar\n            amountRaised={storeInfo!.amount_raised}\n            targetAmount={storeInfo!.target_amount}\n            progressBarColor={storeInfo!.progress_bar_color}\n            numContributions={storeInfo!.num_contributions}\n            numDonations={storeInfo!.num_donations}\n            numGiftCards={storeInfo!.num_gift_cards}\n            donationAmount={storeInfo!.donation_amount}\n            giftCardAmount={storeInfo!.gift_card_amount}\n          />\n        </MerchantCard>\n      </Link>\n    </React.Fragment>\n  );\n};\n\nexport default MerchantCardBox;\n\nconst Location = styled.h4`\n  font-weight: bolder;\n  color: #1e7c9a;\n  font-size: 15px;\n`;\n\nconst Summary = styled.div`\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: 61px;\n`;\n\nexport const MerchantCard = styled.div`\n    height: 475px;\n    width: 350px;\n    box-shadow: 0px 0px 7px rgba(0, 0, 0, 0.2);\n    padding: 25px;\n    font-size: 14px;\n    background-color: white;\n    &.descriptionBox {\n        width: 430px;\n        height: 475px;\n        text-align: center;\n        margin: 0 auto;\n    }\n    @media (${smallScreens}) {\n        margin: 30px;\n        width: 85vw;\n        &.descriptionBox {\n            width: 85vw;\n            height: auto;\n    }\n`;\n\nconst StoreName = styled.h3`\n  font-weight: bold;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 16px;\n  color: #1e1e1e;\n`;\n\nconst Logo = styled.img`\n  position: relative;\n  width: 100%;\n  border: 1px solid #e5e5e5;\n  border-radius: 15px;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport merchantIcon from './images/merchant_icon.png';\nimport { useTranslation } from 'react-i18next';\nimport styles from './styles.module.scss';\n\nconst MerchantDescriptionBanner = () => {\n  const { t } = useTranslation();\n\n  return (\n    <div className={styles.bannerContainer}>\n      <div className={styles.bannerBackground}></div>\n      <div className={styles.bannerContentContainer}>\n        <div className={styles.bannerText}>\n          <h3 className={styles.bannerHeaderText}>\n            {t('descriptionBox.header')}\n          </h3>\n          <List>\n            <Bullets>{t('descriptionBox.bullet1')}</Bullets>\n            <Bullets>{t('descriptionBox.bullet2')}</Bullets>\n            <Bullets>{t('descriptionBox.bullet3')}</Bullets>\n            <Bullets>{t('descriptionBox.bullet4')}</Bullets>\n            <Bullets>{t('descriptionBox.bullet5')}</Bullets>\n          </List>\n        </div>\n        <img\n          src={merchantIcon}\n          className={styles.merchantIconImage}\n          alt=\"target-merchant-img\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MerchantDescriptionBanner;\n\nconst List = styled.ul`\n  padding: 0 5px 0 20px;\n`;\n\nconst Bullets = styled.li`\n  font-family: Open Sans, sans-serif;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 160%;\n  color: #ffffff;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\ninterface Props {\n  totalDonations: number;\n  totalGiftCards: number;\n}\n\nconst ContributionBar = ({ totalDonations, totalGiftCards }: Props) => {\n  const { t } = useTranslation();\n\n  const progressWidth = (raised: number, total: number) => {\n    if (raised < total) return (raised / total) * 100;\n    return 100;\n  };\n\n  return (\n    <Container>\n      <Heading>\n        {t('contributionBar.header')}: $\n        {Math.floor((totalDonations + totalGiftCards) / 100).toLocaleString()}\n      </Heading>\n      <Contributions\n        style={{\n          background: `linear-gradient(-45deg, #dd678a ${progressWidth(\n            totalDonations,\n            totalDonations + totalGiftCards\n          )}%, #F6B917 0%)`,\n        }}\n      />\n      <TextContainer>\n        <span>\n          {t('contributionBar.vouchers')}:{' '}\n          <b>${(Math.floor(totalGiftCards) / 100).toLocaleString()}</b>\n        </span>\n        <span>\n          {t('contributionBar.donations')}:{' '}\n          <b>${(Math.floor(totalDonations) / 100).toLocaleString()}</b>\n        </span>\n      </TextContainer>\n      <p>{t('contributionBar.footer')}</p>\n    </Container>\n  );\n};\n\nexport default ContributionBar;\n\nconst Container = styled.div`\n  font-size: 13px;\n`;\n\nconst Contributions = styled.div`\n  border-radius: 25px;\n  height: 25px;\n  z-index: 5;\n  width: 100%;\n  margin-bottom: 15px;\n`;\n\nconst TextContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst Heading = styled.div`\n  font-size: 17px;\n  font-weight: bold;\n  margin: 15px 0;\n`;\n","import * as React from 'react';\nimport Modal from '../Modal';\nimport { SET_MODAL_VIEW } from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { useModalPaymentDispatch } from '../../utilities/hooks/ModalPaymentContext/context';\nimport { smallScreens } from '../../utilities/general/responsive';\nimport { getWebsiteImages } from '../../utilities/general/StoreImages';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\nimport { useWindowSize } from '../../utilities/hooks/helpers';\n\nconst DonationHighlightBox = () => {\n  const websiteImages = getWebsiteImages();\n  const { t } = useTranslation();\n  const dispatch = useModalPaymentDispatch();\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('DonationPoolButtonClick', {});\n    e.preventDefault();\n    dispatch({ type: SET_MODAL_VIEW, payload: 0 });\n  };\n\n  const containerClickHandler =\n    useWindowSize().width < 600 ? openModal : () => { };\n\n  return (\n    <Container>\n      <div onClick={containerClickHandler}>\n        <Image src={websiteImages.donationPoolHero} alt=\"banner\" />\n\n        <ColumnContainer>\n          <Header>{t('donationBox.header')}</Header>\n          <Description>{t('donationBox.description')}</Description>\n        </ColumnContainer>\n      </div>\n\n      <Button className={'button--outlined'} onClick={openModal}>\n        {t('donationBox.button')}\n      </Button>\n\n      <Modal\n        purchaseType={'donation'}\n        sellerId={'send-chinatown-love'}\n        sellerName={'Send Chinatown Love Fund'}\n        costPerMeal={0}\n      />\n    </Container>\n  );\n};\n\nexport default DonationHighlightBox;\n\nconst Container = styled.div`\n  flex-direction: column;\n  float: left;\n  align-items: center;\n  border: 1px solid #e5e5e5;\n  border-radius: 5px;\n  display: flex;\n  max-height: 400px;\n  max-width: 550px;\n  object-fit: cover;\n  overflow: hidden;\n  justify-content: space-between;\n  -moz-box-shadow: 0 0 7px #ccc;\n  -webkit-box-shadow: 0 0 7px #ccc;\n  box-shadow: 0 0 7px #ccc;\n\n  @media (${smallScreens}) {\n    max-height: 340px;\n    max-width: 180px;\n  }\n`;\n\nconst ColumnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  padding: 30px 32px 36px 32px;\n\n  @media (${smallScreens}) {\n    padding: 16px 18px;\n    max-height: 340px;\n    max-width: 180px;\n  }\n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: 180px;\n  object-fit: cover;\n\n  @media (${smallScreens}) {\n    height: 120px;\n  }\n`;\n\nconst Header = styled.span`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 25px;\n  letter-spacing: 0.02em;\n  margin-bottom: 16px;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n    line-height: 19px;\n  }\n`;\n\nconst Description = styled.span`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n\n  @media (${smallScreens}) {\n    font-size: 12px;\n    line-height: 16px;\n  }\n`;\n\nconst Button = styled.div`\n  text-align: center;\n  width: 75%;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 24px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (${smallScreens}) {\n    visibility: hidden;\n  }\n`;\n","export const getWebsiteImages = () => {\n  return {\n    merchantHero:\n      'https://storage.googleapis.com/sendchinatownlove-assets/public/assets/general/merchant-directory-hero.png',\n    skyline:\n      'https://storage.googleapis.com/sendchinatownlove-assets/public/assets/general/skyline-hero.png',\n    gamHero:\n      'https://storage.googleapis.com/sendchinatownlove-assets/public/assets/general/gam-hero.png',\n    donationPoolHero:\n      'https://storage.googleapis.com/sendchinatownlove-assets/public/assets/general/donation-pool-hero.png',\n  };\n};\n","import * as React from 'react';\nimport { smallScreens } from '../../utilities/general/responsive';\nimport { getWebsiteImages } from '../../utilities/general/StoreImages';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\nimport { useWindowSize } from '../../utilities/hooks/helpers';\n\nconst GiftMealHighlightBox = () => {\n  const websiteImages = getWebsiteImages();\n  const { t } = useTranslation();\n\n  const onButtonClick = (e: any) => {\n    ReactPixel.trackCustom('GiftMealBoxButtonClick', {});\n    window.location.href = '/gift-a-meal-home';\n  };\n\n  const containerClickHandler =\n    useWindowSize().width < 600 ? onButtonClick : () => {};\n\n  return (\n    <Container onClick={containerClickHandler}>\n      <Image src={websiteImages.gamHero} alt=\"banner\" />\n\n      <ColumnContainer>\n        <Header>{t('gamBox.header')}</Header>\n        <Description>{t('gamBox.description')}</Description>\n      </ColumnContainer>\n\n      <Button className={'button--filled'} onClick={onButtonClick}>\n        {t('gamBox.button')}\n      </Button>\n    </Container>\n  );\n};\n\nexport default GiftMealHighlightBox;\n\nconst Container = styled.div`\n  flex-direction: column;\n  float: left;\n  align-items: center;\n  border: 1px solid #e5e5e5;\n  border-radius: 5px;\n  display: flex;\n  max-height: 400px;\n  max-width: 550px;\n  object-fit: cover;\n  overflow: hidden;\n  justify-content: space-between;\n  -moz-box-shadow: 0 0 7px #ccc;\n  -webkit-box-shadow: 0 0 7px #ccc;\n  box-shadow: 0 0 7px #ccc;\n\n  @media (${smallScreens}) {\n    max-height: 340px;\n    max-width: 180px;\n  }\n`;\n\nconst ColumnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  padding: 30px 32px 16px 32px;\n\n  @media (${smallScreens}) {\n    padding: 16px 18px;\n    max-height: 340px;\n    max-width: 180px;\n  }\n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: 180px;\n  object-fit: cover;\n\n  @media (${smallScreens}) {\n    height: 120px;\n  }\n`;\n\nconst Header = styled.span`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 25px;\n  letter-spacing: 0.02em;\n  margin-bottom: 16px;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n    line-height: 19px;\n  }\n`;\n\nconst Description = styled.span`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n\n  @media (${smallScreens}) {\n    font-size: 12px;\n    line-height: 16px;\n  }\n`;\n\nconst Button = styled.div`\n  text-align: center;\n  width: 75%;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 24px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (${smallScreens}) {\n    visibility: hidden;\n  }\n`;\n","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { getSellers } from '../../utilities';\nimport NavBar from './MerchantNavBar';\nimport MerchantCard from './MerchantCard';\nimport MerchantDescriptionBanner from './MerchantDescriptionBanner';\nimport ContributionBar from './ContributionBar';\nimport styles from './styles.module.scss';\nimport { LoaderFillerContainer } from '../Loader';\nimport DonationHighlightBox from './DonationHighlightBox';\nimport GiftMealHighlightBox from './GiftMealHighlightBox';\nimport { getWebsiteImages } from '../../utilities/general/StoreImages';\nimport { useTranslation } from 'react-i18next';\nimport ReactPixel from 'react-facebook-pixel';\n\ninterface Props {\n  menuOpen: boolean;\n}\n\nReactPixel.trackCustom('MerchantsPageView', {});\nconst MerchantsPage = (props: Props) => {\n  const websiteImages = getWebsiteImages();\n  const { t, i18n } = useTranslation();\n  const [sellers, setSellers] = useState<any | null>();\n  const [filter, setFilter] = useState<any | null>();\n  const [totalDonations, setDonations] = useState(0);\n  const [totalGiftCards, setGiftCards] = useState(0);\n\n  const fetchData = async (lang?) => {\n    const { data } = await getSellers(lang);\n\n    const contributions = data.reduce(\n      (total: any, store: any) => {\n        return [\n          total[0] + store.donation_amount,\n          total[1] + store.gift_card_amount,\n        ];\n      },\n      [0, 0]\n    );\n\n    setSellers(data);\n    setFilter(data);\n    setDonations(contributions[0]);\n    setGiftCards(contributions[1]);\n  };\n\n  useEffect(() => {\n    fetchData(i18n.language);\n  }, [i18n.language]);\n\n  // TODO: replace this filter with a backend API call\n  const filterStoreType = (type: any) => {\n    if (type === 'all') {\n      setFilter(sellers);\n    } else {\n      const result = sellers.filter(\n        (store: any) =>\n          store!.locations.length > 0 && store!.locations[0].city === type\n      );\n      if (type === 'Floral Park') {\n        const flushing = sellers.filter(\n          (store: any) =>\n            store!.locations.length > 0 &&\n            store!.locations[0].city === 'Flushing'\n        );\n        result.push(...flushing);\n      }\n      setFilter(result);\n    }\n  };\n\n  return (\n    <div\n      className={styles.container}\n      style={{ display: props.menuOpen ? 'none' : 'inherit' }}\n    >\n      {filter ? (\n        <>\n          <div className={styles.overlayContainer}>\n            <img\n              src={websiteImages.merchantHero}\n              className={styles.nycMap}\n              alt=\"NYC MAP\"\n            />\n            <div className={styles.contentContainer}>\n              <div className={styles.textArea}>\n                <h2 style={{ fontWeight: 'bolder' }}>\n                  {t('merchantsPage.platformInfoHeader')}\n                </h2>\n                <br />\n                <p>{t('merchantsPage.platformInfoDescription')}</p>\n                <p>{t('merchantsPage.platformInfoAction')}</p>\n              </div>\n              {/* TODO: hook this part up to actual amounts - is there a total amount api call? */}\n              <div className={styles.storeInfo}>\n                <ContributionBar\n                  totalDonations={totalDonations}\n                  totalGiftCards={totalGiftCards}\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className={styles.merchantInfoContainer}>\n            <div className={styles.highlightsContainer}>\n              <DonationHighlightBox />\n              <GiftMealHighlightBox />\n            </div>\n\n            <div className={styles.storeInfoContainer}>\n              <NavBar filterStoreType={filterStoreType} />\n\n              <div className={styles.merchantsContainer}>\n                {filter.map((store: any) =>\n                  store.seller_id !== 'send-chinatown-love' ? (\n                    <MerchantCard key={store.seller_id} storeInfo={store} />\n                  ) : null\n                )}\n              </div>\n            </div>\n          </div>\n\n          <MerchantDescriptionBanner />\n\n          <div className={styles.flyerContainer}>\n            <p>\n              {t('merchantsPage.flyerAsk') + ' '}\n              <a className={styles.redLink} href=\"https://www.sendchinatownlove.com/merchant-flyers.html\">\n                {t('merchantsPage.flyerDownload')}\n              </a>\n            </p>\n          </div>\n        </>\n      ) : (\n          <LoaderFillerContainer />\n        )}\n    </div>\n  );\n};\n\nexport default MerchantsPage;\n"],"sourceRoot":""}