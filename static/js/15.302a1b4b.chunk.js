(this.webpackJsonpsendchinatownlove=this.webpackJsonpsendchinatownlove||[]).push([[15,2,19],{128:function(e,t,n){"use strict";n.d(t,"x",(function(){return v})),n.d(t,"u",(function(){return b})),n.d(t,"w",(function(){return y})),n.d(t,"v",(function(){return g})),n.d(t,"A",(function(){return w})),n.d(t,"z",(function(){return O})),n.d(t,"G",(function(){return j})),n.d(t,"m",(function(){return x})),n.d(t,"d",(function(){return E})),n.d(t,"s",(function(){return C})),n.d(t,"e",(function(){return N})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return B})),n.d(t,"j",(function(){return T})),n.d(t,"b",(function(){return I})),n.d(t,"o",(function(){return G})),n.d(t,"p",(function(){return P})),n.d(t,"q",(function(){return D})),n.d(t,"a",(function(){return U})),n.d(t,"r",(function(){return A})),n.d(t,"k",(function(){return V})),n.d(t,"n",(function(){return z})),n.d(t,"C",(function(){return M})),n.d(t,"l",(function(){return Y})),n.d(t,"D",(function(){return L})),n.d(t,"F",(function(){return F})),n.d(t,"y",(function(){return R})),n.d(t,"H",(function(){return Q})),n.d(t,"g",(function(){return Z})),n.d(t,"B",(function(){return J})),n.d(t,"f",(function(){return H})),n.d(t,"t",(function(){return K})),n.d(t,"c",(function(){return q})),n.d(t,"E",(function(){return W})),n.d(t,"I",(function(){return X}));var r=n(126),a=n.n(r),c=n(127),u=n(174),i=n.n(u),s=(n(175),"https://api.sendchinatownlove.com/"),o=s+"sellers/",l=s+"charges",f=s+"gift_cards/",d=s+"campaigns/",p=s+"fees/",m=s+"participating_sellers/",h=s+"contacts/",_=s+"sponsor_sellers/",v=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o,{params:{locale:k(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o+t,{params:{locale:k(n)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o+t+"/open_hour");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o+t+"/delivery_options");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,u,s,o,f,d){var p,m,h,_;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=u.email,m=u.name,h=u.idempotency_key,_=u.is_subscribed,e.next=5,i.a.post(l,{is_square:!0,nonce:t,line_items:r,email:p,name:m,seller_id:n,project_id:f,idempotency_key:h,is_subscribed:_,is_distribution:s,campaign_id:o,metadata:d},{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,u,i,s){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(f+t).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.put(f+t,{amount:n}).then((function(e){return e})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],c=r?"?filterGAM=true":"",e.abrupt("return",i.a.get(o+t+"/gift_cards/"+n+c).then((function(e){return e})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function k(e){switch(e){case"cn":return"zh-CN";case"en":default:return"en"}}var E=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(d).then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.next=3,i.a.get("".concat(d,"?inactive=true&items=10&page=").concat(t)).then((function(e){return e})).catch((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(o+t+"/campaigns").then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(p+t).then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("https://api.sendchinatownlove.com/distributors/"+t).then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("https://api.sendchinatownlove.com/nonprofits/"+t).then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(m).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(m+t).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c,u,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(m+t+"/tickets/"+n,{params:{page:r,items:c,printed:u,associated:s}}).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,u){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(h,{params:{email:t}}).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{},r=n?{email:t,instagram:n}:{email:t},e.abrupt("return",i.a.post(h,r).then((function(e){return e})).catch((function(e){return e})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(h+t+"/tickets").then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("https://api.sendchinatownlove.com/locations/"+t).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(_+t).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.put(h+t+"/tickets/"+n,{tickets:r}).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(h+t+"/lyft_rewards/").then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post(h+t+"/lyft_rewards/"+n+"/redeem/").then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.put(t,r,{headers:{"Content-Type":r.type}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post("https://api.sendchinatownlove.com/gcs/",{file_name:t,file_type:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post("https://api.sendchinatownlove.com/crawl_receipts/",{participating_seller_id:t,contact_id:n,amount:r,receipt_url:c}).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("https://api.sendchinatownlove.com/rewards/").then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post("https://api.sendchinatownlove.com/redemptions/",{contact_id:t,reward_id:n}).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(h+t+"/crawl_receipts/").then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(h+t+"/redemptions/").then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("https://api.sendchinatownlove.com/auth/google").then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post("https://api.sendchinatownlove.com/auth/passwordless",{email:t}).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("https://api.sendchinatownlove.com/auth/validate",{validateStatus:function(e){return e<500},withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},187:function(e,t,n){e.exports=n.p+"static/media/404-error-image.f72ee016.png"},196:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(2),a=n(0),c=n.n(a),u=n(3),i=n(187),s=n.n(i);function o(){var e=Object(r.a)(["\n  font-weight: 450;\n  font-size: 1rem;\n  a {\n    color: #a7182d;\n  }\n"]);return o=function(){return e},e}function l(){var e=Object(r.a)(["\n  font-weight: 400;\n  margin: 0.2rem auto;\n"]);return l=function(){return e},e}function f(){var e=Object(r.a)(["\n  font-weight: 600;\n"]);return f=function(){return e},e}function d(){var e=Object(r.a)(["\n  margin: 0 auto;\n  width: 80%;\n  text-align: center;\n  display: ",";\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n"]);return d=function(){return e},e}function p(){var e=Object(r.a)(["\n  width: 80%;\n  max-width: 480px;\n  margin: 0 auto;\n"]);return p=function(){return e},e}function m(){var e=Object(r.a)(["\n  font-family: futura;\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"]);return m=function(){return e},e}var h=function(e){return c.a.createElement(_,null,c.a.createElement(b,{menuOpen:e.menuOpen},c.a.createElement(v,{src:s.a,alt:"error"}),c.a.createElement(y,null," Sorry Your Dumpling Was Not Found! "),c.a.createElement(g,null," ","The page you are trying does not exist or has been moved."),c.a.createElement(g,null,"Please try going back to the homepage."),c.a.createElement(w,null,c.a.createElement("a",{href:"https://sendchinatownlove.com/"},"GO TO HOMEPAGE"))))},_=u.a.main(m()),v=u.a.img(p()),b=u.a.div(d(),(function(e){return e.menuOpen?"none":"flex"})),y=u.a.div(f()),g=u.a.div(l()),w=u.a.div(o())},291:function(e,t,n){e.exports={"button--filled":"styles_button--filled__3g-mZ","button--red-filled":"styles_button--red-filled__2hfQJ","button--outlined":"styles_button--outlined__1u9dK","button--outlined-with-red":"styles_button--outlined-with-red__1mzLc","button--redfilled":"styles_button--redfilled__1v7Uq","button--red-outlined":"styles_button--red-outlined__dPBz_","modalButton--back":"styles_modalButton--back__3fUEz","modalButton--outlined":"styles_modalButton--outlined__32v29","modalButton--filled":"styles_modalButton--filled__UrmGO","modalButton--nonfunctional":"styles_modalButton--nonfunctional__22Qm-","modalButton--selected":"styles_modalButton--selected__1JgjQ","modalButton--outline":"styles_modalButton--outline__2dPxe","closeButton--close":"styles_closeButton--close__2HmZM","modalForm--form":"styles_modalForm--form__3yk9T","modalInput--input":"styles_modalInput--input__3ZDiJ","filterable-table-container":"styles_filterable-table-container__3Djf-","header-row":"styles_header-row__1GHCT","filter-container":"styles_filter-container__1DUSK","filter-input":"styles_filter-input__ir8Rf","clear-filter":"styles_clear-filter__2EGMJ","record-count":"styles_record-count__1zy20",table:"styles_table__3cZ9F",fa:"styles_fa__upKlt","table-email-header":"styles_table-email-header__nglnm","table-email-container":"styles_table-email-container__2ghpD",active:"styles_active__2qlTg",disabled:"styles_disabled__2Bs57",header:"styles_header__QrHY9",headerTitle:"styles_headerTitle__3yFl5",headerSubtitle:"styles_headerSubtitle__3aYur",actionButtons:"styles_actionButtons__2EoxA",loadingButton:"styles_loadingButton__2Yk5f",loadingButtonIcon:"styles_loadingButtonIcon__35MfM",loadingText:"styles_loadingText__2DNGZ",stats:"styles_stats__3TsVS",statsTitle:"styles_statsTitle__14SIx",statsSubtitle:"styles_statsSubtitle__dfpnF",banner:"styles_banner__hj7r8",successfulSaveBanner:"styles_successfulSaveBanner__4pj31",successfulSaveIconContainer:"styles_successfulSaveIconContainer__3ilmQ",saveErrorBanner:"styles_saveErrorBanner__3vS3m",errorIconContainer:"styles_errorIconContainer__JnN1_",contentContainer:"styles_contentContainer__r5zQQ",filterSection:"styles_filterSection__2T1LG",searchBar:"styles_searchBar__1yGUh",searchIcon:"styles_searchIcon__yrkfx",searchText:"styles_searchText__2Zn_X",filterGamContainer:"styles_filterGamContainer__27z46",checkbox:"styles_checkbox__1ZGKZ",filterGamText:"styles_filterGamText__rYNR4",filterGamSelected:"styles_filterGamSelected__CQXLa",tableContainer:"styles_tableContainer__1Pk15",editCell:"styles_editCell__3WB4f",editIconContainer:"styles_editIconContainer__GvQb2",editIcon:"styles_editIcon__2SEYC",endingBalance:"styles_endingBalance__2QSKr",editEndingBalance:"styles_editEndingBalance__1g-0x",saveButton:"styles_saveButton__ZOO_5",markUsedContainer:"styles_markUsedContainer__Tzt5h",markUsedLabel:"styles_markUsedLabel__2xL0l",markedUsed:"styles_markedUsed__19cm7",greyBox:"styles_greyBox__1ro3M"}},459:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return $}));var r=n(126),a=n.n(r),c=n(127),u=n(12),i=n(0),s=n.n(i),o=n(6),l=n(411),f=n(37),d=n(130),p=n.n(d),m=n(158),h=n.n(m),_=n(450),v=n(460),b=n(466),y=n(417),g=n.n(y),w=n(416),O=n.n(w),j=n(418),x=n.n(j),k=n(412),E=n.n(k),C=n(413),N=n.n(C),S=n(291),B=n.n(S),T="GENERIC",I="VALIDATION",G={GENERIC:"There was an error saving your changes. Please refresh your page and try again.",VALIDATION:"The ending balance entered is higher than the current voucher balance. Please enter a value the same or lower than the current balance before saving."},P={GENERIC:"\u7f16\u8f91\u50a8\u5b58\u9519\u8bef\u3002\u8bf7\u5237\u65b0\u9875\u9762\u5e76\u91cd\u65b0\u50a8\u5b58\u3002",VALIDATION:"\u8f93\u5165\u7684\u7ed3\u4f59\u5927\u4e8e\u793c\u54c1\u5238\u53ef\u7528\u91d1\u989d\u3002\u8bf7\u8f93\u5165\u7b49\u4e8e\u6216\u5c0f\u4e8e\u793c\u54c1\u5238\u53ef\u7528\u91d1\u989d\u5e76\u91cd\u65b0\u50a8\u5b58\u3002"},D=function(){return s.a.createElement("div",{className:p()(B.a.banner,B.a.successfulSaveBanner)},s.a.createElement("div",{className:B.a.successfulSaveIconContainer},s.a.createElement(E.a,null)),"Your changes have been saved. \u7f16\u8f91\u5df2\u50a8\u5b58\u3002")},U=function(e){var t=e.errorType;return s.a.createElement("div",{className:p()(B.a.banner,B.a.saveErrorBanner)},s.a.createElement("div",{className:B.a.errorIconContainer},s.a.createElement(N.a,null)),G[t],s.a.createElement("br",null),P[t])},A=n(467),V=n(452),z=n(415),M=n.n(z),Y=function(e){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e/100)},L=n(128),F=n(414),R=function(e){return h()(e).format("YYYY-MM-DD")},Q=function(e){return String(e/100)},Z=function(e){return e.latest_value!==e.original_value},J=function(e){var t=e.fetchData,n=e.giftCards,r=e.setErrorType,o=e.setShowSuccessBanner,l=e.showPrintView,d=Object(i.useState)(null),m=Object(u.a)(d,2),h=m[0],b=m[1],y=Object(i.useState)(""),g=Object(u.a)(y,2),w=g[0],O=g[1];Object(i.useEffect)((function(){r(null),h||O("")}),[h,r]);var j=Object(i.useRef)();Object(i.useEffect)((function(){l?(null===j||void 0===j?void 0:j.current).updatePageSize({target:{value:1e3}}):(null===j||void 0===j?void 0:j.current).updatePageSize({target:{value:20}})}),[l]);var x=Object(i.useCallback)(function(){var e=Object(c.a)(a.a.mark((function e(n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=100*parseFloat(w))!==(null===h||void 0===h?void 0:h.latest_value)){e.next=4;break}return b(null),e.abrupt("return");case 4:return e.prev=4,e.next=7,Object(L.G)(n,c);case 7:t(),b(null),r(null),o(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),e.t0.message.includes("422")?r(I):r(T);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),[h,t,w,r,o]),k=[{name:"seller_gift_card_id",displayName:"Voucher Code\n\u793c\u54c1\u5238\u53f7\u7801",sortable:!0},{name:"email",displayName:"Email\n\u7535\u5b50\u90ae\u4ef6",sortable:!0,thClassName:"table-email-header",tdClassName:"table-email-container"},{name:"original_value",displayName:"Original Amount\n\u8d2d\u4e70\u91d1\u989d",sortable:!0,render:function(e){var t=e.value;return Y(t)}},{name:"created_at",displayName:"Date Purchased\n\u8d2d\u4e70\u65e5\u671f",sortable:!0,render:function(e){var t=e.value;return R(t)}},{name:"last_updated",displayName:"Date Last Used\n\u4e0a\u6b21\u4f7f\u7528\u65e5\u671f",sortable:!0,render:function(e){var t=e.record,n=e.value;return Z(t)?R(n):l?s.a.createElement("div",{className:B.a.greyBox}):"N/A"}},{name:"latest_value",displayName:"Ending Balance\n\u7ed3\u4f59",sortable:!0,render:function(e){var t,n=e.record,r=e.value;if(l&&!Z(n))return s.a.createElement("div",{className:B.a.greyBox});if(n.seller_gift_card_id!==(null===h||void 0===h?void 0:h.seller_gift_card_id)){return s.a.createElement("div",{className:B.a.editCell},Y(r),s.a.createElement("div",{className:B.a.editIconContainer,onClick:function(){return function(e){O(Q(e.latest_value)),b(e)}(n)}},!l&&0!==n.latest_value&&s.a.createElement(M.a,{classes:{root:B.a.editIcon}})))}if(n.single_use){var a,c=Q(n.original_value),u=w!==c;t=s.a.createElement("div",{className:B.a.markUsedContainer},s.a.createElement(v.a,{checked:u,classes:{checked:u?B.a.markedUsed:"",colorSecondary:u?B.a.markedUsed:""},onChange:function(){return O(u?c:String(0))}}),s.a.createElement("div",{className:p()((a={},Object(f.a)(a,B.a.markUsedLabel,!0),Object(f.a)(a,B.a.markedUsed,u),a))},"Mark as used",s.a.createElement("br",null),"\u6807\u8bb0\u4e3a\u5df2\u4f7f\u7528"))}else t=s.a.createElement(V.a,{InputProps:{startAdornment:s.a.createElement(A.a,{position:"start"},"$")},onChange:function(e){return O(e.target.value)},value:w,variant:"outlined"});return s.a.createElement("div",{className:B.a.editEndingBalance},t,s.a.createElement(_.a,{className:B.a.saveButton,onClick:function(){return x(n.gift_card_id)},variant:"outlined"},"Save \u50a8\u5b58"))},thClassName:B.a.endingBalance}];return s.a.createElement(F,{bottomPagerVisible:!l,className:B.a.tableContainer,data:n,fields:k,headerVisible:!1,initialSort:"seller_gift_card_id",namespace:"Vouchers",noFilteredRecordsMessage:"No vouchers found for filter",noRecordsMessage:"No vouchers in our system yet!",pageSizes:null,recordCountName:"Voucher Found",recordCountNamePlural:"Vouchers Found",ref:j,topPagerVisible:!1})},H=n(44),K=function(e){var t=e.icon,n=e.onClick,r=e.text,o=Object(i.useState)(!1),l=Object(u.a)(o,2),f=l[0],d=l[1],p=Object(i.useCallback)(Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,n();case 4:return e.prev=4,d(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])}))),[n]),m=t;return s.a.createElement(_.a,{className:B.a.loadingButton,onClick:p,variant:"outlined"},s.a.createElement("div",{className:B.a.loadingButtonIcon},f?s.a.createElement(H.b,{size:"24px"}):s.a.createElement(m,null)),s.a.createElement("div",{className:B.a.loadingText},r))},q=function(e){var t=e.subtitle,n=e.title;return s.a.createElement("div",null,s.a.createElement("div",{className:B.a.statsTitle},n),s.a.createElement("div",{className:B.a.statsSubtitle},t))},W=function(e){var t,n=e.fetchData,r=e.giftCards,a=e.handlePrint,c=e.organizationName,o=e.showPrintView,l=Object(i.useState)(""),d=Object(u.a)(l,2),m=d[0],_=d[1],y=Object(i.useState)(!1),w=Object(u.a)(y,2),j=w[0],k=w[1],E=Object(i.useState)(!1),C=Object(u.a)(E,2),N=C[0],S=C[1],T=Object(i.useState)(null),I=Object(u.a)(T,2),G=I[0],P=I[1];Object(i.useEffect)((function(){N&&setTimeout((function(){return S(!1)}),15e3)}),[N]);var A=Object(i.useMemo)((function(){return[{subtitle:String(r.filter((function(e){return e.latest_value>0})).length),title:"# Active Vouchers  \u53ef\u4f7f\u7528\u7684\u793c\u54c1\u5238\u6570\u91cf"},{subtitle:Y(r.reduce((function(e,t){return e+t.latest_value}),0)),title:"Total Balance  \u603b\u7ed3\u4f59"},{subtitle:h()().format("YYYY-MM-DD, h:mm A"),title:"Last Updated \u4e0a\u6b21\u66f4\u65b0\u65f6\u95f4"}]}),[r]),V=Object(i.useMemo)((function(){return m||j?r.filter((function(e){if(j&&e.single_use)return!1;if(m){for(var t=["email","seller_gift_card_id"],n=m.toLowerCase(),r=0;r<t.length;r++)if(-1!==e[t[r]].toLowerCase().indexOf(n))return!0;return!1}return!0})):r}),[j,r,m]);return s.a.createElement("div",null,s.a.createElement("div",{className:B.a.header},s.a.createElement("div",null,s.a.createElement("div",{className:B.a.headerTitle},"Voucher Tracker \u793c\u54c1\u5238\u8bb0\u5f55"),s.a.createElement("div",{className:B.a.headerSubtitle},c)),s.a.createElement("div",{className:B.a.actionButtons},s.a.createElement(K,{icon:O.a,onClick:n,text:"Refresh \u5237\u65b0"}),s.a.createElement(K,{icon:g.a,onClick:a,text:"Print \u6253\u5370"}))),s.a.createElement("div",{className:B.a.stats},A.map((function(e){return s.a.createElement(q,Object.assign({key:e.title},e))}))),N&&s.a.createElement(D,null),G&&s.a.createElement(U,{errorType:G}),s.a.createElement("div",{className:B.a.contentContainer},s.a.createElement("div",{className:B.a.filterSection},s.a.createElement("div",{className:B.a.searchBar},s.a.createElement("div",{className:B.a.searchIcon},s.a.createElement(x.a,null)),s.a.createElement(b.a,{className:B.a.searchText,inputProps:{"aria-label":"search"},onChange:function(e){return _(e.target.value)},placeholder:"Search by Voucher Code or Email Address \u4f7f\u7528\u793c\u54c1\u5238\u53f7\u7801\u6216\u7535\u5b50\u90ae\u4ef6\u641c\u5bfb"})),s.a.createElement("div",{className:B.a.filterGamContainer},s.a.createElement(v.a,{checked:j,className:B.a.checkbox,classes:{checked:j?B.a.filterGamSelected:"",colorSecondary:j?B.a.filterGamSelected:""},onChange:function(e){return k(e.target.checked)}}),s.a.createElement("div",{className:p()((t={},Object(f.a)(t,B.a.filterGamText,!0),Object(f.a)(t,B.a.filterGamSelected,j),t))},"Hide gift-a-meal vouchers",s.a.createElement("br",null),"\u9690\u85cf\u7231\u5fc3\u9910\u9910\u5238"))),s.a.createElement(J,{fetchData:n,giftCards:V,setErrorType:P,setShowSuccessBanner:S,showPrintView:o})))},X=n(196),$=function(){var e=Object(i.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],f=Object(i.useState)(!0),d=Object(u.a)(f,2),p=d[0],m=d[1],h=Object(i.useState)(null),_=Object(u.a)(h,2),v=_[0],b=_[1],y=Object(i.useState)([]),g=Object(u.a)(y,2),w=g[0],O=g[1],j=Object(i.useRef)(null),x=Object(i.useState)(!1),k=Object(u.a)(x,2),E=k[0],C=k[1],N=Object(l.useReactToPrint)({content:function(){return j.current},onAfterPrint:function(){return C(!1)}}),S=Object(i.useCallback)(Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N&&(C(!0),N());case 1:case"end":return e.stop()}}),e)}))),[N]),B=Object(o.g)().location.pathname.match(/\/[^/]+/g).map((function(e){return e.replace("/","")})),T=B[0],I=B[2],G=Object(i.useCallback)(Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(L.u)(T);case 3:return t=e.sent,e.next=6,Object(L.m)(T,I);case 6:n=e.sent,b(t.data),O(n.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r(!0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[T,I]),P=Object(i.useCallback)(Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:return e.prev=3,m(!1),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])}))),[G]);return Object(i.useEffect)((function(){P()}),[P]),p?s.a.createElement(H.b,{isPage:!0}):n||!v?s.a.createElement(X.default,{menuOpen:!1}):s.a.createElement("div",{ref:j},s.a.createElement(W,{fetchData:G,giftCards:w,handlePrint:S,organizationName:v.name,showPrintView:E}))}}}]);
//# sourceMappingURL=15.302a1b4b.chunk.js.map