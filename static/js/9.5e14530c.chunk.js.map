{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","utilities/api/index.ts","utilities/index.ts","utilities/general/responsive.tsx","components/ModalPayment/ModalBuyMeal/styles.module.scss","components/MerchantsPage/images/gam_icon_step1.svg","components/MerchantsPage/images/gam_icon_step2.svg","components/MerchantsPage/images/gam_icon_step3.svg","components/MerchantsPage/images/gam_icon_step4.svg","components/ModalPayment/ModalConfirmation/chinatown-logo.png","components/ModalPayment/ModalAmount/ModalAmount.tsx","components/ModalPayment/ModalBuyMeal/CamapignInstructions.tsx","components/ModalPayment/ModalBuyMeal/ModalBuyMealPool.tsx","components/ModalPayment/ModalCardDetails/SquareCardForm.tsx","components/ModalPayment/ModalCardDetails/SubmissionButton.tsx","components/ModalPayment/ModalCardDetails/ModalCardDetails.tsx","components/ModalPayment/ModalConfirmation/ModalConfirmation.tsx","components/ModalPayment/Modal.tsx","components/MerchantsPage/gam/styles.module.scss","components/MerchantsPage/images/illustrated_flatlay_hero.png","components/MerchantsPage/images/campaign_default.png","components/MerchantsPage/gam/CampaignInstructions.tsx","components/MerchantsPage/gam/NoCampaignsBox.tsx","components/MerchantsPage/gam/CampaignProgressBar.tsx","components/MerchantsPage/gam/CampaignListItem.tsx","components/MerchantsPage/gam/VideoComponent.tsx","components/MerchantsPage/gam/GiftAMealPage.tsx"],"names":["baseUrl","process","sellers","charges","vouchers","passportVouchers","contacts","sponsorSellers","getSellers","lang","a","axios","get","params","locale","localeFromLanguage","getSeller","id","getSellerHours","getSellerDeliveryOptions","makeSquarePayment","nonce","sellerId","payment","buyer","isDistribution","campaignId","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","is_distribution","campaign_id","headers","then","res","catch","err","getVoucher","updateVoucher","amount","put","getMerchantGiftCards","secret","filterGAM","filterGAMString","language","getCampaigns","getCampaignsForMerchant","getDistributor","getFiscalSponsor","getAllParticipatingSellers","getParticipatingMerchant","getParticipatingMerchantTickets","tickets_secret","page","items","printed","associated","getPassportEmailId","getContactInfo","passportId","createPassportEmailId","instagram","updatePassportInstagram","checkForValidTicket","ticket_id","updateTicketContactId","contact_id","getPassportTickets","getParticipatingSeller","getGiveawayTicketsForContact","contactId","sendRedeemTicketsEmail","getLocationById","locationId","getAllSponsors","getOneSponsor","rewardId","redeemReward","auth_token","tickets","createLyftReward","getLyftReward","redeemToken","token","phoneScreens","smallScreens","tabletScreens","module","exports","Modal","props","value","t","useTranslation","useModalPaymentState","modalView","useState","isCustomAmount","setIsCustomAmount","selected","setSelected","dispatch","useModalPaymentDispatch","handleAmount","customAmount","text","type","ModalPaymentConstants","SET_AMOUNT","payload","purchaseIsDonation","ModalPaymentTypes","modalPages","donation","headerText","seller","sellerName","ContentContainer","data-testid","Header","AmountContainer","htmlFor","SelectAmtContainer","map","key","className","onClick","e","CustomAmountContainer","CustomAmountInput","onFocus","onChange","target","onKeyDown","evt","preventDefault","min","max","Number","ErrorMessage","NextButton","ReactPixel","trackCustom","SET_MODAL_VIEW","card_details","disabled","test","styled","form","div","input","button","CampaignInstructions","styles","modalBackground","modalInstructionsGrid","gam_icon_step1","gam_icon_step2","gam_icon_step3","gam_icon_step4","idx","step","icon","generateStep","modalStepGrid","src","alt","modalStepText","uppercase","bold","numberOfMeals","setNumberOfMeals","campaignDistributor","setCampaignDistributor","valueInt","parseInt","isNaN","totalMealPrice","costPerMeal","String","totalAmount","useEffect","fetchData","data","distributor_id","distrib","Distributor","href","website_url","rel","link","header","description","amountContainer","selectAmtContainer","selectAmt","classnames","customAmt","placeholder","separator","total","nextBtn","SquareCardForm","SquareCardRow","SquareCardItem","SubmissionButton","canSubmit","context","useContext","Context","submittable","onCreateNonce","ModalCardDetails","applicationId","nonProfitLocationId","uuid","purchaseType","isTermsChecked","setTermsChecked","isSubscriptionChecked","setSubscriptionChecked","setName","setEmail","errorMessages","setErrorsMessages","setCanSubmit","buy_meal","mealText","numberOfMealsText","purchaseTypePhrase","shouldLowerCase","gift_card","length","EMAIL_REGEX","PaymentContainer","Subheader","RowFormat","LabelText","InputText","pattern","source","required","SquareFormContainer","sandbox","cardNonceResponseReceived","errors","times","currency","item_type","quantity","status","confirmation","response","responseErrors","message","code","detail","newErrors","error","hasKey","SquareErrors","formId","apiWrapper","errorMessage","CheckboxContainer","Checkbox","inputProps","checked","Disclaimer","donation_pool","setDisclaimerLanguage","ButtonRow","BackButton","label","ModalConfirmation","closeModal","UPDATE_SELLER_DATA","amount_raised","CLOSE_MODAL","undefined","Container","confirmationText","ThankYouImage","confirmationPic","FinishButton","img","ModalContainer","CloseButtonContainer","CloseButton","ViewContainer","ModalAmount","renderModalPage","background","instructionsGrid","stepGrid","stepText","NoActiveCampaignsBox","NoCampaignBox","TextContainer","Heading","SubHeading","Button","window","open","p","CampaignProgressBar","raised","isActive","numContributions","targetAmount","progressBarColor","lastContributionTime","endDate","progressPercent","Math","floor","timeUntilEnd","getTime","Date","now","daysUntilEnd","timeSinceLastContribution","ProgressBarContainer","TimeStamp","minutesSinceLastConstribution","hoursSinceLastContribution","daysSinceLastContribution","lastContributionTimeAsPresentable","TargetAmountBar","CurrentProgressBar","style","width","backgroundColor","ProgressTextContainer","color","ceil","span","ModalBox","CampaignListItem","distributor","setDistributor","merchant","setMerchant","fiscalSponsor","setFiscalSponsor","campaign","distributorData","merchantData","nonprofit_id","mealsRaised","price_per_meal","targetMeals","target_amount","campaignImageUrls","gallery_image_urls","Fragment","ColumnContainer","CampaignImageContainer","CampaignImage","campaignDefaultImage","locations","Location","city","Name","Description","active","last_contribution","end_date","ImagesContainer","DistributorImage","image_url","location","event","setSelectedCampaign","selectedCampaign","non_profit_location_id","FiscalSponsorContainer","FiscalSponsorImage","logo_image_url","FiscalSponsorDivider","FiscalSponsorText","sponsorName","Border","VideoComponent","videoId","size","height","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","opts","toString","playerVars","autoplay","GiftAMealPage","activeCampaigns","setActiveCampaigns","pastCampaigns","setPastCampaigns","campaignData","filter","valid","past","reverse","container","display","menuOpen","illustrated_flatlay_hero","hero","fontWeight","backButton","campaignHeader","videoContainer","videoDescription"],"mappings":"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","file":"static/js/9.5e14530c.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\nexport const vouchers = baseUrl + 'gift_cards/';\nexport const campaigns = baseUrl + 'campaigns/';\nexport const distributors = baseUrl + 'distributors/';\nexport const nonprofits = baseUrl + 'nonprofits/';\nexport const passportVouchers = baseUrl + 'participating_sellers/';\nexport const contacts = baseUrl + 'contacts/';\nexport const tickets = baseUrl + 'tickets/';\nexport const participatingSellers = baseUrl + 'participating_sellers/';\nexport const sponsorSellers = baseUrl + 'sponsor_sellers/';\nexport const locations = baseUrl + 'locations/';\nexport const lyftRewards = 'lyft_rewards/';\n","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquareLineItems } from './types';\nimport {\n  charges,\n  sellers,\n  vouchers,\n  campaigns,\n  distributors,\n  passportVouchers,\n  contacts,\n  tickets,\n  participatingSellers,\n  sponsorSellers,\n  locations,\n  lyftRewards,\n  nonprofits,\n} from './endpoints';\n\n// Fix return typing\nexport const getSellers = async (lang?: string): Promise<any> => {\n  return await axios.get(sellers, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSeller = async (id: string, lang?: string): Promise<any> => {\n  return await axios.get(sellers + id, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSellerHours = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/open_hour');\n};\n\nexport const getSellerDeliveryOptions = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/delivery_options');\n};\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquareLineItems,\n  buyer: Buyer,\n  isDistribution: boolean,\n  campaignId?: string\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: payment,\n        email,\n        name,\n        seller_id: sellerId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n        is_distribution: isDistribution, // TODO: deprecate this in favor of campaignId\n        campaign_id: campaignId,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport const getVoucher = async (id: string) =>\n  axios\n    .get(vouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateVoucher = async (id: string, amount: number) =>\n  axios\n    .put(vouchers + id, { amount })\n    .then((res) => res)\n    .catch((err) => {\n      throw err;\n    });\n\nexport const getMerchantGiftCards = async (\n  seller_id: string,\n  secret: string,\n  filterGAM: boolean = false\n) => {\n  const filterGAMString = filterGAM ? '?filterGAM=true' : ''; // if the key is present at all, filtering will happen\n  return axios\n    .get(sellers + seller_id + '/gift_cards/' + secret + filterGAMString)\n    .then((res) => res); // don't catch error, throw it up the stack\n};\n\nfunction localeFromLanguage(language?: string) {\n  switch (language) {\n    case 'cn':\n      return 'zh-CN';\n    case 'en':\n    default:\n      return 'en';\n  }\n}\n\nexport const getCampaigns = async (): Promise<any> => {\n  return await axios\n    .get(campaigns)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getCampaignsForMerchant = async (\n  seller_id: string\n): Promise<any> => {\n  return await axios\n    .get(sellers + seller_id + '/campaigns')\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getDistributor = async (id: string): Promise<any> => {\n  return await axios\n    .get(distributors + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getFiscalSponsor = async (id: string): Promise<any> => {\n  return await axios\n    .get(nonprofits + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getAllParticipatingSellers = async (): Promise<any> =>\n  axios\n    .get(passportVouchers)\n    .then((res) => res)\n    .catch((err) => err);\n\n// for passport crawl voucher print outs\nexport const getParticipatingMerchant = async (id: string) =>\n  axios\n    .get(passportVouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingMerchantTickets = async (\n  id: string,\n  tickets_secret: string,\n  page: number | null,\n  items: number | null,\n  printed: boolean | null,\n  associated: boolean | null\n) =>\n  axios\n    .get(passportVouchers + id + '/tickets/' + tickets_secret, {\n      params: { page, items, printed, associated },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\n// validate passport email\nexport const getPassportEmailId = async (email: string) =>\n  axios\n    .get(contacts, {\n      params: { email },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getContactInfo = async (passportId: string) =>\n  axios\n    .get(contacts + passportId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createPassportEmailId = async (\n  email: string,\n  instagram: string\n) => {\n  let params = {};\n\n  if (instagram) params = { email, instagram };\n  else params = { email };\n\n  return axios\n    .post(contacts, params)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const updatePassportInstagram = async (\n  id: string,\n  instagram: string\n) => {\n  return axios\n    .put(contacts + id, { instagram })\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const checkForValidTicket = async (ticket_id: string) =>\n  axios\n    .get(tickets + ticket_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateTicketContactId = async (\n  ticket_id: string,\n  contact_id: string\n) =>\n  axios\n    .put(tickets + ticket_id, { contact_id })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getPassportTickets = async (passportId: string) =>\n  axios\n    .get(contacts + passportId + '/tickets')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingSeller = async (sellerId: string) =>\n  axios\n    .get(participatingSellers + sellerId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getGiveawayTicketsForContact = async (contactId: string) =>\n  axios\n    .get(contacts + contactId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const sendRedeemTicketsEmail = async (passportId: string) =>\n  axios\n    .post(contacts + passportId + '/rewards')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLocationById = async (locationId: number) =>\n  axios\n    .get(locations + locationId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getAllSponsors = async () =>\n  axios\n    .get(sponsorSellers)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getOneSponsor = async (rewardId: number) =>\n  axios\n    .get(sponsorSellers + rewardId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemReward = async (\n  contact_id: number,\n  auth_token: string,\n  tickets: Array<any>\n) =>\n  axios\n    .put(contacts + contact_id + '/tickets/' + auth_token, { tickets })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createLyftReward = async (contact_id: number) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLyftReward = async (contact_id: number) =>\n  axios\n    .get(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemToken = async (contact_id: number, token: string) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards + token + '/redeem/')\n    .then((res) => res)\n    .catch((err) => err);\n","export * from './types';\nexport * from './interactionManager';\n","export * from './api';\nexport * from './hooks';\n","/*\n * Responsive screen sizes\n */\nconst phoneScreens = 'max-width: 450px';\nconst smallScreens = 'max-width: 599px';\nconst tabletScreens = 'max-width: 899px';\nconst desktopScreens = 'max-width: 1299px';\nconst bigDesktopScreens = 'min-width: 1300px';\n\nexport {\n  phoneScreens,\n  smallScreens,\n  tabletScreens,\n  desktopScreens,\n  bigDesktopScreens,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__3neNl\",\"button--red-filled\":\"styles_button--red-filled__qhaeb\",\"button--outlined\":\"styles_button--outlined__C9qVy\",\"button--redfilled\":\"styles_button--redfilled__j93Vx\",\"button--red-outlined\":\"styles_button--red-outlined__BP6_R\",\"modalButton--back\":\"styles_modalButton--back__3be13\",\"modalButton--outlined\":\"styles_modalButton--outlined__1h_dc\",\"modalButton--filled\":\"styles_modalButton--filled__3zqCG\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__36LqE\",\"modalButton--selected\":\"styles_modalButton--selected__2KXrT\",\"modalButton--outline\":\"styles_modalButton--outline__3LBH5\",\"closeButton--close\":\"styles_closeButton--close__tmfor\",\"modalForm--form\":\"styles_modalForm--form__3qf9o\",\"modalInput--input\":\"styles_modalInput--input__1Zp5y\",\"filterable-table-container\":\"styles_filterable-table-container__3J-A5\",\"header-row\":\"styles_header-row__1YnNs\",\"filter-container\":\"styles_filter-container__3jVY9\",\"filter-input\":\"styles_filter-input__3ZW5o\",\"clear-filter\":\"styles_clear-filter__3AS7G\",\"record-count\":\"styles_record-count__2AOeB\",\"table\":\"styles_table__pZ6Nn\",\"fa\":\"styles_fa__1Q-nI\",\"table-email-header\":\"styles_table-email-header__1TZ94\",\"table-email-container\":\"styles_table-email-container__2E_DK\",\"active\":\"styles_active__2dxvL\",\"disabled\":\"styles_disabled__2s1Q0\",\"header\":\"styles_header__137NK\",\"amountContainer\":\"styles_amountContainer__2FCb5\",\"selectAmtContainer\":\"styles_selectAmtContainer__3WiSG\",\"selectAmt\":\"styles_selectAmt__3PxQB\",\"separator\":\"styles_separator__Hitmc\",\"customAmt\":\"styles_customAmt__2HHMS\",\"costPerMeal\":\"styles_costPerMeal__2eV_J\",\"nextBtn\":\"styles_nextBtn__3CoRV\",\"total\":\"styles_total__6Az6Y\",\"illustrationsContainer\":\"styles_illustrationsContainer__FYEAx\",\"illustrationLeading\":\"styles_illustrationLeading__36-tE\",\"illustrationTrailing\":\"styles_illustrationTrailing__u6jiA\",\"explantionContainer\":\"styles_explantionContainer__3fZI-\",\"explanation\":\"styles_explanation__3HlZi\",\"donationsContainer\":\"styles_donationsContainer__36H3w\",\"bold\":\"styles_bold__sanyU\",\"uppercase\":\"styles_uppercase__TwAoB\",\"link\":\"styles_link__33np1\",\"description\":\"styles_description__1DRpU\",\"modalBackground\":\"styles_modalBackground__XwJMp\",\"modalInstructionsGrid\":\"styles_modalInstructionsGrid__LYL8Y\",\"modalStepGrid\":\"styles_modalStepGrid__18w5V\",\"modalStepText\":\"styles_modalStepText__1L8RD\"};","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step1.c58f05a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step2.9a0ca5e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step3.ad0c5291.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step4.b9832c02.svg\";","module.exports = __webpack_public_path__ + \"static/media/chinatown-logo.f9e716ba.png\";","import React, { useState } from 'react';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nexport interface Props {\n  sellerId: string;\n  sellerName: string;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n\n  const { amount, modalView } = useModalPaymentState(null);\n  const [isCustomAmount, setIsCustomAmount] = useState(true);\n  const [selected, setSelected] = useState('');\n  const dispatch = useModalPaymentDispatch(null);\n  const minAmount = 5;\n  const maxAmount = 10000;\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    setSelected(text);\n    setIsCustomAmount(customAmount);\n    dispatch({ type: ModalPaymentConstants.SET_AMOUNT, payload: value });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('PaymentNextButtonClick', { amount: amount });\n    e.preventDefault();\n    dispatch({\n      type: ModalPaymentConstants.SET_MODAL_VIEW,\n      payload: ModalPaymentTypes.modalPages.card_details,\n    });\n  };\n\n  const validAmount = (value: string) => {\n    const r = /^[0-9]+$/;\n    return r.test(value);\n  };\n\n  const buttonAmounts = [\n    { value: '10', text: '$10' },\n    { value: '25', text: '$25' },\n    { value: '50', text: '$50' },\n    { value: '100', text: '$100' },\n  ];\n\n  const purchaseIsDonation =\n    modalView === ModalPaymentTypes.modalPages.donation;\n\n  const headerText = purchaseIsDonation\n    ? t('purchase.donation', { seller: props.sellerName })\n    : t('purchase.voucher', { seller: props.sellerName });\n\n  return (\n    <ContentContainer id=\"donation-form\" data-testid=\"modal-amount\">\n      <Header>{headerText}</Header>\n\n      {props.sellerId === 'send-chinatown-love' && (\n        <p>{t('donationPool.description2')}</p>\n      )}\n      <p>{t('paymentProcessing.amount.header')}</p>\n\n      <AmountContainer>\n        <label htmlFor=\"select-amount\">\n          {t('paymentProcessing.amount.label1')}\n        </label>\n        <br />\n        <SelectAmtContainer>\n          {buttonAmounts.map((amount) => (\n            <button\n              key={amount.text}\n              type=\"button\"\n              className={\n                selected === amount.text\n                  ? 'modalButton--selected'\n                  : 'modalButton--outlined'\n              }\n              onClick={(e) => {\n                handleAmount(amount.value, false, amount.text);\n              }}\n            >\n              {amount.text}\n            </button>\n          ))}\n        </SelectAmtContainer>\n        <label htmlFor=\"custom-amount\">\n          {t('paymentProcessing.amount.label2')}\n        </label>\n        <br />\n        <CustomAmountContainer>\n          <CustomAmountInput\n            name=\"custom-amount\"\n            type=\"number\"\n            onFocus={(e) => handleAmount('', true, '')}\n            className={'modalInput--input'}\n            onChange={(e) => {\n              handleAmount(e.target.value, true, '');\n            }}\n            onKeyDown={(evt) =>\n              (evt.key === 'e' ||\n                evt.key === '+' ||\n                evt.key === '-' ||\n                evt.key === '.') &&\n              evt.preventDefault()\n            }\n            value={isCustomAmount ? amount : ''}\n            min=\"5\"\n            max=\"10000\"\n          />\n        </CustomAmountContainer>\n        {Number(amount) < minAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.minimum')}{' '}\n            {purchaseIsDonation ? 'donation' : 'voucher'}{' '}\n            {t('paymentProcessing.amount.amount')}: $5\n          </ErrorMessage>\n        )}\n        {Number(amount) > maxAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.maximum')}{' '}\n            {purchaseIsDonation ? 'donation' : 'voucher'}{' '}\n            {t('paymentProcessing.amount.amount')}: $10000\n          </ErrorMessage>\n        )}\n      </AmountContainer>\n\n      <NextButton\n        type=\"button\"\n        className={'modalButton--filled'}\n        onClick={openModal}\n        disabled={\n          Number(amount) < minAmount ||\n          Number(amount) > maxAmount ||\n          !validAmount(amount)\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </NextButton>\n    </ContentContainer>\n  );\n};\n\nexport default Modal;\n\nconst ContentContainer = styled.form`\n  height: 360px;\n`;\n\nconst AmountContainer = styled.div`\n  background-color: #f7f7f7;\n  padding: 25px 35px;\n  margin-top: 30px;\n`;\n\nconst SelectAmtContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  margin: 15px 0px;\n`;\n\nconst CustomAmountContainer = styled.div`\n  position: relative;\n  display: inline;\n\n  :before {\n    content: '$';\n    position: absolute;\n    top: 0;\n    left: 8px;\n    z-index: 1;\n  }\n`;\n\nconst CustomAmountInput = styled.input`\n  width: 250px;\n  border: 1px solid #121212;\n  margin-top: 8px;\n  padding-left: 2em;\n\n  :invalid {\n    border: 1px solid red;\n  }\n\n  @media (max-width: 450px) {\n    width: 100%;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 13px;\n`;\n\nconst NextButton = styled.button`\n  position: relative;\n  float: right;\n  right: 0px;\n  bottom: -25px;\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 30px;\n  font-weight: 600;\n`;\n","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../../MerchantsPage/images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../../MerchantsPage/images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../../MerchantsPage/images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../../MerchantsPage/images/gam_icon_step4.svg';\n\nconst CampaignInstructions = () => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.modalBackground}>\n      <div className={styles.modalInstructionsGrid}>\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) => generateStep(step, text, icon, idx))}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, idx) => {\n  return (\n    <div className={styles.modalStepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={styles.modalStepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport styles from './styles.module.scss';\nimport {\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\nimport { useTranslation } from 'react-i18next';\nimport CampaignInstructions from './CamapignInstructions';\nimport ReactPixel from 'react-facebook-pixel';\nimport { getCampaignsForMerchant, getDistributor } from '../../../utilities';\n\nexport interface Props {\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n  const dispatch = useModalPaymentDispatch(null);\n\n  // set initial number of meals to 1\n  const [numberOfMeals, setNumberOfMeals] = useState(1);\n\n  const [campaignDistributor, setCampaignDistributor] = useState<any>([]);\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    const valueInt = parseInt(value, 10);\n    setNumberOfMeals(isNaN(valueInt) ? 0 : valueInt);\n    const totalMealPrice = valueInt * props.costPerMeal;\n    dispatch({\n      type: ModalPaymentConstants.SET_AMOUNT,\n      payload: String(totalMealPrice),\n    });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('GiftMealPaymentNextButtonClick', {\n      numberOfMeals: numberOfMeals,\n    });\n    e.preventDefault();\n    dispatch({\n      type: ModalPaymentConstants.SET_MODAL_VIEW,\n      payload: ModalPaymentTypes.modalPages.card_details,\n    });\n  };\n\n  const totalMealPrice = numberOfMeals * props.costPerMeal;\n  const totalAmount = { value: totalMealPrice, text: '$' + totalMealPrice };\n  const COST_LIMIT = 10000;\n\n  useEffect(() => {\n    dispatch({\n      type: ModalPaymentConstants.SET_AMOUNT,\n      payload: String(totalMealPrice),\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  const fetchData = async (sellerId: string) => {\n    // Note(wilsonj806) Showing the campaign that expires first\n    // will need to update this if we render multiple distributors\n    const { data } = await getCampaignsForMerchant(sellerId);\n    const { data: distrib } = await getDistributor(data[0].distributor_id);\n    setCampaignDistributor(distrib);\n  };\n\n  useEffect(() => {\n    fetchData(props.sellerId);\n  }, [props.sellerId]);\n\n  const Distributor = () => (\n    <>\n      <a\n        href={campaignDistributor.website_url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className={styles.link}\n      >\n        {' '}\n        {campaignDistributor.name}\n      </a>{' '}\n    </>\n  );\n\n  return (\n    <form data-testid=\"ModalBuyMeal\">\n      <div>\n        <div className={styles.header}>\n          {props.sellerId\n            ? t('buyMeal.header') + props.sellerName\n            : t('buyMealPool.header')}\n        </div>\n      </div>\n      <p className={styles.description}>\n        {t('buyMealPool.description.weAre')}\n        {/* Note(wilsonj806)Only renders one single distributor*/}\n        <Distributor />\n        {t('buyMealPool.description.andRestaurants')}\n        <span className={styles.bold}>\n          {' '}\n          {t('buyMealPool.description.allItTakes')} ${props.costPerMeal}\n        </span>\n      </p>\n\n      <CampaignInstructions />\n\n      <div className={styles.amountContainer}>\n        <label htmlFor=\"select-amount\">{t('buyMeal.prompt')}</label>\n        <br />\n        <div className={styles.selectAmtContainer}>\n          <div className={styles.selectAmt}>\n            <input\n              name=\"custom-amount\"\n              type=\"number\"\n              onFocus={(e) => handleAmount('', true, '')}\n              className={classnames(styles.customAmt, 'modalInput--input')}\n              onChange={(e) => {\n                handleAmount(e.target.value, true, '');\n              }}\n              value={numberOfMeals === 0 ? '' : String(numberOfMeals)}\n              placeholder=\"# of meals\"\n              min=\"1\"\n            />\n            <span className={styles.separator}></span>\n            <button\n              type=\"button\"\n              className={classnames(\n                styles.costPerMeal,\n                'modalButton--nonfunctional'\n              )}\n              disabled={true}\n            >\n              {'$' + props.costPerMeal}\n            </button>\n          </div>\n          <label className={styles.total}>\n            {t('buyMeal.totalLabel')} <b>{totalAmount.text}</b>\n          </label>\n        </div>\n        <br />\n      </div>\n\n      <button\n        type=\"button\"\n        className={classnames(styles.nextBtn, 'modalButton--filled')}\n        onClick={openModal}\n        disabled={\n          numberOfMeals < 1 || numberOfMeals > COST_LIMIT / props.costPerMeal\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </button>\n    </form>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport {\n  CreditCardNumberInput,\n  CreditCardExpirationDateInput,\n  CreditCardPostalCodeInput,\n  CreditCardCVVInput,\n} from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport styled from 'styled-components';\n\ntype Props = {};\n\nconst SquareCardForm = (props: Props) => {\n  return (\n    <fieldset className=\"sq-fieldset\">\n      <CreditCardNumberInput />\n\n      <SquareCardRow>\n        <SquareCardItem>\n          <CreditCardExpirationDateInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardCVVInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardPostalCodeInput />\n        </SquareCardItem>\n      </SquareCardRow>\n    </fieldset>\n  );\n};\n\nexport default SquareCardForm;\n\nconst SquareCardRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100% !important;\n`;\n\nconst SquareCardItem = styled.div`\n  width: 30% !important;\n`;\n","import React, { useContext, useState } from 'react';\nimport { Context } from 'react-square-payment-form';\nimport ReactPixel from 'react-facebook-pixel';\n\ntype Props = {\n  canSubmit: boolean;\n};\n\nconst SubmissionButton = ({ canSubmit }: Props) => {\n  const context = useContext(Context);\n  var [submittable] = useState(false);\n\n  const handleSubmit = (evt: { preventDefault: () => void }) => {\n    ReactPixel.trackCustom('PaymentConfirmButtonClick', {});\n    evt.preventDefault();\n    context.onCreateNonce();\n  };\n\n  submittable = canSubmit;\n\n  return (\n    <button\n      type=\"button\"\n      className={'modalButton--filled'}\n      onClick={handleSubmit}\n      disabled={!submittable}\n    >\n      Confirm\n    </button>\n  );\n};\n\nexport default SubmissionButton;\n","import React, { useState, useEffect } from 'react';\nimport { times } from 'lodash/fp';\nimport { Checkbox } from '@material-ui/core';\nimport { SquarePaymentForm } from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport { v4 as uuid } from 'uuid';\n\nimport SquareCardForm from './SquareCardForm';\nimport SubmissionButton from './SubmissionButton';\n\nimport { SquareErrors, hasKey } from '../../../consts';\nimport {\n  makeSquarePayment,\n  SquareLineItems,\n  Buyer,\n} from '../../../utilities/api';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\n\ntype Props = {\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n};\n\ntype ErrorMessage = {\n  code: string;\n  detail: string;\n};\n\nconst ModalCardDetails = ({\n  sellerId,\n  sellerName,\n  costPerMeal,\n  nonProfitLocationId,\n  campaignId,\n}: Props) => {\n  const idempotencyKey = uuid();\n  const { t } = useTranslation();\n  const { amount, purchaseType } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const [isTermsChecked, setTermsChecked] = useState(false);\n  const [isSubscriptionChecked, setSubscriptionChecked] = useState(true);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [errorMessages, setErrorsMessages] = useState<string[]>([]);\n  const [canSubmit, setCanSubmit] = useState(false);\n\n  let applicationId, locationId;\n  if (\n    purchaseType === ModalPaymentTypes.modalPages.buy_meal &&\n    nonProfitLocationId === process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID\n  ) {\n    applicationId = process.env.REACT_APP_THINK_CHINATOWN_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID ?? '';\n  } else {\n    applicationId = process.env.REACT_APP_SQUARE_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_SQUARE_LOCATION_ID ?? '';\n  }\n\n  const checkTermsAgreement = () => setTermsChecked(!isTermsChecked);\n\n  const checkSubscriptionAgreement = () =>\n    setSubscriptionChecked(!isSubscriptionChecked);\n\n  const numberOfMeals = Number(amount) / costPerMeal;\n  const mealText = numberOfMeals > 1 ? 'meals' : 'meal';\n  const numberOfMealsText =\n    purchaseType === ModalPaymentTypes.modalPages.buy_meal\n      ? `(${numberOfMeals} ${mealText})`\n      : '';\n\n  const cardNonceResponseReceived = (errors: any[], nonce: string) => {\n    setErrorsMessages([]);\n    const is_distribution =\n      purchaseType === ModalPaymentTypes.modalPages.buy_meal;\n\n    if (errors && errors.length > 0 && errors[0]) {\n      setErrorsMessages(errors.map((error) => error.message));\n      return;\n    }\n\n    // 'buy_meal' is still represented as a gift card when calling the API\n    const payment: SquareLineItems = is_distribution\n      ? times(\n          () => ({\n            amount: Number(costPerMeal) * 100,\n            currency: 'usd',\n            item_type: 'gift_card',\n            quantity: 1,\n          }),\n          numberOfMeals\n        )\n      : [\n          {\n            amount: Number(amount) * 100,\n            currency: 'usd',\n            item_type: purchaseType,\n            quantity: 1,\n          },\n        ];\n\n    const buyer: Buyer = {\n      name,\n      email,\n      nonce,\n      idempotency_key: idempotencyKey,\n      is_subscribed: isSubscriptionChecked,\n    };\n\n    setCanSubmit(false);\n    return makeSquarePayment(\n      nonce,\n      sellerId,\n      payment,\n      buyer,\n      is_distribution,\n      campaignId\n    )\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch({\n            type: ModalPaymentConstants.SET_MODAL_VIEW,\n            payload: ModalPaymentTypes.modalPages.confirmation,\n          });\n        }\n      })\n      .catch((err) => {\n        if (err.response) {\n          let responseErrors: ErrorMessage[] = [];\n          if (err.response.data.errors)\n            responseErrors = err.response.data.errors;\n          else if (err.response.data.message)\n            responseErrors = [\n              { code: 'GENERIC_DECLINE', detail: err.response.data.message },\n            ];\n\n          const newErrors =\n            responseErrors.length > 0\n              ? responseErrors.map((error: ErrorMessage) => {\n                  if (hasKey(SquareErrors, error.code)) {\n                    return SquareErrors[error.code];\n                  } else {\n                    return error.detail;\n                  }\n                })\n              : [];\n          setErrorsMessages(newErrors);\n        }\n      });\n  };\n\n  const purchaseTypePhrase = (shouldLowerCase, purchaseType) => {\n    switch (purchaseType) {\n      case ModalPaymentTypes.modalPages.donation:\n        return shouldLowerCase ? 'donation' : 'Donation';\n      case ModalPaymentTypes.modalPages.gift_card:\n        return `${shouldLowerCase ? 'v' : 'V'}oucher purchase`;\n      case ModalPaymentTypes.modalPages.buy_meal:\n        return 'Gift a Meal purchase';\n      default:\n        return 'Donation';\n    }\n  };\n\n  useEffect(() => {\n    setCanSubmit(\n      isTermsChecked &&\n        name.length > 0 &&\n        email.length > 0 &&\n        ModalPaymentConstants.EMAIL_REGEX.test(email)\n    );\n  }, [isTermsChecked, name, email]);\n\n  const setDisclaimerLanguage = (\n    type: string | ModalPaymentTypes.modalPages\n  ) => {\n    if (sellerId === 'send-chinatown-love')\n      type = ModalPaymentTypes.modalPages.donation_pool;\n\n    switch (type) {\n      case ModalPaymentTypes.modalPages.donation:\n        return t(\n          'modalPayment.modalCardDetails.disclaimer.donation',\n          sellerName\n        );\n      case ModalPaymentTypes.modalPages.donation_pool:\n        return t(\n          'modalPayment.modalCardDetails.disclaimer.donation_pool',\n          sellerName\n        );\n      case ModalPaymentTypes.modalPages.gift_card:\n        return t(\n          'modalPayment.modalCardDetails.disclaimer.gift_card',\n          sellerName\n        );\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div>\n      <Header>\n        {t('modalPayment.modalCardDetails.header.completeYour')}{' '}\n        {purchaseTypePhrase(true, purchaseType)}\n      </Header>\n      <p>{t('modalPayment.modalCardDetails.body.paymentInfo')}</p>\n\n      <PaymentContainer>\n        <Subheader>\n          {t('modalPayment.modalCardDetails.header.paymentInfo')}\n        </Subheader>\n        <RowFormat>\n          <LabelText htmlFor=\"name\">\n            {t('modalPayment.modalCardDetails.body.fullName')}\n          </LabelText>\n          <InputText\n            name=\"name\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n            placeholder={t('modalPayment.modalCardDetails.placeholders.name')}\n          />\n          <LabelText htmlFor=\"email\">\n            {t('modalPayment.modalCardDetails.body.email')}\n          </LabelText>\n          <InputText\n            name=\"email\"\n            type=\"email\"\n            className=\"modalInput--input\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n            placeholder={t('modalPayment.modalCardDetails.placeholders.email')}\n            pattern={ModalPaymentConstants.EMAIL_REGEX.source}\n            required\n          />\n        </RowFormat>\n        <SquareFormContainer>\n          <SquarePaymentForm\n            sandbox={\n              !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n            }\n            applicationId={applicationId}\n            locationId={locationId}\n            cardNonceResponseReceived={cardNonceResponseReceived}\n            formId=\"SPF\"\n            apiWrapper=\"\"\n          >\n            <SquareCardForm />\n            <div className=\"sq-error-message\">\n              {errorMessages.map((errorMessage) => (\n                <li key={`sq-error-${errorMessage}`}>{errorMessage}</li>\n              ))}\n            </div>\n            <br />\n            <Subheader>Checkout details</Subheader>\n            <span>\n              {' '}\n              {purchaseTypePhrase(false, purchaseType)} of{' '}\n              <b>\n                ${amount} {numberOfMealsText}\n              </b>{' '}\n              to {sellerName}{' '}\n            </span>\n            <p />\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedA\"\n                inputProps={{ 'aria-label': 'Checkbox A' }}\n                onClick={checkTermsAgreement}\n                checked={isTermsChecked}\n              />\n              <span>\n                I agree with the <b>Terms & Conditions</b>\n              </span>\n            </CheckboxContainer>\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedB\"\n                inputProps={{ 'aria-label': 'Checkbox B' }}\n                onClick={checkSubscriptionAgreement}\n                checked={isSubscriptionChecked}\n              />\n              <span>\n                {t('modalPayment.modalCardDetails.body.emailUpdates')}\n              </span>\n            </CheckboxContainer>\n            <Disclaimer>{setDisclaimerLanguage(purchaseType)}</Disclaimer>\n            <ButtonRow>\n              <BackButton\n                type=\"button\"\n                className={'modalButton--back'}\n                onClick={() =>\n                  dispatch({\n                    type: ModalPaymentConstants.SET_MODAL_VIEW,\n                    payload: purchaseType,\n                  })\n                }\n              >\n                 Back\n              </BackButton>\n              <SubmissionButton canSubmit={canSubmit} />\n            </ButtonRow>\n          </SquarePaymentForm>\n        </SquareFormContainer>\n      </PaymentContainer>\n    </div>\n  );\n};\n\nexport default ModalCardDetails;\n\nconst PaymentContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n\n  div {\n    width: 100%;\n  }\n`;\n\nconst RowFormat = styled.div`\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  text-transform: uppercase;\n`;\n\nconst LabelText = styled.label`\n  color: #373f4a;\n`;\n\nconst InputText = styled.input`\n  font-size: 14px;\n  color: #373f4a;\n  border: 1px solid #dedede;\n  margin: 5px 0 15px;\n  padding: 27px 15px;\n  width: 100%;\n  border-radius: 5px;\n\n  ::placeholder {\n    color: #cdcdcd;\n  }\n\n  :invalid {\n    color: #fa755a;\n  }\n`;\n\nconst CheckboxContainer = styled.label`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  align-items: center;\n  margin-bottom: 10px;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  > span {\n    padding: 9px 9px 9px 0px;\n  }\n`;\n\nconst ButtonRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  justify-content: space-between;\n  margin-bottom: 25px;\n`;\n\nconst BackButton = styled.button`\n  width: 75px;\n  font-size: 13px;\n  background-color: white;\n`;\n\nconst SquareFormContainer = styled.div`\n  h3,\n  span,\n  p {\n    font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 15px;\n  }\n\n  h3 {\n    font-size: 24px;\n  }\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 32px;\n  font-weight: 600;\n`;\n\nconst Subheader = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 18px;\n  font-weight: 700;\n  margin-bottom: 18px;\n`;\n\nconst Disclaimer = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 12px;\n  font-weight: 300;\n  padding: 0px 0px 0px 0px;\n  margin: 30px 0px 30px 0px;\n  opacity: 0.7;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nimport confirmationPic from './chinatown-logo.png';\n\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n} from '../../../utilities/hooks/ModalPaymentContext';\nimport { getSeller } from '../../../utilities';\nexport type Props = {\n  sellerId: string;\n  sellerName: string;\n};\n\nconst ModalConfirmation = (props: Props) => {\n  const { purchaseType } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const closeModal = async (e: any) => {\n    ReactPixel.trackCustom('ModalConfirmationButtonClick', {});\n    e.preventDefault();\n\n    const { data } = props.sellerId && (await getSeller(props.sellerId));\n    dispatch({\n      type: ModalPaymentConstants.UPDATE_SELLER_DATA,\n      payload: data.amount_raised,\n    });\n    dispatch({ type: ModalPaymentConstants.CLOSE_MODAL, payload: undefined });\n  };\n\n  const confirmationText = () => {\n    switch (purchaseType) {\n      case 'donation':\n        return `We appreciate your support. We'll let you know when ${props.sellerName} receives your donation!`;\n      case 'gift_card':\n        return `We appreciate your support. We'll email you your voucher when ${props.sellerName} opens back up!`;\n      case 'buy_meal':\n        return `We appreciate your support for ${props.sellerName} and for those in need! Please check your email for your receipt.`;\n      default:\n        return `Unexpected occurrence.`;\n    }\n  };\n\n  return (\n    <Container data-testid=\"modal-confirmation\">\n      <h2>Thank you!</h2>\n      <p>{confirmationText()}</p>\n\n      <ThankYouImage src={confirmationPic} alt=\"Logo\" />\n\n      <FinishButton\n        className=\"modalButton--filled\"\n        onClick={(e) => closeModal(e)}\n      >\n        Finish\n      </FinishButton>\n    </Container>\n  );\n};\n\nexport default ModalConfirmation;\n\nconst Container = styled.div`\n  max-height: 80%;\n  margin-bottom: 25px;\n`;\n\nconst ThankYouImage = styled.img`\n  position: relative;\n  width: 100%;\n`;\n\nconst FinishButton = styled.button`\n  position: relative;\n  margin-top: 35px;\n  float: right;\n  right: 0px;\n`;\n","import React from 'react';\nimport ModalAmount from './ModalAmount';\nimport ModalBuyMeal from './ModalBuyMeal';\nimport ModalCardDetails from './ModalCardDetails';\nimport ModalConfirmation from './ModalConfirmation';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../utilities/hooks/ModalPaymentContext';\nimport ReactPixel from 'react-facebook-pixel';\nimport styled from 'styled-components';\n\nexport interface Props {\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n}\n\nexport interface ModalProps {\n  modalView: number;\n}\n\nexport const Modal = (props: Props) => {\n  const { modalView } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const closeModal = async (e: any) => {\n    ReactPixel.trackCustom('ModalCloseButtonClick', {});\n    e.preventDefault();\n    dispatch({ type: ModalPaymentConstants.CLOSE_MODAL, payload: undefined });\n  };\n\n  const renderModalPage = (type) => {\n    switch (type) {\n      case ModalPaymentTypes.modalPages.donation:\n      case ModalPaymentTypes.modalPages.gift_card:\n        return <ModalAmount {...props} />;\n      case ModalPaymentTypes.modalPages.buy_meal:\n        return <ModalBuyMeal {...props} />;\n      case ModalPaymentTypes.modalPages.card_details:\n        return <ModalCardDetails {...props} />;\n      case ModalPaymentTypes.modalPages.confirmation:\n        return <ModalConfirmation {...props} />;\n      default:\n        return;\n    }\n  };\n\n  return (\n    <ModalContainer modalView={modalView}>\n      <CloseButtonContainer>\n        <CloseButton onClick={closeModal}></CloseButton>\n      </CloseButtonContainer>\n      <ViewContainer>{renderModalPage(modalView)}</ViewContainer>\n    </ModalContainer>\n  );\n};\n\nexport default Modal;\n\nconst ModalContainer = styled.div`\n  display: ${(props: ModalProps) => (props.modalView ? 'flex' : 'none')};\n  flex-direction: column;\n  margin: 0 auto;\n\n  background-color: white;\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 10;\n  padding-bottom: 40px;\n\n  max-height: 85vh;\n  width: 725px;\n  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);\n  height: 65%;\n\n  @media only screen and (max-width: 799px) {\n    width: 85%;\n  }\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    max-height: 100%;\n  }\n`;\nconst ViewContainer = styled.div`\n  overflow-y: scroll;\n  margin: 0 auto;\n  height: 100%;\n  width: 100%;\n  padding: 0 50px;\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    overflow-x: hidden;\n  }\n`;\nconst CloseButtonContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n`;\nconst CloseButton = styled.button`\n  width: 40px;\n  font-weight: bold;\n  font-size: 30px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  background-color: transparent;\n`;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__1Q_a1\",\"button--red-filled\":\"styles_button--red-filled__30C9L\",\"button--outlined\":\"styles_button--outlined__T1S4e\",\"button--redfilled\":\"styles_button--redfilled__1aPRb\",\"button--red-outlined\":\"styles_button--red-outlined__uXeug\",\"modalButton--back\":\"styles_modalButton--back__SqQbc\",\"modalButton--outlined\":\"styles_modalButton--outlined__2rGur\",\"modalButton--filled\":\"styles_modalButton--filled__1u791\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__3b7y_\",\"modalButton--selected\":\"styles_modalButton--selected__120By\",\"modalButton--outline\":\"styles_modalButton--outline__1nxQS\",\"closeButton--close\":\"styles_closeButton--close__2-Gq4\",\"modalForm--form\":\"styles_modalForm--form__1r_3v\",\"modalInput--input\":\"styles_modalInput--input__1yGue\",\"filterable-table-container\":\"styles_filterable-table-container__3yuTM\",\"header-row\":\"styles_header-row__13pcb\",\"filter-container\":\"styles_filter-container__3R7V3\",\"filter-input\":\"styles_filter-input__2pKZl\",\"clear-filter\":\"styles_clear-filter__2DOt6\",\"record-count\":\"styles_record-count__3tJgl\",\"table\":\"styles_table__CkvPy\",\"fa\":\"styles_fa__1dVUs\",\"table-email-header\":\"styles_table-email-header__178xL\",\"table-email-container\":\"styles_table-email-container__5XNtx\",\"active\":\"styles_active__ZQhyR\",\"disabled\":\"styles_disabled__yy9aR\",\"bold\":\"styles_bold__2INhr\",\"uppercase\":\"styles_uppercase__HZ5Zd\",\"container\":\"styles_container__3QdrG\",\"header\":\"styles_header__2e_gf\",\"headerText\":\"styles_headerText__2GMED\",\"hero\":\"styles_hero__30ZVS\",\"backButton\":\"styles_backButton__1XAdF\",\"campaignHeader\":\"styles_campaignHeader__trEYV\",\"videoContainer\":\"styles_videoContainer__2lfjR\",\"videoDescription\":\"styles_videoDescription__4o5jP\",\"background\":\"styles_background__2nP1I\",\"instructionsGrid\":\"styles_instructionsGrid__13657\",\"stepGrid\":\"styles_stepGrid__3ygF3\",\"stepText\":\"styles_stepText__sSzBp\"};","module.exports = __webpack_public_path__ + \"static/media/illustrated_flatlay_hero.050015e1.png\";","module.exports = __webpack_public_path__ + \"static/media/campaign_default.9ad02a20.png\";","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../images/gam_icon_step4.svg';\n\nconst CampaignInstructions = () => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.background}>\n      <div className={styles.instructionsGrid}>\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) => generateStep(step, text, icon, idx))}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, idx) => {\n  return (\n    <div className={styles.stepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={styles.stepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport {\n  smallScreens,\n  tabletScreens,\n} from '../../../utilities/general/responsive';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nconst NoActiveCampaignsBox = () => {\n  const { t } = useTranslation();\n\n  return (\n    <NoCampaignBox>\n      <TextContainer>\n        <Heading>{t('gamHome.noCampaignsBox.CTA')}</Heading>\n        <SubHeading>{t('gamHome.noCampaignsBox.description')}</SubHeading>\n      </TextContainer>\n      <Button\n        className=\"button--filled\"\n        onClick={(e) => {\n          e.preventDefault();\n          window.open('https://www.gofundme.com/f/gift-a-meal', '_blank');\n        }}\n      >\n        {t('gamHome.giftButton')}\n      </Button>\n    </NoCampaignBox>\n  );\n};\n\nexport default NoActiveCampaignsBox;\n\nconst NoCampaignBox = styled.div`\n  align-items: center;\n  border: 1px solid #e5e5e5;\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  padding: 30px;\n  margin-bottom: 25px;\n\n  @media (${tabletScreens}) {\n    grid-template-columns: 1fr;\n    margin-bottom: 15px;\n  }\n`;\n\nconst TextContainer = styled.div`\n  @media (${tabletScreens}) {\n    margin-bottom: 20px;\n  }\n`;\n\nconst Heading = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n  }\n`;\n\nconst SubHeading = styled.p`\n  font-size: 15px;\n\n  @media (${smallScreens}) {\n    font-size: 12px;\n  }\n`;\n\nconst Button = styled.button`\n  text-align: center;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n    padding-right: 0;\n  }\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\ninterface Props {\n  isActive: boolean;\n  numContributions: number;\n  targetAmount: number;\n  progressBarColor: string;\n  lastContributionTime: Date;\n  endDate: Date;\n}\n\nconst CampaignProgressBar = ({\n  isActive,\n  numContributions,\n  targetAmount,\n  progressBarColor,\n  lastContributionTime,\n  endDate,\n}: Props) => {\n  const { t } = useTranslation();\n\n  // \"73% to target (73 out of 100 meals)\"\n  const progressWidth = (raised: number, target: number) => {\n    if (raised < target) return (raised / target) * 100;\n    return 100;\n  };\n  const progressPercent = Math.floor((numContributions / targetAmount) * 100);\n\n  // \"Ends in 2 days\"\n  const timeUntilEnd = endDate.getTime() - Date.now();\n  const daysUntilEnd = timeUntilEnd > 0 ? timeUntilEnd / (1000 * 3600 * 24) : 0;\n\n  // \"Last contribution made 2h ago\"\n  const timeSinceLastContribution = Date.now() - lastContributionTime.getTime();\n  const lastContributionTimeAsPresentable = (\n    timeSinceLastContribution: number\n  ) => {\n    const minutesSinceLastConstribution =\n      timeSinceLastContribution / (1000 * 60);\n    if (minutesSinceLastConstribution < 60) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        minutesSinceLastConstribution\n      )}m ${t('buyMeal.ago')}`;\n    }\n    const hoursSinceLastContribution = minutesSinceLastConstribution / 60;\n    if (hoursSinceLastContribution < 24) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        hoursSinceLastContribution\n      )}h ${t('buyMeal.ago')}`;\n    }\n    const daysSinceLastContribution = hoursSinceLastContribution / 24;\n    return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n      daysSinceLastContribution\n    )}d ${t('buyMeal.ago')}`;\n  };\n\n  return (\n    <ProgressBarContainer>\n      <TimeStamp>\n        {lastContributionTimeAsPresentable(timeSinceLastContribution)}\n      </TimeStamp>\n      <TargetAmountBar className=\"progress-bar\">\n        <CurrentProgressBar\n          style={{\n            width: `${progressWidth(numContributions, targetAmount)}%`,\n            backgroundColor: progressBarColor,\n          }}\n        ></CurrentProgressBar>\n      </TargetAmountBar>\n      <div>\n        <ProgressTextContainer color={progressBarColor}>\n          {progressPercent}% {t('buyMeal.toTarget')}\n        </ProgressTextContainer>{' '}\n        ({numContributions} {t('buyMeal.outOf')} {targetAmount}{' '}\n        {t('buyMeal.meals')})\n      </div>\n      {isActive && (\n        <div>\n          {t('buyMeal.endsIn')}{' '}\n          <ProgressTextContainer color={progressBarColor}>\n            {Math.ceil(daysUntilEnd)}\n          </ProgressTextContainer>{' '}\n          {t('buyMeal.days')}\n        </div>\n      )}\n    </ProgressBarContainer>\n  );\n};\n\nexport default CampaignProgressBar;\n\nconst ProgressBarContainer = styled.div`\n  width: 100%;\n  padding: 15px 0;\n`;\n\nconst ProgressTextContainer = styled.span`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 22px;\n  color: ${(props) => props.color};\n`;\n\nconst TargetAmountBar = styled.div`\n  background-color: #dedede;\n  height: 12px;\n  margin-bottom: 15px;\n`;\n\nconst CurrentProgressBar = styled.div`\n  background-color: #dd678a;\n  height: 12px;\n`;\n\nconst TimeStamp = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 18px;\n  letter-spacing: 0.02em;\n  color: #9e9e9e;\n  margin-bottom: 10px;\n`;\n","import React from 'react';\nimport CampaignProgressBar from './CampaignProgressBar';\nimport styled from 'styled-components';\nimport { tabletScreens } from '../../../utilities/general/responsive';\nimport { useTranslation } from 'react-i18next';\nimport campaignDefaultImage from '../images/campaign_default.png';\nimport { Campaign } from '../../../utilities/api/types';\nimport {\n  getDistributor,\n  getSeller,\n  getFiscalSponsor,\n} from '../../../utilities/api';\nimport { useEffect, useState } from 'react';\nimport Modal from '../../ModalPayment';\nimport {\n  ModalPaymentConstants,\n  useModalPaymentDispatch,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\n\ninterface Props {\n  campaign: Campaign;\n  selectedCampaign: null | number;\n  setSelectedCampaign: Function;\n}\n\nconst ModalBox: any = Modal;\n\nconst CampaignListItem = (props: Props) => {\n  const { t } = useTranslation();\n  const dispatch = useModalPaymentDispatch(null); //provide null according to Bruce's new branch\n\n  const [distributor, setDistributor] = useState<any | null>();\n  const [merchant, setMerchant] = useState<any | null>();\n  const [fiscalSponsor, setFiscalSponsor] = useState<any | null>();\n  const campaign = props.campaign;\n\n  const fetchData = async () => {\n    const distributorData = await getDistributor(campaign.distributor_id);\n    const merchantData = await getSeller(campaign.seller_id);\n    setDistributor(distributorData.data);\n    setMerchant(merchantData.data);\n    if (campaign.nonprofit_id) {\n      const fiscalSponsor = await getFiscalSponsor(campaign.nonprofit_id);\n      setFiscalSponsor(fiscalSponsor.data);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  const mealsRaised = Math.floor(\n    campaign.amount_raised / campaign.price_per_meal\n  );\n  const targetMeals = Math.floor(\n    campaign.target_amount / campaign.price_per_meal\n  );\n  const campaignImageUrls = campaign.gallery_image_urls;\n\n  const showModal = (event: any) => {\n    props.setSelectedCampaign(campaign.id);\n    dispatch({\n      type: ModalPaymentConstants.SET_MODAL_VIEW,\n      payload: ModalPaymentTypes.modalPages.buy_meal,\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <Container>\n        <ColumnContainer>\n          {campaignImageUrls && campaignImageUrls.length && (\n            <CampaignImageContainer>\n              <CampaignImage\n                src={campaignImageUrls[0] ?? campaignDefaultImage}\n                alt=\"campaign_image\"\n              />\n            </CampaignImageContainer>\n          )}\n        </ColumnContainer>\n        <ColumnContainer>\n          {merchant && merchant.locations && merchant.locations.length && (\n            <Location>{merchant.locations[0].city}</Location>\n          )}\n          {distributor && merchant && (\n            <Name>\n              {merchant.name} x {distributor.name}\n            </Name>\n          )}\n          <Description>\n            {campaign.description}{' '}\n            {distributor && (\n              <a\n                href={distributor.website_url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Learn more about {distributor.name}.\n              </a>\n            )}\n          </Description>\n          <CampaignProgressBar\n            isActive={campaign.active}\n            numContributions={mealsRaised}\n            targetAmount={targetMeals}\n            progressBarColor={'#CF6E8A'}\n            lastContributionTime={new Date(campaign.last_contribution)}\n            endDate={new Date(campaign.end_date)}\n          />\n        </ColumnContainer>\n        <ColumnContainer>\n          <ImagesContainer>\n            {distributor && (\n              <a href={distributor.website_url}>\n                <DistributorImage\n                  src={distributor.image_url}\n                  alt=\"distributor_logo\"\n                />\n              </a>\n            )}\n          </ImagesContainer>\n          {merchant && (\n            <Button\n              className=\"button--outlined\"\n              onClick={(e) => {\n                e.preventDefault();\n                window.location.href = '/' + merchant.seller_id;\n              }}\n            >\n              {t('gamHome.listItem.viewButton')}\n            </Button>\n          )}\n          {campaign.active && (\n            <Button className={'button--filled'} onClick={showModal}>\n              {t('gamHome.listItem.giftButton')}\n            </Button>\n          )}\n        </ColumnContainer>\n\n        {campaign.active && props.selectedCampaign === campaign.id && (\n          <ModalBox\n            sellerId={merchant.seller_id}\n            sellerName={merchant.name}\n            costPerMeal={campaign.price_per_meal / 100}\n            nonProfitLocationId={merchant.non_profit_location_id}\n            campaignId={campaign.id}\n          />\n        )}\n      </Container>\n      {fiscalSponsor && (\n        <FiscalSponsorContainer>\n          <FiscalSponsorImage\n            src={fiscalSponsor.logo_image_url}\n          ></FiscalSponsorImage>\n          <FiscalSponsorDivider></FiscalSponsorDivider>\n          <FiscalSponsorText>\n            {t('gamHome.listItem.fiscalSponsor', {\n              sponsorName: fiscalSponsor.name,\n            })}\n          </FiscalSponsorText>\n        </FiscalSponsorContainer>\n      )}\n      <Border></Border>\n    </React.Fragment>\n  );\n};\n\nexport default CampaignListItem;\n\nconst Container = styled.div`\n  display: flex;\n  max-height: 800px;\n  justify-content: space-between;\n\n  @media (${tabletScreens}) {\n    max-height: 1000px;\n    flex-direction: column;\n    margin: 0 17px;\n    position: relative;\n    padding-top: 15px;\n  }\n`;\n\nconst ColumnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 2rem 1.5rem;\n\n  @media (${tabletScreens}) {\n    padding: 0.5rem 1rem 0.75rem;\n\n    > span {\n      margin: 2.5px 0;\n    }\n\n    > button {\n      width: 100%;\n    }\n\n    > img {\n      height: 103px;\n      object-fit: cover;\n      object-position: 0 25%;\n    }\n  }\n`;\n\nconst Location = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e7c9a;\n  margin-bottom: 15px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Name = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 22px;\n  letter-spacing: 0.02em;\n  color: #000000;\n  margin-bottom: 18px;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 10px;\n    width: 70%;\n  }\n`;\n\nconst Description = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e1e1e;\n  margin-bottom: 20px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Button = styled.div`\n  text-align: center;\n  width: 240px;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (max-width: 550px) {\n    font-size: 14px;\n    width: 100%;\n    margin-bottom: 10px;\n  }\n`;\n\nconst ImagesContainer = styled.span`\n  align-self: right;\n  margin-bottom: 140px;\n  align-self: flex-end;\n\n  @media (${tabletScreens}) {\n    position: absolute;\n    top: 132px;\n    margin-bottom: 30px;\n\n    img {\n      height: 25px;\n    }\n  }\n`;\n\nconst CampaignImageContainer = styled.div`\n  height: 240px;\n  width: 240px;\n\n  @media (${tabletScreens}) {\n    height: 100px;\n    width: 100%;\n  }\n`;\n\nconst CampaignImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 5px;\n`;\n\nconst DistributorImage = styled.img`\n  max-height: 70px;\n  max-width: 120px;\n  margin-right: 15px;\n  vertical-align: middle;\n`;\n\nconst FiscalSponsorContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 55px;\n  position: relative;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 30px;\n  }\n`;\n\nconst FiscalSponsorImage = styled.img`\n  margin-left: 28%;\n  max-height: 35px;\n  max-width: 80px;\n\n  @media (${tabletScreens}) {\n    position: absolute;\n    top: 50%;\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n    margin-left: 0%;\n  }\n`;\n\nconst FiscalSponsorDivider = styled.div`\n  margin-left: 18px;\n  width: 5px;\n  height: 37px;\n  background-color: #f5ec57;\n\n  @media (${tabletScreens}) {\n    height: 110px;\n    margin-left: 27%;\n  }\n`;\n\nconst FiscalSponsorText = styled.div`\n  margin-left: 6px;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 18px;\n  color: #1e1e1e;\n`;\n\nconst Border = styled.div`\n  width: 100%;\n  height: 1px;\n  border-bottom: 1px solid #e5e5e5;\n`;\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport YouTube from 'react-youtube';\nimport { Options } from 'react-youtube';\n\ninterface Props {\n  videoId: string;\n}\n\nconst VideoComponent = ({ videoId }: Props) => {\n  // https://usehooks.com/useWindowSize/\n  const useWindowSize = () => {\n    const [windowSize, setWindowSize] = useState({\n      width: 0,\n      height: 0,\n    });\n\n    useEffect(() => {\n      function handleResize() {\n        setWindowSize({\n          width: window.innerWidth,\n          height: window.innerHeight,\n        });\n      }\n\n      window.addEventListener('resize', handleResize);\n      handleResize();\n\n      return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowSize;\n  };\n\n  const size = useWindowSize();\n  const width = Math.min(size.width * 0.8, 1200);\n  const height = width / 2;\n  const opts: Options = {\n    height: height.toString(),\n    width: width.toString(),\n    playerVars: {\n      autoplay: 0,\n    },\n  };\n\n  return <YouTube videoId={videoId} opts={opts} />;\n};\n\nexport default VideoComponent;\n","import React, { useEffect, useState } from 'react';\nimport styles from './styles.module.scss';\nimport { getCampaigns } from '../../../utilities/api';\nimport illustrated_flatlay_hero from '../images/illustrated_flatlay_hero.png';\nimport CampaignInstructions from './CampaignInstructions';\nimport NoActiveCampaignsBox from './NoCampaignsBox';\nimport CampaignListItem from './CampaignListItem';\nimport VideoComponent from './VideoComponent';\nimport { useTranslation } from 'react-i18next';\n\ninterface Props {\n  menuOpen: boolean;\n}\n\nconst GiftAMealPage = (props: Props) => {\n  const { t } = useTranslation();\n\n  const [activeCampaigns, setActiveCampaigns] = useState([]);\n  const [pastCampaigns, setPastCampaigns] = useState([]);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n\n  const fetchData = async () => {\n    const campaignData = await getCampaigns();\n    const active = campaignData.data.filter(\n      (campaign: any) => campaign.active && campaign.valid\n    );\n    setActiveCampaigns(active);\n    const past = campaignData.data\n      .filter((campaign: any) => !campaign.active)\n      .reverse();\n    setPastCampaigns(past);\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div\n      className={styles.container}\n      style={{ display: props.menuOpen ? 'none' : 'inherit' }}\n    >\n      <div className={styles.header}>\n        <img\n          src={illustrated_flatlay_hero}\n          className={styles.hero}\n          alt=\"meal overlay illustration\"\n        />\n        <div className={styles.headerText}>\n          <h3 style={{ fontWeight: 'bolder' }}>{t('gamHome.header')}</h3>\n          <p>{t('gamHome.description')}</p>\n        </div>\n        <CampaignInstructions />\n      </div>\n      <br />\n      <button\n        className={styles.backButton}\n        onClick={(e) => {\n          e.preventDefault();\n          window.location.href = '/all';\n        }}\n      >\n        {t('gamHome.backButton')}\n      </button>\n      {activeCampaigns.length ? (\n        <>\n          <h5 className={styles.campaignHeader}>\n            {t('gamHome.activeSection')}\n          </h5>\n          {activeCampaigns.map((campaign: any) => (\n            <CampaignListItem\n              campaign={campaign}\n              key={campaign.id}\n              selectedCampaign={selectedCampaign}\n              setSelectedCampaign={setSelectedCampaign}\n            />\n          ))}\n        </>\n      ) : (\n        <NoActiveCampaignsBox />\n      )}\n\n      <div className={styles.videoContainer}>\n        <VideoComponent videoId=\"3zbqvouILto\"></VideoComponent>\n        <h5 className={styles.videoDescription}>\n          {t('gamHome.videoBox.caption')}\n        </h5>\n      </div>\n\n      <h5 className={styles.campaignHeader}>{t('gamHome.pastSection')}</h5>\n      {pastCampaigns.map((campaign: any) => (\n        <CampaignListItem\n          campaign={campaign}\n          key={campaign.id}\n          selectedCampaign={selectedCampaign}\n          setSelectedCampaign={setSelectedCampaign}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default GiftAMealPage;\n"],"sourceRoot":""}